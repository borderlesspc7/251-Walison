(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function qR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zg={exports:{}},Nh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function GR(){if(kE)return Nh;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:o}}return Nh.Fragment=e,Nh.jsx=r,Nh.jsxs=r,Nh}var OE;function $R(){return OE||(OE=1,zg.exports=GR()),zg.exports}var l=$R(),Hg={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function WR(){if(PE)return ut;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(ee){return ee===null||typeof ee!="object"?null:(ee=x&&ee[x]||ee["@@iterator"],typeof ee=="function"?ee:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function b(ee,Ee,K){this.props=ee,this.context=Ee,this.refs=T,this.updater=K||E}b.prototype.isReactComponent={},b.prototype.setState=function(ee,Ee){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,Ee,"setState")},b.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function D(){}D.prototype=b.prototype;function k(ee,Ee,K){this.props=ee,this.context=Ee,this.refs=T,this.updater=K||E}var V=k.prototype=new D;V.constructor=k,w(V,b.prototype),V.isPureReactComponent=!0;var W=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function I(ee,Ee,K,te,Z,re){return K=re.ref,{$$typeof:t,type:ee,key:Ee,ref:K!==void 0?K:null,props:re}}function A(ee,Ee){return I(ee.type,Ee,void 0,void 0,void 0,ee.props)}function C(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function P(ee){var Ee={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(K){return Ee[K]})}var N=/\/+/g;function O(ee,Ee){return typeof ee=="object"&&ee!==null&&ee.key!=null?P(""+ee.key):Ee.toString(36)}function L(){}function We(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(L,L):(ee.status="pending",ee.then(function(Ee){ee.status==="pending"&&(ee.status="fulfilled",ee.value=Ee)},function(Ee){ee.status==="pending"&&(ee.status="rejected",ee.reason=Ee)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function He(ee,Ee,K,te,Z){var re=typeof ee;(re==="undefined"||re==="boolean")&&(ee=null);var he=!1;if(ee===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(ee.$$typeof){case t:case e:he=!0;break;case g:return he=ee._init,He(he(ee._payload),Ee,K,te,Z)}}if(he)return Z=Z(ee),he=te===""?"."+O(ee,0):te,W(Z)?(K="",he!=null&&(K=he.replace(N,"$&/")+"/"),He(Z,Ee,K,"",function(De){return De})):Z!=null&&(C(Z)&&(Z=A(Z,K+(Z.key==null||ee&&ee.key===Z.key?"":(""+Z.key).replace(N,"$&/")+"/")+he)),Ee.push(Z)),1;he=0;var Fe=te===""?".":te+":";if(W(ee))for(var ae=0;ae<ee.length;ae++)te=ee[ae],re=Fe+O(te,ae),he+=He(te,Ee,K,re,Z);else if(ae=y(ee),typeof ae=="function")for(ee=ae.call(ee),ae=0;!(te=ee.next()).done;)te=te.value,re=Fe+O(te,ae++),he+=He(te,Ee,K,re,Z);else if(re==="object"){if(typeof ee.then=="function")return He(We(ee),Ee,K,te,Z);throw Ee=String(ee),Error("Objects are not valid as a React child (found: "+(Ee==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":Ee)+"). If you meant to render a collection of children, use an array instead.")}return he}function de(ee,Ee,K){if(ee==null)return ee;var te=[],Z=0;return He(ee,te,"","",function(re){return Ee.call(K,re,Z++)}),te}function Ce(ee){if(ee._status===-1){var Ee=ee._result;Ee=Ee(),Ee.then(function(K){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=K)},function(K){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=K)}),ee._status===-1&&(ee._status=0,ee._result=Ee)}if(ee._status===1)return ee._result.default;throw ee._result}var ze=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(Ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function Je(){}return ut.Children={map:de,forEach:function(ee,Ee,K){de(ee,function(){Ee.apply(this,arguments)},K)},count:function(ee){var Ee=0;return de(ee,function(){Ee++}),Ee},toArray:function(ee){return de(ee,function(Ee){return Ee})||[]},only:function(ee){if(!C(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},ut.Component=b,ut.Fragment=r,ut.Profiler=a,ut.PureComponent=k,ut.StrictMode=n,ut.Suspense=m,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ut.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return z.H.useMemoCache(ee)}},ut.cache=function(ee){return function(){return ee.apply(null,arguments)}},ut.cloneElement=function(ee,Ee,K){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var te=w({},ee.props),Z=ee.key,re=void 0;if(Ee!=null)for(he in Ee.ref!==void 0&&(re=void 0),Ee.key!==void 0&&(Z=""+Ee.key),Ee)!Q.call(Ee,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Ee.ref===void 0||(te[he]=Ee[he]);var he=arguments.length-2;if(he===1)te.children=K;else if(1<he){for(var Fe=Array(he),ae=0;ae<he;ae++)Fe[ae]=arguments[ae+2];te.children=Fe}return I(ee.type,Z,void 0,void 0,re,te)},ut.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},ut.createElement=function(ee,Ee,K){var te,Z={},re=null;if(Ee!=null)for(te in Ee.key!==void 0&&(re=""+Ee.key),Ee)Q.call(Ee,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Z[te]=Ee[te]);var he=arguments.length-2;if(he===1)Z.children=K;else if(1<he){for(var Fe=Array(he),ae=0;ae<he;ae++)Fe[ae]=arguments[ae+2];Z.children=Fe}if(ee&&ee.defaultProps)for(te in he=ee.defaultProps,he)Z[te]===void 0&&(Z[te]=he[te]);return I(ee,re,void 0,void 0,null,Z)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(ee){return{$$typeof:h,render:ee}},ut.isValidElement=C,ut.lazy=function(ee){return{$$typeof:g,_payload:{_status:-1,_result:ee},_init:Ce}},ut.memo=function(ee,Ee){return{$$typeof:f,type:ee,compare:Ee===void 0?null:Ee}},ut.startTransition=function(ee){var Ee=z.T,K={};z.T=K;try{var te=ee(),Z=z.S;Z!==null&&Z(K,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Je,ze)}catch(re){ze(re)}finally{z.T=Ee}},ut.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ut.use=function(ee){return z.H.use(ee)},ut.useActionState=function(ee,Ee,K){return z.H.useActionState(ee,Ee,K)},ut.useCallback=function(ee,Ee){return z.H.useCallback(ee,Ee)},ut.useContext=function(ee){return z.H.useContext(ee)},ut.useDebugValue=function(){},ut.useDeferredValue=function(ee,Ee){return z.H.useDeferredValue(ee,Ee)},ut.useEffect=function(ee,Ee,K){var te=z.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(ee,Ee)},ut.useId=function(){return z.H.useId()},ut.useImperativeHandle=function(ee,Ee,K){return z.H.useImperativeHandle(ee,Ee,K)},ut.useInsertionEffect=function(ee,Ee){return z.H.useInsertionEffect(ee,Ee)},ut.useLayoutEffect=function(ee,Ee){return z.H.useLayoutEffect(ee,Ee)},ut.useMemo=function(ee,Ee){return z.H.useMemo(ee,Ee)},ut.useOptimistic=function(ee,Ee){return z.H.useOptimistic(ee,Ee)},ut.useReducer=function(ee,Ee,K){return z.H.useReducer(ee,Ee,K)},ut.useRef=function(ee){return z.H.useRef(ee)},ut.useState=function(ee){return z.H.useState(ee)},ut.useSyncExternalStore=function(ee,Ee,K){return z.H.useSyncExternalStore(ee,Ee,K)},ut.useTransition=function(){return z.H.useTransition()},ut.version="19.1.1",ut}var ME;function Jv(){return ME||(ME=1,Hg.exports=WR()),Hg.exports}var H=Jv();const fl=qR(H);var qg={exports:{}},Ah={},Gg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function YR(){return FE||(FE=1,(function(t){function e(de,Ce){var ze=de.length;de.push(Ce);e:for(;0<ze;){var Je=ze-1>>>1,ee=de[Je];if(0<a(ee,Ce))de[Je]=Ce,de[ze]=ee,ze=Je;else break e}}function r(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var Ce=de[0],ze=de.pop();if(ze!==Ce){de[0]=ze;e:for(var Je=0,ee=de.length,Ee=ee>>>1;Je<Ee;){var K=2*(Je+1)-1,te=de[K],Z=K+1,re=de[Z];if(0>a(te,ze))Z<ee&&0>a(re,te)?(de[Je]=re,de[Z]=ze,Je=Z):(de[Je]=te,de[K]=ze,Je=K);else if(Z<ee&&0>a(re,ze))de[Je]=re,de[Z]=ze,Je=Z;else break e}}return Ce}function a(de,Ce){var ze=de.sortIndex-Ce.sortIndex;return ze!==0?ze:de.id-Ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],f=[],g=1,x=null,y=3,E=!1,w=!1,T=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function W(de){for(var Ce=r(f);Ce!==null;){if(Ce.callback===null)n(f);else if(Ce.startTime<=de)n(f),Ce.sortIndex=Ce.expirationTime,e(m,Ce);else break;Ce=r(f)}}function z(de){if(T=!1,W(de),!w)if(r(m)!==null)w=!0,Q||(Q=!0,O());else{var Ce=r(f);Ce!==null&&He(z,Ce.startTime-de)}}var Q=!1,I=-1,A=5,C=-1;function P(){return b?!0:!(t.unstable_now()-C<A)}function N(){if(b=!1,Q){var de=t.unstable_now();C=de;var Ce=!0;try{e:{w=!1,T&&(T=!1,k(I),I=-1),E=!0;var ze=y;try{t:{for(W(de),x=r(m);x!==null&&!(x.expirationTime>de&&P());){var Je=x.callback;if(typeof Je=="function"){x.callback=null,y=x.priorityLevel;var ee=Je(x.expirationTime<=de);if(de=t.unstable_now(),typeof ee=="function"){x.callback=ee,W(de),Ce=!0;break t}x===r(m)&&n(m),W(de)}else n(m);x=r(m)}if(x!==null)Ce=!0;else{var Ee=r(f);Ee!==null&&He(z,Ee.startTime-de),Ce=!1}}break e}finally{x=null,y=ze,E=!1}Ce=void 0}}finally{Ce?O():Q=!1}}}var O;if(typeof V=="function")O=function(){V(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,We=L.port2;L.port1.onmessage=N,O=function(){We.postMessage(null)}}else O=function(){D(N,0)};function He(de,Ce){I=D(function(){de(t.unstable_now())},Ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(de){switch(y){case 1:case 2:case 3:var Ce=3;break;default:Ce=y}var ze=y;y=Ce;try{return de()}finally{y=ze}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(de,Ce){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ze=y;y=de;try{return Ce()}finally{y=ze}},t.unstable_scheduleCallback=function(de,Ce,ze){var Je=t.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Je+ze:Je):ze=Je,de){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ze+ee,de={id:g++,callback:Ce,priorityLevel:de,startTime:ze,expirationTime:ee,sortIndex:-1},ze>Je?(de.sortIndex=ze,e(f,de),r(m)===null&&de===r(f)&&(T?(k(I),I=-1):T=!0,He(z,ze-Je))):(de.sortIndex=ee,e(m,de),w||E||(w=!0,Q||(Q=!0,O()))),de},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(de){var Ce=y;return function(){var ze=y;y=Ce;try{return de.apply(this,arguments)}finally{y=ze}}}})($g)),$g}var LE;function KR(){return LE||(LE=1,Gg.exports=YR()),Gg.exports}var Wg={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function XR(){if(VE)return pn;VE=1;var t=Jv();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:f,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pn.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(m,f,null,g)},pn.flushSync=function(m){var f=c.T,g=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=f,n.p=g,n.d.f()}},pn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(m,f))},pn.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},pn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,x=h(g,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:E}):g==="script"&&n.d.X(m,{crossOrigin:x,integrity:y,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);n.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(m)},pn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=h(g,f.crossOrigin);n.d.L(m,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pn.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=h(f.as,f.crossOrigin);n.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(m)},pn.requestFormReset=function(m){n.d.r(m)},pn.unstable_batchedUpdates=function(m,f){return m(f)},pn.useFormState=function(m,f,g){return c.H.useFormState(m,f,g)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.1.1",pn}var BE;function QR(){if(BE)return Wg.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=XR(),Wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function JR(){if(UE)return Ah;UE=1;var t=KR(),e=Jv(),r=QR();function n(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(n(188))}function m(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(n(188));return i!==s?null:s}for(var u=s,d=i;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return h(v),s;if(_===d)return h(v),i;_=_.sibling}throw Error(n(188))}if(u.return!==d.return)u=v,d=_;else{for(var j=!1,F=v.child;F;){if(F===u){j=!0,u=v,d=_;break}if(F===d){j=!0,d=v,u=_;break}F=F.sibling}if(!j){for(F=_.child;F;){if(F===u){j=!0,u=_,d=v;break}if(F===d){j=!0,d=_,u=v;break}F=F.sibling}if(!j)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:i}function f(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=f(s),i!==null)return i;s=s.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),V=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function We(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case b:return"Profiler";case T:return"StrictMode";case z:return"Suspense";case Q:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case V:return(s.displayName||"Context")+".Provider";case k:return(s._context.displayName||"Context")+".Consumer";case W:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return i=s.displayName||null,i!==null?i:We(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return We(s(i))}catch{}}return null}var He=Array.isArray,de=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze={pending:!1,data:null,method:null,action:null},Je=[],ee=-1;function Ee(s){return{current:s}}function K(s){0>ee||(s.current=Je[ee],Je[ee]=null,ee--)}function te(s,i){ee++,Je[ee]=s.current,s.current=i}var Z=Ee(null),re=Ee(null),he=Ee(null),Fe=Ee(null);function ae(s,i){switch(te(he,i),te(re,s),te(Z,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?oE(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=oE(i),s=lE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(Z),te(Z,s)}function De(){K(Z),K(re),K(he)}function ke(s){s.memoizedState!==null&&te(Fe,s);var i=Z.current,u=lE(i,s.type);i!==u&&(te(re,s),te(Z,u))}function ft(s){re.current===s&&(K(Z),K(re)),Fe.current===s&&(K(Fe),Eh._currentValue=ze)}var ht=Object.prototype.hasOwnProperty,ir=t.unstable_scheduleCallback,gt=t.unstable_cancelCallback,Gn=t.unstable_shouldYield,Ht=t.unstable_requestPaint,Le=t.unstable_now,Qr=t.unstable_getCurrentPriorityLevel,Ot=t.unstable_ImmediatePriority,Qt=t.unstable_UserBlockingPriority,dn=t.unstable_NormalPriority,Hl=t.unstable_LowPriority,Rs=t.unstable_IdlePriority,In=t.log,ua=t.unstable_setDisableYieldValue,ha=null,Tr=null;function wr(s){if(typeof In=="function"&&ua(s),Tr&&typeof Tr.setStrictMode=="function")try{Tr.setStrictMode(ha,s)}catch{}}var Jr=Math.clz32?Math.clz32:ko,ql=Math.log,Io=Math.LN2;function ko(s){return s>>>=0,s===0?32:31-(ql(s)/Io|0)|0}var $n=256,Ia=4194304;function kn(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function On(s,i,u){var d=s.pendingLanes;if(d===0)return 0;var v=0,_=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var F=d&134217727;return F!==0?(d=F&~_,d!==0?v=kn(d):(j&=F,j!==0?v=kn(j):u||(u=F&~s,u!==0&&(v=kn(u))))):(F=d&~_,F!==0?v=kn(F):j!==0?v=kn(j):u||(u=d&~s,u!==0&&(v=kn(u)))),v===0?0:i!==0&&i!==v&&(i&_)===0&&(_=v&-v,u=i&-i,_>=u||_===32&&(u&4194048)!==0)?i:v}function rs(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function js(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var s=$n;return $n<<=1,($n&4194048)===0&&($n=256),s}function ka(){var s=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),s}function xi(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function or(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ds(s,i,u,d,v,_){var j=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var F=s.entanglements,J=s.expirationTimes,ue=s.hiddenUpdates;for(u=j&~u;0<u;){var _e=31-Jr(u),Se=1<<_e;F[_e]=0,J[_e]=-1;var pe=ue[_e];if(pe!==null)for(ue[_e]=null,_e=0;_e<pe.length;_e++){var ge=pe[_e];ge!==null&&(ge.lane&=-536870913)}u&=~Se}d!==0&&ns(s,d,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(j&~i))}function ns(s,i,u){s.pendingLanes|=i,s.suspendedLanes&=~i;var d=31-Jr(i);s.entangledLanes|=i,s.entanglements[d]=s.entanglements[d]|1073741824|u&4194090}function as(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var d=31-Jr(u),v=1<<d;v&i|s[d]&i&&(s[d]|=i),u&=~v}}function Oo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Po(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Oa(){var s=Ce.p;return s!==0?s:(s=window.event,s===void 0?32:AE(s.type))}function bu(s,i){var u=Ce.p;try{return Ce.p=s,i()}finally{Ce.p=u}}var da=Math.random().toString(36).slice(2),lr="__reactFiber$"+da,gr="__reactProps$"+da,Pa="__reactContainer$"+da,Is="__reactEvents$"+da,ks="__reactListeners$"+da,M="__reactHandles$"+da,G="__reactResources$"+da,U="__reactMarker$"+da;function q(s){delete s[lr],delete s[gr],delete s[Is],delete s[ks],delete s[M]}function Y(s){var i=s[lr];if(i)return i;for(var u=s.parentNode;u;){if(i=u[Pa]||u[lr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=dE(s);s!==null;){if(u=s[lr])return u;s=dE(s)}return i}s=u,u=s.parentNode}return null}function X(s){if(s=s[lr]||s[Pa]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function ce(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(n(33))}function xe(s){var i=s[G];return i||(i=s[G]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(s){s[U]=!0}var fe=new Set,me={};function Ae(s,i){Ie(s,i),Ie(s+"Capture",i)}function Ie(s,i){for(me[s]=i,s=0;s<i.length;s++)fe.add(i[s])}var Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Re={},Ve={};function st(s){return ht.call(Ve,s)?!0:ht.call(Re,s)?!1:Be.test(s)?Ve[s]=!0:(Re[s]=!0,!1)}function Ct(s,i,u){if(st(i))if(u===null)s.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+u)}}function Rt(s,i,u){if(u===null)s.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+u)}}function Pt(s,i,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(i,u,""+d)}}var Wn,fa;function wn(s){if(Wn===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);Wn=i&&i[1]||"",fa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wn+s+fa}var Pn=!1;function ss(s,i){if(!s||Pn)return"";Pn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var pe=ge}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(ge){pe=ge}s.call(Se.prototype)}}else{try{throw Error()}catch(ge){pe=ge}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&pe&&typeof ge.stack=="string")return[ge.stack,pe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),j=_[0],F=_[1];if(j&&F){var J=j.split(`
`),ue=F.split(`
`);for(v=d=0;d<J.length&&!J[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(d===J.length||v===ue.length)for(d=J.length-1,v=ue.length-1;1<=d&&0<=v&&J[d]!==ue[v];)v--;for(;1<=d&&0<=v;d--,v--)if(J[d]!==ue[v]){if(d!==1||v!==1)do if(d--,v--,0>v||J[d]!==ue[v]){var _e=`
`+J[d].replace(" at new "," at ");return s.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",s.displayName)),_e}while(1<=d&&0<=v);break}}}finally{Pn=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?wn(u):""}function Yn(s){switch(s.tag){case 26:case 27:case 5:return wn(s.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return ss(s.type,!1);case 11:return ss(s.type.render,!1);case 1:return ss(s.type,!0);case 31:return wn("Activity");default:return""}}function Ma(s){try{var i="";do i+=Yn(s),s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function cr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function yi(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(s){var i=yi(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return v.call(this)},set:function(j){d=""+j,_.call(this,j)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function _i(s){s._valueTracker||(s._valueTracker=Mo(s))}function qt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),d="";return s&&(d=yi(s)?s.checked?"true":"false":s.value),s=d,s!==u?(i.setValue(s),!0):!1}function Os(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Fo=/[\n"\\]/g;function Vr(s){return s.replace(Fo,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nu(s,i,u,d,v,_,j,F){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),i!=null?j==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+cr(i)):s.value!==""+cr(i)&&(s.value=""+cr(i)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),i!=null?Cu(s,j,cr(i)):u!=null?Cu(s,j,cr(u)):d!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+cr(F):s.removeAttribute("name")}function Au(s,i,u,d,v,_,j,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),i!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;u=u!=null?""+cr(u):"",i=i!=null?""+cr(i):u,F||i===s.value||(s.value=i),s.defaultValue=i}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=F?s.checked:!!d,s.defaultChecked=!!d,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function Cu(s,i,u){i==="number"&&Os(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ei(s,i,u,d){if(s=s.options,i){i={};for(var v=0;v<u.length;v++)i["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=i.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&d&&(s[u].defaultSelected=!0)}else{for(u=""+cr(u),i=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}i!==null||s[v].disabled||(i=s[v])}i!==null&&(i.selected=!0)}}function Hd(s,i,u){if(i!=null&&(i=""+cr(i),i!==s.value&&(s.value=i),u==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=u!=null?""+cr(u):""}function qd(s,i,u,d){if(i==null){if(d!=null){if(u!=null)throw Error(n(92));if(He(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),i=u}u=cr(i),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d)}function ma(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(s,i,u){var d=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":d?s.setProperty(i,u):typeof u!="number"||u===0||Ps.has(i)?i==="float"?s.cssFloat=u:s[i]=(""+u).trim():s[i]=u+"px"}function ju(s,i,u){if(i!=null&&typeof i!="object")throw Error(n(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in i)d=i[v],i.hasOwnProperty(v)&&u[v]!==d&&Ru(s,v,d)}else for(var _ in i)i.hasOwnProperty(_)&&Ru(s,_,i[_])}function Gl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(s){return $d.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Du=null;function Iu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ti=null,Sn=null;function Wd(s){var i=X(s);if(i&&(s=i.stateNode)){var u=s[gr]||null;e:switch(s=i.stateNode,i.type){case"input":if(Nu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vr(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var d=u[i];if(d!==s&&d.form===s.form){var v=d[gr]||null;if(!v)throw Error(n(90));Nu(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<u.length;i++)d=u[i],d.form===s.form&&qt(d)}break e;case"textarea":Hd(s,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&Ei(s,!!u.multiple,i,!1)}}}var Lo=!1;function Vo(s,i,u){if(Lo)return s(i,u);Lo=!0;try{var d=s(i);return d}finally{if(Lo=!1,(Ti!==null||Sn!==null)&&(Ff(),Ti&&(i=Ti,s=Sn,Sn=Ti=null,Wd(i),s)))for(i=0;i<s.length;i++)Wd(s[i])}}function wi(s,i){var u=s.stateNode;if(u===null)return null;var d=u[gr]||null;if(d===null)return null;u=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(bn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Ms=!1}var pa=null,Jt=null,$l=null;function Yd(){if($l)return $l;var s,i=Jt,u=i.length,d,v="value"in pa?pa.value:pa.textContent,_=v.length;for(s=0;s<u&&i[s]===v[s];s++);var j=u-s;for(d=1;d<=j&&i[u-d]===v[_-d];d++);return $l=v.slice(s,1<d?1-d:void 0)}function Bo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Uo(){return!0}function ku(){return!1}function kr(s){function i(u,d,v,_,j){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=j,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Uo:ku,this.isPropagationStopped=ku,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),i}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=kr(fn),Ho=g({},fn,{view:0,detail:0}),qo=kr(Ho),Wl,Go,is,$o=g({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==is&&(is&&s.type==="mousemove"?(Wl=s.screenX-is.screenX,Go=s.screenY-is.screenY):Go=Wl=0,is=s),Wl)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),Wo=kr($o),Qm=g({},$o,{dataTransfer:0}),Kd=kr(Qm),Yo=g({},Ho,{relatedTarget:0}),Yl=kr(Yo),Xd=g({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=kr(Xd),Pu=g({},fn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qd=kr(Pu),Kl=g({},fn,{data:0}),Mu=kr(Kl),Jd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Zd[s])?!!i[s]:!1}function Xl(){return ef}var tf=g({},Ho,{key:function(s){if(s.key){var i=Jd[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Bo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(s){return s.type==="keypress"?Bo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ql=kr(tf),Nn=g({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=kr(Nn),rf=g({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),bi=kr(rf),p=g({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=kr(p),R=g({},$o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),B=kr(R),le=g({},fn,{newState:0,oldState:0}),ve=kr(le),Me=[9,13,27,32],ot=bn&&"CompositionEvent"in window,tr=null;bn&&"documentMode"in document&&(tr=document.documentMode);var Mt=bn&&"TextEvent"in window&&!tr,vr=bn&&(!ot||tr&&8<tr&&11>=tr),Kn=" ",os=!1;function La(s,i){switch(s){case"keyup":return Me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ba=!1;function Lu(s,i){switch(s){case"compositionend":return Va(i);case"keypress":return i.which!==32?null:(os=!0,Kn);case"textInput":return s=i.data,s===Kn&&os?null:s;default:return null}}function vC(s,i){if(Ba)return s==="compositionend"||!ot&&La(s,i)?(s=Yd(),$l=Jt=pa=null,Ba=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vr&&i.locale!=="ko"?null:i.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!xC[s.type]:i==="textarea"}function Tx(s,i,u,d){Ti?Sn?Sn.push(d):Sn=[d]:Ti=d,i=Hf(i,"onChange"),0<i.length&&(u=new zo("onChange","change",null,u,d),s.push({event:u,listeners:i}))}var Vu=null,Bu=null;function yC(s){rE(s,0)}function nf(s){var i=ce(s);if(qt(i))return s}function wx(s,i){if(s==="change")return i}var Sx=!1;if(bn){var Jm;if(bn){var Zm="oninput"in document;if(!Zm){var bx=document.createElement("div");bx.setAttribute("oninput","return;"),Zm=typeof bx.oninput=="function"}Jm=Zm}else Jm=!1;Sx=Jm&&(!document.documentMode||9<document.documentMode)}function Nx(){Vu&&(Vu.detachEvent("onpropertychange",Ax),Bu=Vu=null)}function Ax(s){if(s.propertyName==="value"&&nf(Bu)){var i=[];Tx(i,Bu,s,Iu(s)),Vo(yC,i)}}function _C(s,i,u){s==="focusin"?(Nx(),Vu=i,Bu=u,Vu.attachEvent("onpropertychange",Ax)):s==="focusout"&&Nx()}function EC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nf(Bu)}function TC(s,i){if(s==="click")return nf(i)}function wC(s,i){if(s==="input"||s==="change")return nf(i)}function SC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Xn=typeof Object.is=="function"?Object.is:SC;function Uu(s,i){if(Xn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),d=Object.keys(i);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!ht.call(i,v)||!Xn(s[v],i[v]))return!1}return!0}function Cx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rx(s,i){var u=Cx(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=i&&d>=i)return{node:u,offset:i-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cx(u)}}function jx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?jx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Dx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Os(s.document);i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=Os(s.document)}return i}function ep(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var bC=bn&&"documentMode"in document&&11>=document.documentMode,Jl=null,tp=null,zu=null,rp=!1;function Ix(s,i,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rp||Jl==null||Jl!==Os(d)||(d=Jl,"selectionStart"in d&&ep(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),zu&&Uu(zu,d)||(zu=d,d=Hf(tp,"onSelect"),0<d.length&&(i=new zo("onSelect","select",null,i,u),s.push({event:i,listeners:d}),i.target=Jl)))}function Ko(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var Zl={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionrun:Ko("Transition","TransitionRun"),transitionstart:Ko("Transition","TransitionStart"),transitioncancel:Ko("Transition","TransitionCancel"),transitionend:Ko("Transition","TransitionEnd")},np={},kx={};bn&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Xo(s){if(np[s])return np[s];if(!Zl[s])return s;var i=Zl[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in kx)return np[s]=i[u];return s}var Ox=Xo("animationend"),Px=Xo("animationiteration"),Mx=Xo("animationstart"),NC=Xo("transitionrun"),AC=Xo("transitionstart"),CC=Xo("transitioncancel"),Fx=Xo("transitionend"),Lx=new Map,ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ap.push("scrollEnd");function Ua(s,i){Lx.set(s,i),Ae(i,[s])}var Vx=new WeakMap;function ga(s,i){if(typeof s=="object"&&s!==null){var u=Vx.get(s);return u!==void 0?u:(i={value:s,source:i,stack:Ma(i)},Vx.set(s,i),i)}return{value:s,source:i,stack:Ma(i)}}var va=[],ec=0,sp=0;function af(){for(var s=ec,i=sp=ec=0;i<s;){var u=va[i];va[i++]=null;var d=va[i];va[i++]=null;var v=va[i];va[i++]=null;var _=va[i];if(va[i++]=null,d!==null&&v!==null){var j=d.pending;j===null?v.next=v:(v.next=j.next,j.next=v),d.pending=v}_!==0&&Bx(u,v,_)}}function sf(s,i,u,d){va[ec++]=s,va[ec++]=i,va[ec++]=u,va[ec++]=d,sp|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function ip(s,i,u,d){return sf(s,i,u,d),of(s)}function tc(s,i){return sf(s,null,null,i),of(s)}function Bx(s,i,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var v=!1,_=s.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&i!==null&&(v=31-Jr(u),s=_.hiddenUpdates,d=s[v],d===null?s[v]=[i]:d.push(i),i.lane=u|536870912),_):null}function of(s){if(50<fh)throw fh=0,dg=null,Error(n(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var rc={};function RC(s,i,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,i,u,d){return new RC(s,i,u,d)}function op(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ls(s,i){var u=s.alternate;return u===null?(u=Qn(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Ux(s,i){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,i=u.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function lf(s,i,u,d,v,_){var j=0;if(d=s,typeof s=="function")op(s)&&(j=1);else if(typeof s=="string")j=DR(s,u,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Qn(31,u,i,v),s.elementType=C,s.lanes=_,s;case w:return Qo(u.children,v,_,i);case T:j=8,v|=24;break;case b:return s=Qn(12,u,i,v|2),s.elementType=b,s.lanes=_,s;case z:return s=Qn(13,u,i,v),s.elementType=z,s.lanes=_,s;case Q:return s=Qn(19,u,i,v),s.elementType=Q,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case V:j=10;break e;case k:j=9;break e;case W:j=11;break e;case I:j=14;break e;case A:j=16,d=null;break e}j=29,u=Error(n(130,s===null?"null":typeof s,"")),d=null}return i=Qn(j,u,i,v),i.elementType=s,i.type=d,i.lanes=_,i}function Qo(s,i,u,d){return s=Qn(7,s,d,i),s.lanes=u,s}function lp(s,i,u){return s=Qn(6,s,null,i),s.lanes=u,s}function cp(s,i,u){return i=Qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nc=[],ac=0,cf=null,uf=0,xa=[],ya=0,Jo=null,Vs=1,Bs="";function Zo(s,i){nc[ac++]=uf,nc[ac++]=cf,cf=s,uf=i}function zx(s,i,u){xa[ya++]=Vs,xa[ya++]=Bs,xa[ya++]=Jo,Jo=s;var d=Vs;s=Bs;var v=32-Jr(d)-1;d&=~(1<<v),u+=1;var _=32-Jr(i)+v;if(30<_){var j=v-v%5;_=(d&(1<<j)-1).toString(32),d>>=j,v-=j,Vs=1<<32-Jr(i)+v|u<<v|d,Bs=_+s}else Vs=1<<_|u<<v|d,Bs=s}function up(s){s.return!==null&&(Zo(s,1),zx(s,1,0))}function hp(s){for(;s===cf;)cf=nc[--ac],nc[ac]=null,uf=nc[--ac],nc[ac]=null;for(;s===Jo;)Jo=xa[--ya],xa[ya]=null,Bs=xa[--ya],xa[ya]=null,Vs=xa[--ya],xa[ya]=null}var An=null,dr=null,jt=!1,el=null,ls=!1,dp=Error(n(519));function tl(s){var i=Error(n(418,""));throw Gu(ga(i,s)),dp}function Hx(s){var i=s.stateNode,u=s.type,d=s.memoizedProps;switch(i[lr]=s,i[gr]=d,u){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(u=0;u<ph.length;u++)xt(ph[u],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),Au(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),_i(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),qd(i,d.value,d.defaultValue,d.children),_i(i)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||d.suppressHydrationWarning===!0||iE(i.textContent,u)?(d.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),d.onScroll!=null&&xt("scroll",i),d.onScrollEnd!=null&&xt("scrollend",i),d.onClick!=null&&(i.onclick=qf),i=!0):i=!1,i||tl(s)}function qx(s){for(An=s.return;An;)switch(An.tag){case 5:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:An=An.return}}function Hu(s){if(s!==An)return!1;if(!jt)return qx(s),jt=!0,!1;var i=s.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Cg(s.type,s.memoizedProps)),u=!u),u&&dr&&tl(s),qx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(i===0){dr=Ha(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++;s=s.nextSibling}dr=null}}else i===27?(i=dr,Ui(s.type)?(s=Ig,Ig=null,dr=s):dr=i):dr=An?Ha(s.stateNode.nextSibling):null;return!0}function qu(){dr=An=null,jt=!1}function Gx(){var s=el;return s!==null&&(Ln===null?Ln=s:Ln.push.apply(Ln,s),el=null),s}function Gu(s){el===null?el=[s]:el.push(s)}var fp=Ee(null),rl=null,Us=null;function Ni(s,i,u){te(fp,i._currentValue),i._currentValue=u}function zs(s){s._currentValue=fp.current,K(fp)}function mp(s,i,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===u)break;s=s.return}}function pp(s,i,u,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var j=v.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=v;for(var J=0;J<i.length;J++)if(F.context===i[J]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),mp(_.return,u,s),d||(j=null);break e}_=F.next}}else if(v.tag===18){if(j=v.return,j===null)throw Error(n(341));j.lanes|=u,_=j.alternate,_!==null&&(_.lanes|=u),mp(j,u,s),j=null}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===s){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}}function $u(s,i,u,d){s=null;for(var v=i,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var j=v.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var F=v.type;Xn(v.pendingProps.value,j.value)||(s!==null?s.push(F):s=[F])}}else if(v===Fe.current){if(j=v.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Eh):s=[Eh])}v=v.return}s!==null&&pp(i,s,u,d),i.flags|=262144}function hf(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function nl(s){rl=s,Us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mn(s){return $x(rl,s)}function df(s,i){return rl===null&&nl(s),$x(s,i)}function $x(s,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},Us===null){if(s===null)throw Error(n(308));Us=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Us=Us.next=i;return u}var jC=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){i.aborted=!0,s.forEach(function(u){return u()})}},DC=t.unstable_scheduleCallback,IC=t.unstable_NormalPriority,Or={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new jC,data:new Map,refCount:0}}function Wu(s){s.refCount--,s.refCount===0&&DC(IC,function(){s.controller.abort()})}var Yu=null,vp=0,sc=0,ic=null;function kC(s,i){if(Yu===null){var u=Yu=[];vp=0,sc=yg(),ic={status:"pending",value:void 0,then:function(d){u.push(d)}}}return vp++,i.then(Wx,Wx),i}function Wx(){if(--vp===0&&Yu!==null){ic!==null&&(ic.status="fulfilled");var s=Yu;Yu=null,sc=0,ic=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function OC(s,i){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){d.status="fulfilled",d.value=i;for(var v=0;v<u.length;v++)(0,u[v])(i)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var Yx=de.S;de.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kC(s,i),Yx!==null&&Yx(s,i)};var al=Ee(null);function xp(){var s=al.current;return s!==null?s:Zt.pooledCache}function ff(s,i){i===null?te(al,al.current):te(al,i.pool)}function Kx(){var s=xp();return s===null?null:{parent:Or._currentValue,pool:s}}var Ku=Error(n(460)),Xx=Error(n(474)),mf=Error(n(542)),yp={then:function(){}};function Qx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pf(){}function Jx(s,i,u){switch(u=s[u],u===void 0?s.push(i):u!==i&&(i.then(pf,pf),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ey(s),s;default:if(typeof i.status=="string")i.then(pf,pf);else{if(s=Zt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=i,s.status="pending",s.then(function(d){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=d}},function(d){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ey(s),s}throw Xu=i,Ku}}var Xu=null;function Zx(){if(Xu===null)throw Error(n(459));var s=Xu;return Xu=null,s}function ey(s){if(s===Ku||s===mf)throw Error(n(483))}var Ai=!1;function _p(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ci(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(s,i,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ft&2)!==0){var v=d.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),d.pending=i,i=of(s),Bx(s,null,u),i}return sf(s,d,i,u),of(s)}function Qu(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var d=i.lanes;d&=s.pendingLanes,u|=d,i.lanes=u,as(s,u)}}function Tp(s,i){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var j={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=j:_=_.next=j,u=u.next}while(u!==null);_===null?v=_=i:_=_.next=i}else v=_=i;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}var wp=!1;function Ju(){if(wp){var s=ic;if(s!==null)throw s}}function Zu(s,i,u,d){wp=!1;var v=s.updateQueue;Ai=!1;var _=v.firstBaseUpdate,j=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var J=F,ue=J.next;J.next=null,j===null?_=ue:j.next=ue,j=J;var _e=s.alternate;_e!==null&&(_e=_e.updateQueue,F=_e.lastBaseUpdate,F!==j&&(F===null?_e.firstBaseUpdate=ue:F.next=ue,_e.lastBaseUpdate=J))}if(_!==null){var Se=v.baseState;j=0,_e=ue=J=null,F=_;do{var pe=F.lane&-536870913,ge=pe!==F.lane;if(ge?(Tt&pe)===pe:(d&pe)===pe){pe!==0&&pe===sc&&(wp=!0),_e!==null&&(_e=_e.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var at=s,Ze=F;pe=i;var Wt=u;switch(Ze.tag){case 1:if(at=Ze.payload,typeof at=="function"){Se=at.call(Wt,Se,pe);break e}Se=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Ze.payload,pe=typeof at=="function"?at.call(Wt,Se,pe):at,pe==null)break e;Se=g({},Se,pe);break e;case 2:Ai=!0}}pe=F.callback,pe!==null&&(s.flags|=64,ge&&(s.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[pe]:ge.push(pe))}else ge={lane:pe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},_e===null?(ue=_e=ge,J=Se):_e=_e.next=ge,j|=pe;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ge=F,F=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);_e===null&&(J=Se),v.baseState=J,v.firstBaseUpdate=ue,v.lastBaseUpdate=_e,_===null&&(v.shared.lanes=0),Fi|=j,s.lanes=j,s.memoizedState=Se}}function ty(s,i){if(typeof s!="function")throw Error(n(191,s));s.call(i)}function ry(s,i){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)ty(u[s],i)}var oc=Ee(null),gf=Ee(0);function ny(s,i){s=Ks,te(gf,s),te(oc,i),Ks=s|i.baseLanes}function Sp(){te(gf,Ks),te(oc,oc.current)}function bp(){Ks=gf.current,K(oc),K(gf)}var ji=0,mt=null,Gt=null,Sr=null,vf=!1,lc=!1,sl=!1,xf=0,eh=0,cc=null,PC=0;function xr(){throw Error(n(321))}function Np(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!Xn(s[u],i[u]))return!1;return!0}function Ap(s,i,u,d,v,_){return ji=_,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,de.H=s===null||s.memoizedState===null?By:Uy,sl=!1,_=u(d,v),sl=!1,lc&&(_=sy(i,u,d,v)),ay(s),_}function ay(s){de.H=Sf;var i=Gt!==null&&Gt.next!==null;if(ji=0,Sr=Gt=mt=null,vf=!1,eh=0,cc=null,i)throw Error(n(300));s===null||Br||(s=s.dependencies,s!==null&&hf(s)&&(Br=!0))}function sy(s,i,u,d){mt=s;var v=0;do{if(lc&&(cc=null),eh=0,lc=!1,25<=v)throw Error(n(301));if(v+=1,Sr=Gt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}de.H=zC,_=i(u,d)}while(lc);return _}function MC(){var s=de.H,i=s.useState()[0];return i=typeof i.then=="function"?th(i):i,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(mt.flags|=1024),i}function Cp(){var s=xf!==0;return xf=0,s}function Rp(s,i,u){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~u}function jp(s){if(vf){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}vf=!1}ji=0,Sr=Gt=mt=null,lc=!1,eh=xf=0,cc=null}function Mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?mt.memoizedState=Sr=s:Sr=Sr.next=s,Sr}function br(){if(Gt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var i=Sr===null?mt.memoizedState:Sr.next;if(i!==null)Sr=i,Gt=s;else{if(s===null)throw mt.alternate===null?Error(n(467)):Error(n(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Sr===null?mt.memoizedState=Sr=s:Sr=Sr.next=s}return Sr}function Dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(s){var i=eh;return eh+=1,cc===null&&(cc=[]),s=Jx(cc,s,i),i=mt,(Sr===null?i.memoizedState:Sr.next)===null&&(i=i.alternate,de.H=i===null||i.memoizedState===null?By:Uy),s}function yf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return th(s);if(s.$$typeof===V)return mn(s)}throw Error(n(438,String(s)))}function Ip(s){var i=null,u=mt.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var d=mt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=Dp(),mt.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(s),d=0;d<s;d++)u[d]=P;return i.index++,u}function Hs(s,i){return typeof i=="function"?i(s):i}function _f(s){var i=br();return kp(i,Gt,s)}function kp(s,i,u){var d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=u;var v=s.baseQueue,_=d.pending;if(_!==null){if(v!==null){var j=v.next;v.next=_.next,_.next=j}i.baseQueue=v=_,d.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{i=v.next;var F=j=null,J=null,ue=i,_e=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(Tt&Se)===Se:(ji&Se)===Se){var pe=ue.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===sc&&(_e=!0);else if((ji&pe)===pe){ue=ue.next,pe===sc&&(_e=!0);continue}else Se={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(F=J=Se,j=_):J=J.next=Se,mt.lanes|=pe,Fi|=pe;Se=ue.action,sl&&u(_,Se),_=ue.hasEagerState?ue.eagerState:u(_,Se)}else pe={lane:Se,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(F=J=pe,j=_):J=J.next=pe,mt.lanes|=Se,Fi|=Se;ue=ue.next}while(ue!==null&&ue!==i);if(J===null?j=_:J.next=F,!Xn(_,s.memoizedState)&&(Br=!0,_e&&(u=ic,u!==null)))throw u;s.memoizedState=_,s.baseState=j,s.baseQueue=J,d.lastRenderedState=_}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Op(s){var i=br(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,v=u.pending,_=i.memoizedState;if(v!==null){u.pending=null;var j=v=v.next;do _=s(_,j.action),j=j.next;while(j!==v);Xn(_,i.memoizedState)||(Br=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),u.lastRenderedState=_}return[_,d]}function iy(s,i,u){var d=mt,v=br(),_=jt;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=i();var j=!Xn((Gt||v).memoizedState,u);j&&(v.memoizedState=u,Br=!0),v=v.queue;var F=cy.bind(null,d,v,s);if(rh(2048,8,F,[s]),v.getSnapshot!==i||j||Sr!==null&&Sr.memoizedState.tag&1){if(d.flags|=2048,uc(9,Ef(),ly.bind(null,d,v,u,i),null),Zt===null)throw Error(n(349));_||(ji&124)!==0||oy(d,i,u)}return u}function oy(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=mt.updateQueue,i===null?(i=Dp(),mt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function ly(s,i,u,d){i.value=u,i.getSnapshot=d,uy(i)&&hy(s)}function cy(s,i,u){return u(function(){uy(i)&&hy(s)})}function uy(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!Xn(s,u)}catch{return!0}}function hy(s){var i=tc(s,2);i!==null&&ra(i,s,2)}function Pp(s){var i=Mn();if(typeof s=="function"){var u=s;if(s=u(),sl){wr(!0);try{u()}finally{wr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:s},i}function dy(s,i,u,d){return s.baseState=u,kp(s,Gt,typeof d=="function"?d:Hs)}function FC(s,i,u,d,v){if(wf(s))throw Error(n(485));if(s=i.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){_.listeners.push(j)}};de.T!==null?u(!0):_.isTransition=!1,d(_),u=i.pending,u===null?(_.next=i.pending=_,fy(i,_)):(_.next=u.next,i.pending=u.next=_)}}function fy(s,i){var u=i.action,d=i.payload,v=s.state;if(i.isTransition){var _=de.T,j={};de.T=j;try{var F=u(v,d),J=de.S;J!==null&&J(j,F),my(s,i,F)}catch(ue){Mp(s,i,ue)}finally{de.T=_}}else try{_=u(v,d),my(s,i,_)}catch(ue){Mp(s,i,ue)}}function my(s,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){py(s,i,d)},function(d){return Mp(s,i,d)}):py(s,i,u)}function py(s,i,u){i.status="fulfilled",i.value=u,gy(i),s.state=u,i=s.pending,i!==null&&(u=i.next,u===i?s.pending=null:(u=u.next,i.next=u,fy(s,u)))}function Mp(s,i,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=u,gy(i),i=i.next;while(i!==d)}s.action=null}function gy(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function vy(s,i){return i}function xy(s,i){if(jt){var u=Zt.formState;if(u!==null){e:{var d=mt;if(jt){if(dr){t:{for(var v=dr,_=ls;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ha(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){dr=Ha(v.nextSibling),d=v.data==="F!";break e}}tl(d)}d=!1}d&&(i=u[0])}}return u=Mn(),u.memoizedState=u.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:i},u.queue=d,u=Fy.bind(null,mt,d),d.dispatch=u,d=Pp(!1),_=Up.bind(null,mt,!1,d.queue),d=Mn(),v={state:i,dispatch:null,action:s,pending:null},d.queue=v,u=FC.bind(null,mt,v,_,u),v.dispatch=u,d.memoizedState=s,[i,u,!1]}function yy(s){var i=br();return _y(i,Gt,s)}function _y(s,i,u){if(i=kp(s,i,vy)[0],s=_f(Hs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=th(i)}catch(j){throw j===Ku?mf:j}else d=i;i=br();var v=i.queue,_=v.dispatch;return u!==i.memoizedState&&(mt.flags|=2048,uc(9,Ef(),LC.bind(null,v,u),null)),[d,_,s]}function LC(s,i){s.action=i}function Ey(s){var i=br(),u=Gt;if(u!==null)return _y(i,u,s);br(),i=i.memoizedState,u=br();var d=u.queue.dispatch;return u.memoizedState=s,[i,d,!1]}function uc(s,i,u,d){return s={tag:s,create:u,deps:d,inst:i,next:null},i=mt.updateQueue,i===null&&(i=Dp(),mt.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,i.lastEffect=s),s}function Ef(){return{destroy:void 0,resource:void 0}}function Ty(){return br().memoizedState}function Tf(s,i,u,d){var v=Mn();d=d===void 0?null:d,mt.flags|=s,v.memoizedState=uc(1|i,Ef(),u,d)}function rh(s,i,u,d){var v=br();d=d===void 0?null:d;var _=v.memoizedState.inst;Gt!==null&&d!==null&&Np(d,Gt.memoizedState.deps)?v.memoizedState=uc(i,_,u,d):(mt.flags|=s,v.memoizedState=uc(1|i,_,u,d))}function wy(s,i){Tf(8390656,8,s,i)}function Sy(s,i){rh(2048,8,s,i)}function by(s,i){return rh(4,2,s,i)}function Ny(s,i){return rh(4,4,s,i)}function Ay(s,i){if(typeof i=="function"){s=s();var u=i(s);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Cy(s,i,u){u=u!=null?u.concat([s]):null,rh(4,4,Ay.bind(null,i,s),u)}function Fp(){}function Ry(s,i){var u=br();i=i===void 0?null:i;var d=u.memoizedState;return i!==null&&Np(i,d[1])?d[0]:(u.memoizedState=[s,i],s)}function jy(s,i){var u=br();i=i===void 0?null:i;var d=u.memoizedState;if(i!==null&&Np(i,d[1]))return d[0];if(d=s(),sl){wr(!0);try{s()}finally{wr(!1)}}return u.memoizedState=[d,i],d}function Lp(s,i,u){return u===void 0||(ji&1073741824)!==0?s.memoizedState=i:(s.memoizedState=u,s=k_(),mt.lanes|=s,Fi|=s,u)}function Dy(s,i,u,d){return Xn(u,i)?u:oc.current!==null?(s=Lp(s,u,d),Xn(s,i)||(Br=!0),s):(ji&42)===0?(Br=!0,s.memoizedState=u):(s=k_(),mt.lanes|=s,Fi|=s,i)}function Iy(s,i,u,d,v){var _=Ce.p;Ce.p=_!==0&&8>_?_:8;var j=de.T,F={};de.T=F,Up(s,!1,i,u);try{var J=v(),ue=de.S;if(ue!==null&&ue(F,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=OC(J,d);nh(s,i,_e,ta(s))}else nh(s,i,d,ta(s))}catch(Se){nh(s,i,{then:function(){},status:"rejected",reason:Se},ta())}finally{Ce.p=_,de.T=j}}function VC(){}function Vp(s,i,u,d){if(s.tag!==5)throw Error(n(476));var v=ky(s).queue;Iy(s,v,i,ze,u===null?VC:function(){return Oy(s),u(d)})}function ky(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ze},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:u},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Oy(s){var i=ky(s).next.queue;nh(s,i,{},ta())}function Bp(){return mn(Eh)}function Py(){return br().memoizedState}function My(){return br().memoizedState}function BC(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var u=ta();s=Ci(u);var d=Ri(i,s,u);d!==null&&(ra(d,i,u),Qu(d,i,u)),i={cache:gp()},s.payload=i;return}i=i.return}}function UC(s,i,u){var d=ta();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},wf(s)?Ly(i,u):(u=ip(s,i,u,d),u!==null&&(ra(u,s,d),Vy(u,i,d)))}function Fy(s,i,u){var d=ta();nh(s,i,u,d)}function nh(s,i,u,d){var v={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(wf(s))Ly(i,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var j=i.lastRenderedState,F=_(j,u);if(v.hasEagerState=!0,v.eagerState=F,Xn(F,j))return sf(s,i,v,0),Zt===null&&af(),!1}catch{}finally{}if(u=ip(s,i,v,d),u!==null)return ra(u,s,d),Vy(u,i,d),!0}return!1}function Up(s,i,u,d){if(d={lane:2,revertLane:yg(),action:d,hasEagerState:!1,eagerState:null,next:null},wf(s)){if(i)throw Error(n(479))}else i=ip(s,u,d,2),i!==null&&ra(i,s,2)}function wf(s){var i=s.alternate;return s===mt||i!==null&&i===mt}function Ly(s,i){lc=vf=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function Vy(s,i,u){if((u&4194048)!==0){var d=i.lanes;d&=s.pendingLanes,u|=d,i.lanes=u,as(s,u)}}var Sf={readContext:mn,use:yf,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useInsertionEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useSyncExternalStore:xr,useId:xr,useHostTransitionStatus:xr,useFormState:xr,useActionState:xr,useOptimistic:xr,useMemoCache:xr,useCacheRefresh:xr},By={readContext:mn,use:yf,useCallback:function(s,i){return Mn().memoizedState=[s,i===void 0?null:i],s},useContext:mn,useEffect:wy,useImperativeHandle:function(s,i,u){u=u!=null?u.concat([s]):null,Tf(4194308,4,Ay.bind(null,i,s),u)},useLayoutEffect:function(s,i){return Tf(4194308,4,s,i)},useInsertionEffect:function(s,i){Tf(4,2,s,i)},useMemo:function(s,i){var u=Mn();i=i===void 0?null:i;var d=s();if(sl){wr(!0);try{s()}finally{wr(!1)}}return u.memoizedState=[d,i],d},useReducer:function(s,i,u){var d=Mn();if(u!==void 0){var v=u(i);if(sl){wr(!0);try{u(i)}finally{wr(!1)}}}else v=i;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=UC.bind(null,mt,s),[d.memoizedState,s]},useRef:function(s){var i=Mn();return s={current:s},i.memoizedState=s},useState:function(s){s=Pp(s);var i=s.queue,u=Fy.bind(null,mt,i);return i.dispatch=u,[s.memoizedState,u]},useDebugValue:Fp,useDeferredValue:function(s,i){var u=Mn();return Lp(u,s,i)},useTransition:function(){var s=Pp(!1);return s=Iy.bind(null,mt,s.queue,!0,!1),Mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,u){var d=mt,v=Mn();if(jt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Zt===null)throw Error(n(349));(Tt&124)!==0||oy(d,i,u)}v.memoizedState=u;var _={value:u,getSnapshot:i};return v.queue=_,wy(cy.bind(null,d,_,s),[s]),d.flags|=2048,uc(9,Ef(),ly.bind(null,d,_,u,i),null),u},useId:function(){var s=Mn(),i=Zt.identifierPrefix;if(jt){var u=Bs,d=Vs;u=(d&~(1<<32-Jr(d)-1)).toString(32)+u,i=""+i+"R"+u,u=xf++,0<u&&(i+="H"+u.toString(32)),i+=""}else u=PC++,i=""+i+"r"+u.toString(32)+"";return s.memoizedState=i},useHostTransitionStatus:Bp,useFormState:xy,useActionState:xy,useOptimistic:function(s){var i=Mn();i.memoizedState=i.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=Up.bind(null,mt,!0,u),u.dispatch=i,[s,i]},useMemoCache:Ip,useCacheRefresh:function(){return Mn().memoizedState=BC.bind(null,mt)}},Uy={readContext:mn,use:yf,useCallback:Ry,useContext:mn,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:by,useLayoutEffect:Ny,useMemo:jy,useReducer:_f,useRef:Ty,useState:function(){return _f(Hs)},useDebugValue:Fp,useDeferredValue:function(s,i){var u=br();return Dy(u,Gt.memoizedState,s,i)},useTransition:function(){var s=_f(Hs)[0],i=br().memoizedState;return[typeof s=="boolean"?s:th(s),i]},useSyncExternalStore:iy,useId:Py,useHostTransitionStatus:Bp,useFormState:yy,useActionState:yy,useOptimistic:function(s,i){var u=br();return dy(u,Gt,s,i)},useMemoCache:Ip,useCacheRefresh:My},zC={readContext:mn,use:yf,useCallback:Ry,useContext:mn,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:by,useLayoutEffect:Ny,useMemo:jy,useReducer:Op,useRef:Ty,useState:function(){return Op(Hs)},useDebugValue:Fp,useDeferredValue:function(s,i){var u=br();return Gt===null?Lp(u,s,i):Dy(u,Gt.memoizedState,s,i)},useTransition:function(){var s=Op(Hs)[0],i=br().memoizedState;return[typeof s=="boolean"?s:th(s),i]},useSyncExternalStore:iy,useId:Py,useHostTransitionStatus:Bp,useFormState:Ey,useActionState:Ey,useOptimistic:function(s,i){var u=br();return Gt!==null?dy(u,Gt,s,i):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:My},hc=null,ah=0;function bf(s){var i=ah;return ah+=1,hc===null&&(hc=[]),Jx(hc,s,i)}function sh(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Nf(s,i){throw i.$$typeof===x?Error(n(525)):(s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function zy(s){var i=s._init;return i(s._payload)}function Hy(s){function i(se,ne){if(s){var oe=se.deletions;oe===null?(se.deletions=[ne],se.flags|=16):oe.push(ne)}}function u(se,ne){if(!s)return null;for(;ne!==null;)i(se,ne),ne=ne.sibling;return null}function d(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function v(se,ne){return se=Ls(se,ne),se.index=0,se.sibling=null,se}function _(se,ne,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<ne?(se.flags|=67108866,ne):oe):(se.flags|=67108866,ne)):(se.flags|=1048576,ne)}function j(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function F(se,ne,oe,Te){return ne===null||ne.tag!==6?(ne=lp(oe,se.mode,Te),ne.return=se,ne):(ne=v(ne,oe),ne.return=se,ne)}function J(se,ne,oe,Te){var Ge=oe.type;return Ge===w?_e(se,ne,oe.props.children,Te,oe.key):ne!==null&&(ne.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===A&&zy(Ge)===ne.type)?(ne=v(ne,oe.props),sh(ne,oe),ne.return=se,ne):(ne=lf(oe.type,oe.key,oe.props,null,se.mode,Te),sh(ne,oe),ne.return=se,ne)}function ue(se,ne,oe,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=cp(oe,se.mode,Te),ne.return=se,ne):(ne=v(ne,oe.children||[]),ne.return=se,ne)}function _e(se,ne,oe,Te,Ge){return ne===null||ne.tag!==7?(ne=Qo(oe,se.mode,Te,Ge),ne.return=se,ne):(ne=v(ne,oe),ne.return=se,ne)}function Se(se,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=lp(""+ne,se.mode,oe),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return oe=lf(ne.type,ne.key,ne.props,null,se.mode,oe),sh(oe,ne),oe.return=se,oe;case E:return ne=cp(ne,se.mode,oe),ne.return=se,ne;case A:var Te=ne._init;return ne=Te(ne._payload),Se(se,ne,oe)}if(He(ne)||O(ne))return ne=Qo(ne,se.mode,oe,null),ne.return=se,ne;if(typeof ne.then=="function")return Se(se,bf(ne),oe);if(ne.$$typeof===V)return Se(se,df(se,ne),oe);Nf(se,ne)}return null}function pe(se,ne,oe,Te){var Ge=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ge!==null?null:F(se,ne,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return oe.key===Ge?J(se,ne,oe,Te):null;case E:return oe.key===Ge?ue(se,ne,oe,Te):null;case A:return Ge=oe._init,oe=Ge(oe._payload),pe(se,ne,oe,Te)}if(He(oe)||O(oe))return Ge!==null?null:_e(se,ne,oe,Te,null);if(typeof oe.then=="function")return pe(se,ne,bf(oe),Te);if(oe.$$typeof===V)return pe(se,ne,df(se,oe),Te);Nf(se,oe)}return null}function ge(se,ne,oe,Te,Ge){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return se=se.get(oe)||null,F(ne,se,""+Te,Ge);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return se=se.get(Te.key===null?oe:Te.key)||null,J(ne,se,Te,Ge);case E:return se=se.get(Te.key===null?oe:Te.key)||null,ue(ne,se,Te,Ge);case A:var pt=Te._init;return Te=pt(Te._payload),ge(se,ne,oe,Te,Ge)}if(He(Te)||O(Te))return se=se.get(oe)||null,_e(ne,se,Te,Ge,null);if(typeof Te.then=="function")return ge(se,ne,oe,bf(Te),Ge);if(Te.$$typeof===V)return ge(se,ne,oe,df(ne,Te),Ge);Nf(ne,Te)}return null}function at(se,ne,oe,Te){for(var Ge=null,pt=null,Ye=ne,et=ne=0,zr=null;Ye!==null&&et<oe.length;et++){Ye.index>et?(zr=Ye,Ye=null):zr=Ye.sibling;var bt=pe(se,Ye,oe[et],Te);if(bt===null){Ye===null&&(Ye=zr);break}s&&Ye&&bt.alternate===null&&i(se,Ye),ne=_(bt,ne,et),pt===null?Ge=bt:pt.sibling=bt,pt=bt,Ye=zr}if(et===oe.length)return u(se,Ye),jt&&Zo(se,et),Ge;if(Ye===null){for(;et<oe.length;et++)Ye=Se(se,oe[et],Te),Ye!==null&&(ne=_(Ye,ne,et),pt===null?Ge=Ye:pt.sibling=Ye,pt=Ye);return jt&&Zo(se,et),Ge}for(Ye=d(Ye);et<oe.length;et++)zr=ge(Ye,se,et,oe[et],Te),zr!==null&&(s&&zr.alternate!==null&&Ye.delete(zr.key===null?et:zr.key),ne=_(zr,ne,et),pt===null?Ge=zr:pt.sibling=zr,pt=zr);return s&&Ye.forEach(function($i){return i(se,$i)}),jt&&Zo(se,et),Ge}function Ze(se,ne,oe,Te){if(oe==null)throw Error(n(151));for(var Ge=null,pt=null,Ye=ne,et=ne=0,zr=null,bt=oe.next();Ye!==null&&!bt.done;et++,bt=oe.next()){Ye.index>et?(zr=Ye,Ye=null):zr=Ye.sibling;var $i=pe(se,Ye,bt.value,Te);if($i===null){Ye===null&&(Ye=zr);break}s&&Ye&&$i.alternate===null&&i(se,Ye),ne=_($i,ne,et),pt===null?Ge=$i:pt.sibling=$i,pt=$i,Ye=zr}if(bt.done)return u(se,Ye),jt&&Zo(se,et),Ge;if(Ye===null){for(;!bt.done;et++,bt=oe.next())bt=Se(se,bt.value,Te),bt!==null&&(ne=_(bt,ne,et),pt===null?Ge=bt:pt.sibling=bt,pt=bt);return jt&&Zo(se,et),Ge}for(Ye=d(Ye);!bt.done;et++,bt=oe.next())bt=ge(Ye,se,et,bt.value,Te),bt!==null&&(s&&bt.alternate!==null&&Ye.delete(bt.key===null?et:bt.key),ne=_(bt,ne,et),pt===null?Ge=bt:pt.sibling=bt,pt=bt);return s&&Ye.forEach(function(HR){return i(se,HR)}),jt&&Zo(se,et),Ge}function Wt(se,ne,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:e:{for(var Ge=oe.key;ne!==null;){if(ne.key===Ge){if(Ge=oe.type,Ge===w){if(ne.tag===7){u(se,ne.sibling),Te=v(ne,oe.props.children),Te.return=se,se=Te;break e}}else if(ne.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===A&&zy(Ge)===ne.type){u(se,ne.sibling),Te=v(ne,oe.props),sh(Te,oe),Te.return=se,se=Te;break e}u(se,ne);break}else i(se,ne);ne=ne.sibling}oe.type===w?(Te=Qo(oe.props.children,se.mode,Te,oe.key),Te.return=se,se=Te):(Te=lf(oe.type,oe.key,oe.props,null,se.mode,Te),sh(Te,oe),Te.return=se,se=Te)}return j(se);case E:e:{for(Ge=oe.key;ne!==null;){if(ne.key===Ge)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){u(se,ne.sibling),Te=v(ne,oe.children||[]),Te.return=se,se=Te;break e}else{u(se,ne);break}else i(se,ne);ne=ne.sibling}Te=cp(oe,se.mode,Te),Te.return=se,se=Te}return j(se);case A:return Ge=oe._init,oe=Ge(oe._payload),Wt(se,ne,oe,Te)}if(He(oe))return at(se,ne,oe,Te);if(O(oe)){if(Ge=O(oe),typeof Ge!="function")throw Error(n(150));return oe=Ge.call(oe),Ze(se,ne,oe,Te)}if(typeof oe.then=="function")return Wt(se,ne,bf(oe),Te);if(oe.$$typeof===V)return Wt(se,ne,df(se,oe),Te);Nf(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ne!==null&&ne.tag===6?(u(se,ne.sibling),Te=v(ne,oe),Te.return=se,se=Te):(u(se,ne),Te=lp(oe,se.mode,Te),Te.return=se,se=Te),j(se)):u(se,ne)}return function(se,ne,oe,Te){try{ah=0;var Ge=Wt(se,ne,oe,Te);return hc=null,Ge}catch(Ye){if(Ye===Ku||Ye===mf)throw Ye;var pt=Qn(29,Ye,null,se.mode);return pt.lanes=Te,pt.return=se,pt}finally{}}}var dc=Hy(!0),qy=Hy(!1),_a=Ee(null),cs=null;function Di(s){var i=s.alternate;te(Pr,Pr.current&1),te(_a,s),cs===null&&(i===null||oc.current!==null||i.memoizedState!==null)&&(cs=s)}function Gy(s){if(s.tag===22){if(te(Pr,Pr.current),te(_a,s),cs===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(cs=s)}}else Ii()}function Ii(){te(Pr,Pr.current),te(_a,_a.current)}function qs(s){K(_a),cs===s&&(cs=null),K(Pr)}var Pr=Ee(0);function Af(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Dg(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zp(s,i,u,d){i=s.memoizedState,u=u(d,i),u=u==null?i:g({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Hp={enqueueSetState:function(s,i,u){s=s._reactInternals;var d=ta(),v=Ci(d);v.payload=i,u!=null&&(v.callback=u),i=Ri(s,v,d),i!==null&&(ra(i,s,d),Qu(i,s,d))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var d=ta(),v=Ci(d);v.tag=1,v.payload=i,u!=null&&(v.callback=u),i=Ri(s,v,d),i!==null&&(ra(i,s,d),Qu(i,s,d))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=ta(),d=Ci(u);d.tag=2,i!=null&&(d.callback=i),i=Ri(s,d,u),i!==null&&(ra(i,s,u),Qu(i,s,u))}};function $y(s,i,u,d,v,_,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,j):i.prototype&&i.prototype.isPureReactComponent?!Uu(u,d)||!Uu(v,_):!0}function Wy(s,i,u,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,d),i.state!==s&&Hp.enqueueReplaceState(i,i.state,null)}function il(s,i){var u=i;if("ref"in i){u={};for(var d in i)d!=="ref"&&(u[d]=i[d])}if(s=s.defaultProps){u===i&&(u=g({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}var Cf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Yy(s){Cf(s)}function Ky(s){console.error(s)}function Xy(s){Cf(s)}function Rf(s,i){try{var u=s.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Qy(s,i,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function qp(s,i,u){return u=Ci(u),u.tag=3,u.payload={element:null},u.callback=function(){Rf(s,i)},u}function Jy(s){return s=Ci(s),s.tag=3,s}function Zy(s,i,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;s.payload=function(){return v(_)},s.callback=function(){Qy(i,u,d)}}var j=u.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){Qy(i,u,d),typeof v!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function HC(s,i,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=u.alternate,i!==null&&$u(i,u,v,!0),u=_a.current,u!==null){switch(u.tag){case 13:return cs===null?mg():u.alternate===null&&fr===0&&(fr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===yp?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([d]):i.add(d),gg(s,d,v)),!1;case 22:return u.flags|=65536,d===yp?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([d]):u.add(d)),gg(s,d,v)),!1}throw Error(n(435,u.tag))}return gg(s,d,v),mg(),!1}if(jt)return i=_a.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,d!==dp&&(s=Error(n(422),{cause:d}),Gu(ga(s,u)))):(d!==dp&&(i=Error(n(423),{cause:d}),Gu(ga(i,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=ga(d,u),v=qp(s.stateNode,d,v),Tp(s,v),fr!==4&&(fr=2)),!1;var _=Error(n(520),{cause:d});if(_=ga(_,u),dh===null?dh=[_]:dh.push(_),fr!==4&&(fr=2),i===null)return!0;d=ga(d,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=qp(u.stateNode,d,s),Tp(u,s),!1;case 1:if(i=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Li===null||!Li.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Jy(v),Zy(v,s,u,d),Tp(u,v),!1}u=u.return}while(u!==null);return!1}var e_=Error(n(461)),Br=!1;function Zr(s,i,u,d){i.child=s===null?qy(i,null,u,d):dc(i,s.child,u,d)}function t_(s,i,u,d,v){u=u.render;var _=i.ref;if("ref"in d){var j={};for(var F in d)F!=="ref"&&(j[F]=d[F])}else j=d;return nl(i),d=Ap(s,i,u,j,_,v),F=Cp(),s!==null&&!Br?(Rp(s,i,v),Gs(s,i,v)):(jt&&F&&up(i),i.flags|=1,Zr(s,i,d,v),i.child)}function r_(s,i,u,d,v){if(s===null){var _=u.type;return typeof _=="function"&&!op(_)&&_.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=_,n_(s,i,_,d,v)):(s=lf(u.type,null,d,i,i.mode,v),s.ref=i.ref,s.return=i,i.child=s)}if(_=s.child,!Jp(s,v)){var j=_.memoizedProps;if(u=u.compare,u=u!==null?u:Uu,u(j,d)&&s.ref===i.ref)return Gs(s,i,v)}return i.flags|=1,s=Ls(_,d),s.ref=i.ref,s.return=i,i.child=s}function n_(s,i,u,d,v){if(s!==null){var _=s.memoizedProps;if(Uu(_,d)&&s.ref===i.ref)if(Br=!1,i.pendingProps=d=_,Jp(s,v))(s.flags&131072)!==0&&(Br=!0);else return i.lanes=s.lanes,Gs(s,i,v)}return Gp(s,i,u,d,v)}function a_(s,i,u){var d=i.pendingProps,v=d.children,_=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=_!==null?_.baseLanes|u:u,s!==null){for(v=i.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;i.childLanes=_&~d}else i.childLanes=0,i.child=null;return s_(s,i,d,u)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&ff(i,_!==null?_.cachePool:null),_!==null?ny(i,_):Sp(),Gy(i);else return i.lanes=i.childLanes=536870912,s_(s,i,_!==null?_.baseLanes|u:u,u)}else _!==null?(ff(i,_.cachePool),ny(i,_),Ii(),i.memoizedState=null):(s!==null&&ff(i,null),Sp(),Ii());return Zr(s,i,v,u),i.child}function s_(s,i,u,d){var v=xp();return v=v===null?null:{parent:Or._currentValue,pool:v},i.memoizedState={baseLanes:u,cachePool:v},s!==null&&ff(i,null),Sp(),Gy(i),s!==null&&$u(s,i,d,!0),null}function jf(s,i){var u=i.ref;if(u===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(i.flags|=4194816)}}function Gp(s,i,u,d,v){return nl(i),u=Ap(s,i,u,d,void 0,v),d=Cp(),s!==null&&!Br?(Rp(s,i,v),Gs(s,i,v)):(jt&&d&&up(i),i.flags|=1,Zr(s,i,u,v),i.child)}function i_(s,i,u,d,v,_){return nl(i),i.updateQueue=null,u=sy(i,d,u,v),ay(s),d=Cp(),s!==null&&!Br?(Rp(s,i,_),Gs(s,i,_)):(jt&&d&&up(i),i.flags|=1,Zr(s,i,u,_),i.child)}function o_(s,i,u,d,v){if(nl(i),i.stateNode===null){var _=rc,j=u.contextType;typeof j=="object"&&j!==null&&(_=mn(j)),_=new u(d,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Hp,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=d,_.state=i.memoizedState,_.refs={},_p(i),j=u.contextType,_.context=typeof j=="object"&&j!==null?mn(j):rc,_.state=i.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(zp(i,u,j,d),_.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(j=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),j!==_.state&&Hp.enqueueReplaceState(_,_.state,null),Zu(i,d,_,v),Ju(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(s===null){_=i.stateNode;var F=i.memoizedProps,J=il(u,F);_.props=J;var ue=_.context,_e=u.contextType;j=rc,typeof _e=="object"&&_e!==null&&(j=mn(_e));var Se=u.getDerivedStateFromProps;_e=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,_e||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||ue!==j)&&Wy(i,_,d,j),Ai=!1;var pe=i.memoizedState;_.state=pe,Zu(i,d,_,v),Ju(),ue=i.memoizedState,F||pe!==ue||Ai?(typeof Se=="function"&&(zp(i,u,Se,d),ue=i.memoizedState),(J=Ai||$y(i,u,J,d,pe,ue,j))?(_e||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ue),_.props=d,_.state=ue,_.context=j,d=J):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{_=i.stateNode,Ep(s,i),j=i.memoizedProps,_e=il(u,j),_.props=_e,Se=i.pendingProps,pe=_.context,ue=u.contextType,J=rc,typeof ue=="object"&&ue!==null&&(J=mn(ue)),F=u.getDerivedStateFromProps,(ue=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==Se||pe!==J)&&Wy(i,_,d,J),Ai=!1,pe=i.memoizedState,_.state=pe,Zu(i,d,_,v),Ju();var ge=i.memoizedState;j!==Se||pe!==ge||Ai||s!==null&&s.dependencies!==null&&hf(s.dependencies)?(typeof F=="function"&&(zp(i,u,F,d),ge=i.memoizedState),(_e=Ai||$y(i,u,_e,d,pe,ge,J)||s!==null&&s.dependencies!==null&&hf(s.dependencies))?(ue||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ge,J),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ge,J)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||j===s.memoizedProps&&pe===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&pe===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ge),_.props=d,_.state=ge,_.context=J,d=_e):(typeof _.componentDidUpdate!="function"||j===s.memoizedProps&&pe===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&pe===s.memoizedState||(i.flags|=1024),d=!1)}return _=d,jf(s,i),d=(i.flags&128)!==0,_||d?(_=i.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,s!==null&&d?(i.child=dc(i,s.child,null,v),i.child=dc(i,null,u,v)):Zr(s,i,u,v),i.memoizedState=_.state,s=i.child):s=Gs(s,i,v),s}function l_(s,i,u,d){return qu(),i.flags|=256,Zr(s,i,u,d),i.child}var $p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(s){return{baseLanes:s,cachePool:Kx()}}function Yp(s,i,u){return s=s!==null?s.childLanes&~u:0,i&&(s|=Ea),s}function c_(s,i,u){var d=i.pendingProps,v=!1,_=(i.flags&128)!==0,j;if((j=_)||(j=s!==null&&s.memoizedState===null?!1:(Pr.current&2)!==0),j&&(v=!0,i.flags&=-129),j=(i.flags&32)!==0,i.flags&=-33,s===null){if(jt){if(v?Di(i):Ii(),jt){var F=dr,J;if(J=F){e:{for(J=F,F=ls;J.nodeType!==8;){if(!F){F=null;break e}if(J=Ha(J.nextSibling),J===null){F=null;break e}}F=J}F!==null?(i.memoizedState={dehydrated:F,treeContext:Jo!==null?{id:Vs,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},J=Qn(18,null,null,0),J.stateNode=F,J.return=i,i.child=J,An=i,dr=null,J=!0):J=!1}J||tl(i)}if(F=i.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Dg(F)?i.lanes=32:i.lanes=536870912,null;qs(i)}return F=d.children,d=d.fallback,v?(Ii(),v=i.mode,F=Df({mode:"hidden",children:F},v),d=Qo(d,v,u,null),F.return=i,d.return=i,F.sibling=d,i.child=F,v=i.child,v.memoizedState=Wp(u),v.childLanes=Yp(s,j,u),i.memoizedState=$p,d):(Di(i),Kp(i,F))}if(J=s.memoizedState,J!==null&&(F=J.dehydrated,F!==null)){if(_)i.flags&256?(Di(i),i.flags&=-257,i=Xp(s,i,u)):i.memoizedState!==null?(Ii(),i.child=s.child,i.flags|=128,i=null):(Ii(),v=d.fallback,F=i.mode,d=Df({mode:"visible",children:d.children},F),v=Qo(v,F,u,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,dc(i,s.child,null,u),d=i.child,d.memoizedState=Wp(u),d.childLanes=Yp(s,j,u),i.memoizedState=$p,i=v);else if(Di(i),Dg(F)){if(j=F.nextSibling&&F.nextSibling.dataset,j)var ue=j.dgst;j=ue,d=Error(n(419)),d.stack="",d.digest=j,Gu({value:d,source:null,stack:null}),i=Xp(s,i,u)}else if(Br||$u(s,i,u,!1),j=(u&s.childLanes)!==0,Br||j){if(j=Zt,j!==null&&(d=u&-u,d=(d&42)!==0?1:Oo(d),d=(d&(j.suspendedLanes|u))!==0?0:d,d!==0&&d!==J.retryLane))throw J.retryLane=d,tc(s,d),ra(j,s,d),e_;F.data==="$?"||mg(),i=Xp(s,i,u)}else F.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=J.treeContext,dr=Ha(F.nextSibling),An=i,jt=!0,el=null,ls=!1,s!==null&&(xa[ya++]=Vs,xa[ya++]=Bs,xa[ya++]=Jo,Vs=s.id,Bs=s.overflow,Jo=i),i=Kp(i,d.children),i.flags|=4096);return i}return v?(Ii(),v=d.fallback,F=i.mode,J=s.child,ue=J.sibling,d=Ls(J,{mode:"hidden",children:d.children}),d.subtreeFlags=J.subtreeFlags&65011712,ue!==null?v=Ls(ue,v):(v=Qo(v,F,u,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,F=s.child.memoizedState,F===null?F=Wp(u):(J=F.cachePool,J!==null?(ue=Or._currentValue,J=J.parent!==ue?{parent:ue,pool:ue}:J):J=Kx(),F={baseLanes:F.baseLanes|u,cachePool:J}),v.memoizedState=F,v.childLanes=Yp(s,j,u),i.memoizedState=$p,d):(Di(i),u=s.child,s=u.sibling,u=Ls(u,{mode:"visible",children:d.children}),u.return=i,u.sibling=null,s!==null&&(j=i.deletions,j===null?(i.deletions=[s],i.flags|=16):j.push(s)),i.child=u,i.memoizedState=null,u)}function Kp(s,i){return i=Df({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Df(s,i){return s=Qn(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Xp(s,i,u){return dc(i,s.child,null,u),s=Kp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function u_(s,i,u){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),mp(s.return,i,u)}function Qp(s,i,u,d,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=u,_.tailMode=v)}function h_(s,i,u){var d=i.pendingProps,v=d.revealOrder,_=d.tail;if(Zr(s,i,d.children,u),d=Pr.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&u_(s,u,i);else if(s.tag===19)u_(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(te(Pr,d),v){case"forwards":for(u=i.child,v=null;u!==null;)s=u.alternate,s!==null&&Af(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=i.child,i.child=null):(v=u.sibling,u.sibling=null),Qp(i,!1,v,u,_);break;case"backwards":for(u=null,v=i.child,i.child=null;v!==null;){if(s=v.alternate,s!==null&&Af(s)===null){i.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Qp(i,!0,u,null,_);break;case"together":Qp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gs(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),Fi|=i.lanes,(u&i.childLanes)===0)if(s!==null){if($u(s,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,u=Ls(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=Ls(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function Jp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&hf(s)))}function qC(s,i,u){switch(i.tag){case 3:ae(i,i.stateNode.containerInfo),Ni(i,Or,s.memoizedState.cache),qu();break;case 27:case 5:ke(i);break;case 4:ae(i,i.stateNode.containerInfo);break;case 10:Ni(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Di(i),i.flags|=128,null):(u&i.child.childLanes)!==0?c_(s,i,u):(Di(i),s=Gs(s,i,u),s!==null?s.sibling:null);Di(i);break;case 19:var v=(s.flags&128)!==0;if(d=(u&i.childLanes)!==0,d||($u(s,i,u,!1),d=(u&i.childLanes)!==0),v){if(d)return h_(s,i,u);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(Pr,Pr.current),d)break;return null;case 22:case 23:return i.lanes=0,a_(s,i,u);case 24:Ni(i,Or,s.memoizedState.cache)}return Gs(s,i,u)}function d_(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps)Br=!0;else{if(!Jp(s,u)&&(i.flags&128)===0)return Br=!1,qC(s,i,u);Br=(s.flags&131072)!==0}else Br=!1,jt&&(i.flags&1048576)!==0&&zx(i,uf,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var d=i.elementType,v=d._init;if(d=v(d._payload),i.type=d,typeof d=="function")op(d)?(s=il(d,s),i.tag=1,i=o_(null,i,d,s,u)):(i.tag=0,i=Gp(null,i,d,s,u));else{if(d!=null){if(v=d.$$typeof,v===W){i.tag=11,i=t_(null,i,d,s,u);break e}else if(v===I){i.tag=14,i=r_(null,i,d,s,u);break e}}throw i=We(d)||d,Error(n(306,i,""))}}return i;case 0:return Gp(s,i,i.type,i.pendingProps,u);case 1:return d=i.type,v=il(d,i.pendingProps),o_(s,i,d,v,u);case 3:e:{if(ae(i,i.stateNode.containerInfo),s===null)throw Error(n(387));d=i.pendingProps;var _=i.memoizedState;v=_.element,Ep(s,i),Zu(i,d,null,u);var j=i.memoizedState;if(d=j.cache,Ni(i,Or,d),d!==_.cache&&pp(i,[Or],u,!0),Ju(),d=j.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:j.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=l_(s,i,d,u);break e}else if(d!==v){v=ga(Error(n(424)),i),Gu(v),i=l_(s,i,d,u);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dr=Ha(s.firstChild),An=i,jt=!0,el=null,ls=!0,u=qy(i,null,d,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(qu(),d===v){i=Gs(s,i,u);break e}Zr(s,i,d,u)}i=i.child}return i;case 26:return jf(s,i),s===null?(u=gE(i.type,null,i.pendingProps,null))?i.memoizedState=u:jt||(u=i.type,s=i.pendingProps,d=Gf(he.current).createElement(u),d[lr]=i,d[gr]=s,tn(d,u,s),ie(d),i.stateNode=d):i.memoizedState=gE(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return ke(i),s===null&&jt&&(d=i.stateNode=fE(i.type,i.pendingProps,he.current),An=i,ls=!0,v=dr,Ui(i.type)?(Ig=v,dr=Ha(d.firstChild)):dr=v),Zr(s,i,i.pendingProps.children,u),jf(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&jt&&((v=d=dr)&&(d=xR(d,i.type,i.pendingProps,ls),d!==null?(i.stateNode=d,An=i,dr=Ha(d.firstChild),ls=!1,v=!0):v=!1),v||tl(i)),ke(i),v=i.type,_=i.pendingProps,j=s!==null?s.memoizedProps:null,d=_.children,Cg(v,_)?d=null:j!==null&&Cg(v,j)&&(i.flags|=32),i.memoizedState!==null&&(v=Ap(s,i,MC,null,null,u),Eh._currentValue=v),jf(s,i),Zr(s,i,d,u),i.child;case 6:return s===null&&jt&&((s=u=dr)&&(u=yR(u,i.pendingProps,ls),u!==null?(i.stateNode=u,An=i,dr=null,s=!0):s=!1),s||tl(i)),null;case 13:return c_(s,i,u);case 4:return ae(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=dc(i,null,d,u):Zr(s,i,d,u),i.child;case 11:return t_(s,i,i.type,i.pendingProps,u);case 7:return Zr(s,i,i.pendingProps,u),i.child;case 8:return Zr(s,i,i.pendingProps.children,u),i.child;case 12:return Zr(s,i,i.pendingProps.children,u),i.child;case 10:return d=i.pendingProps,Ni(i,i.type,d.value),Zr(s,i,d.children,u),i.child;case 9:return v=i.type._context,d=i.pendingProps.children,nl(i),v=mn(v),d=d(v),i.flags|=1,Zr(s,i,d,u),i.child;case 14:return r_(s,i,i.type,i.pendingProps,u);case 15:return n_(s,i,i.type,i.pendingProps,u);case 19:return h_(s,i,u);case 31:return d=i.pendingProps,u=i.mode,d={mode:d.mode,children:d.children},s===null?(u=Df(d,u),u.ref=i.ref,i.child=u,u.return=i,i=u):(u=Ls(s.child,d),u.ref=i.ref,i.child=u,u.return=i,i=u),i;case 22:return a_(s,i,u);case 24:return nl(i),d=mn(Or),s===null?(v=xp(),v===null&&(v=Zt,_=gp(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),i.memoizedState={parent:d,cache:v},_p(i),Ni(i,Or,v)):((s.lanes&u)!==0&&(Ep(s,i),Zu(i,null,null,u),Ju()),v=s.memoizedState,_=i.memoizedState,v.parent!==d?(v={parent:d,cache:d},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),Ni(i,Or,d)):(d=_.cache,Ni(i,Or,d),d!==v.cache&&pp(i,[Or],u,!0))),Zr(s,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function $s(s){s.flags|=4}function f_(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!EE(i)){if(i=_a.current,i!==null&&((Tt&4194048)===Tt?cs!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||i!==cs))throw Xu=yp,Xx;s.flags|=8192}}function If(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?ka():536870912,s.lanes|=i,gc|=i)}function ih(s,i){if(!jt)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ur(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(i)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=u,i}function GC(s,i,u){var d=i.pendingProps;switch(hp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(i),null;case 1:return ur(i),null;case 3:return u=i.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),zs(Or),De(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Hu(i)?$s(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gx())),ur(i),null;case 26:return u=i.memoizedState,s===null?($s(i),u!==null?(ur(i),f_(i,u)):(ur(i),i.flags&=-16777217)):u?u!==s.memoizedState?($s(i),ur(i),f_(i,u)):(ur(i),i.flags&=-16777217):(s.memoizedProps!==d&&$s(i),ur(i),i.flags&=-16777217),null;case 27:ft(i),u=he.current;var v=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==d&&$s(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return ur(i),null}s=Z.current,Hu(i)?Hx(i):(s=fE(v,d,u),i.stateNode=s,$s(i))}return ur(i),null;case 5:if(ft(i),u=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&$s(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return ur(i),null}if(s=Z.current,Hu(i))Hx(i);else{switch(v=Gf(he.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(u,{is:d.is}):v.createElement(u)}}s[lr]=i,s[gr]=d;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=s;e:switch(tn(s,u,d),u){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$s(i)}}return ur(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==d&&$s(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(s=he.current,Hu(i)){if(s=i.stateNode,u=i.memoizedProps,d=null,v=An,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[lr]=i,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||iE(s.nodeValue,u)),s||tl(i)}else s=Gf(s).createTextNode(d),s[lr]=i,i.stateNode=s}return ur(i),null;case 13:if(d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Hu(i),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[lr]=i}else qu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ur(i),v=!1}else v=Gx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(qs(i),i):(qs(i),null)}if(qs(i),(i.flags&128)!==0)return i.lanes=u,i;if(u=d!==null,s=s!==null&&s.memoizedState!==null,u){d=i.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)}return u!==s&&u&&(i.child.flags|=8192),If(i,i.updateQueue),ur(i),null;case 4:return De(),s===null&&wg(i.stateNode.containerInfo),ur(i),null;case 10:return zs(i.type),ur(i),null;case 19:if(K(Pr),v=i.memoizedState,v===null)return ur(i),null;if(d=(i.flags&128)!==0,_=v.rendering,_===null)if(d)ih(v,!1);else{if(fr!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(_=Af(s),_!==null){for(i.flags|=128,ih(v,!1),s=_.updateQueue,i.updateQueue=s,If(i,s),i.subtreeFlags=0,s=u,u=i.child;u!==null;)Ux(u,s),u=u.sibling;return te(Pr,Pr.current&1|2),i.child}s=s.sibling}v.tail!==null&&Le()>Pf&&(i.flags|=128,d=!0,ih(v,!1),i.lanes=4194304)}else{if(!d)if(s=Af(_),s!==null){if(i.flags|=128,d=!0,s=s.updateQueue,i.updateQueue=s,If(i,s),ih(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!jt)return ur(i),null}else 2*Le()-v.renderingStartTime>Pf&&u!==536870912&&(i.flags|=128,d=!0,ih(v,!1),i.lanes=4194304);v.isBackwards?(_.sibling=i.child,i.child=_):(s=v.last,s!==null?s.sibling=_:i.child=_,v.last=_)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Le(),i.sibling=null,s=Pr.current,te(Pr,d?s&1|2:s&1),i):(ur(i),null);case 22:case 23:return qs(i),bp(),d=i.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(u&536870912)!==0&&(i.flags&128)===0&&(ur(i),i.subtreeFlags&6&&(i.flags|=8192)):ur(i),u=i.updateQueue,u!==null&&If(i,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==u&&(i.flags|=2048),s!==null&&K(al),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),zs(Or),ur(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function $C(s,i){switch(hp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return zs(Or),De(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return ft(i),null;case 13:if(qs(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));qu()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return K(Pr),null;case 4:return De(),null;case 10:return zs(i.type),null;case 22:case 23:return qs(i),bp(),s!==null&&K(al),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return zs(Or),null;case 25:return null;default:return null}}function m_(s,i){switch(hp(i),i.tag){case 3:zs(Or),De();break;case 26:case 27:case 5:ft(i);break;case 4:De();break;case 13:qs(i);break;case 19:K(Pr);break;case 10:zs(i.type);break;case 22:case 23:qs(i),bp(),s!==null&&K(al);break;case 24:zs(Or)}}function oh(s,i){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&s)===s){d=void 0;var _=u.create,j=u.inst;d=_(),j.destroy=d}u=u.next}while(u!==v)}}catch(F){Kt(i,i.return,F)}}function ki(s,i,u){try{var d=i.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&s)===s){var j=d.inst,F=j.destroy;if(F!==void 0){j.destroy=void 0,v=i;var J=u,ue=F;try{ue()}catch(_e){Kt(v,J,_e)}}}d=d.next}while(d!==_)}}catch(_e){Kt(i,i.return,_e)}}function p_(s){var i=s.updateQueue;if(i!==null){var u=s.stateNode;try{ry(i,u)}catch(d){Kt(s,s.return,d)}}}function g_(s,i,u){u.props=il(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){Kt(s,i,d)}}function lh(s,i){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(v){Kt(s,i,v)}}function us(s,i){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){Kt(s,i,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Kt(s,i,v)}else u.current=null}function v_(s){var i=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){Kt(s,s.return,v)}}function Zp(s,i,u){try{var d=s.stateNode;fR(d,s.type,u,i),d[gr]=i}catch(v){Kt(s,s.return,v)}}function x_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ui(s.type)||s.tag===4}function eg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||x_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ui(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tg(s,i,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(s),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=qf));else if(d!==4&&(d===27&&Ui(s.type)&&(u=s.stateNode,i=null),s=s.child,s!==null))for(tg(s,i,u),s=s.sibling;s!==null;)tg(s,i,u),s=s.sibling}function kf(s,i,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(d!==4&&(d===27&&Ui(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(kf(s,i,u),s=s.sibling;s!==null;)kf(s,i,u),s=s.sibling}function y_(s){var i=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);tn(i,d,u),i[lr]=s,i[gr]=u}catch(_){Kt(s,s.return,_)}}var Ws=!1,yr=!1,rg=!1,__=typeof WeakSet=="function"?WeakSet:Set,Ur=null;function WC(s,i){if(s=s.containerInfo,Ng=Qf,s=Dx(s),ep(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var j=0,F=-1,J=-1,ue=0,_e=0,Se=s,pe=null;t:for(;;){for(var ge;Se!==u||v!==0&&Se.nodeType!==3||(F=j+v),Se!==_||d!==0&&Se.nodeType!==3||(J=j+d),Se.nodeType===3&&(j+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)pe=Se,Se=ge;for(;;){if(Se===s)break t;if(pe===u&&++ue===v&&(F=j),pe===_&&++_e===d&&(J=j),(ge=Se.nextSibling)!==null)break;Se=pe,pe=Se.parentNode}Se=ge}u=F===-1||J===-1?null:{start:F,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ag={focusedElem:s,selectionRange:u},Qf=!1,Ur=i;Ur!==null;)if(i=Ur,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,Ur=s;else for(;Ur!==null;){switch(i=Ur,_=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,u=i,v=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var at=il(u.type,v,u.elementType===u.type);s=d.getSnapshotBeforeUpdate(at,_),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Kt(u,u.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,u=s.nodeType,u===9)jg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":jg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=i.sibling,s!==null){s.return=i.return,Ur=s;break}Ur=i.return}}function E_(s,i,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Oi(s,u),d&4&&oh(5,u);break;case 1:if(Oi(s,u),d&4)if(s=u.stateNode,i===null)try{s.componentDidMount()}catch(j){Kt(u,u.return,j)}else{var v=il(u.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(v,i,s.__reactInternalSnapshotBeforeUpdate)}catch(j){Kt(u,u.return,j)}}d&64&&p_(u),d&512&&lh(u,u.return);break;case 3:if(Oi(s,u),d&64&&(s=u.updateQueue,s!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{ry(s,i)}catch(j){Kt(u,u.return,j)}}break;case 27:i===null&&d&4&&y_(u);case 26:case 5:Oi(s,u),i===null&&d&4&&v_(u),d&512&&lh(u,u.return);break;case 12:Oi(s,u);break;case 13:Oi(s,u),d&4&&S_(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=rR.bind(null,u),_R(s,u))));break;case 22:if(d=u.memoizedState!==null||Ws,!d){i=i!==null&&i.memoizedState!==null||yr,v=Ws;var _=yr;Ws=d,(yr=i)&&!_?Pi(s,u,(u.subtreeFlags&8772)!==0):Oi(s,u),Ws=v,yr=_}break;case 30:break;default:Oi(s,u)}}function T_(s){var i=s.alternate;i!==null&&(s.alternate=null,T_(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&q(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var nr=null,Fn=!1;function Ys(s,i,u){for(u=u.child;u!==null;)w_(s,i,u),u=u.sibling}function w_(s,i,u){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(ha,u)}catch{}switch(u.tag){case 26:yr||us(u,i),Ys(s,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yr||us(u,i);var d=nr,v=Fn;Ui(u.type)&&(nr=u.stateNode,Fn=!1),Ys(s,i,u),vh(u.stateNode),nr=d,Fn=v;break;case 5:yr||us(u,i);case 6:if(d=nr,v=Fn,nr=null,Ys(s,i,u),nr=d,Fn=v,nr!==null)if(Fn)try{(nr.nodeType===9?nr.body:nr.nodeName==="HTML"?nr.ownerDocument.body:nr).removeChild(u.stateNode)}catch(_){Kt(u,i,_)}else try{nr.removeChild(u.stateNode)}catch(_){Kt(u,i,_)}break;case 18:nr!==null&&(Fn?(s=nr,hE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),bh(s)):hE(nr,u.stateNode));break;case 4:d=nr,v=Fn,nr=u.stateNode.containerInfo,Fn=!0,Ys(s,i,u),nr=d,Fn=v;break;case 0:case 11:case 14:case 15:yr||ki(2,u,i),yr||ki(4,u,i),Ys(s,i,u);break;case 1:yr||(us(u,i),d=u.stateNode,typeof d.componentWillUnmount=="function"&&g_(u,i,d)),Ys(s,i,u);break;case 21:Ys(s,i,u);break;case 22:yr=(d=yr)||u.memoizedState!==null,Ys(s,i,u),yr=d;break;default:Ys(s,i,u)}}function S_(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bh(s)}catch(u){Kt(i,i.return,u)}}function YC(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new __),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new __),i;default:throw Error(n(435,s.tag))}}function ng(s,i){var u=YC(s);i.forEach(function(d){var v=nR.bind(null,s,d);u.has(d)||(u.add(d),d.then(v,v))})}function Jn(s,i){var u=i.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],_=s,j=i,F=j;e:for(;F!==null;){switch(F.tag){case 27:if(Ui(F.type)){nr=F.stateNode,Fn=!1;break e}break;case 5:nr=F.stateNode,Fn=!1;break e;case 3:case 4:nr=F.stateNode.containerInfo,Fn=!0;break e}F=F.return}if(nr===null)throw Error(n(160));w_(_,j,v),nr=null,Fn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)b_(i,s),i=i.sibling}var za=null;function b_(s,i){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Jn(i,s),Zn(s),d&4&&(ki(3,s,s.return),oh(3,s),ki(5,s,s.return));break;case 1:Jn(i,s),Zn(s),d&512&&(yr||u===null||us(u,u.return)),d&64&&Ws&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=za;if(Jn(i,s),Zn(s),d&512&&(yr||u===null||us(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[U]||_[lr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),tn(_,d,u),_[lr]=s,ie(_),d=_;break e;case"link":var j=yE("link","href",v).get(d+(u.href||""));if(j){for(var F=0;F<j.length;F++)if(_=j[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){j.splice(F,1);break t}}_=v.createElement(d),tn(_,d,u),v.head.appendChild(_);break;case"meta":if(j=yE("meta","content",v).get(d+(u.content||""))){for(F=0;F<j.length;F++)if(_=j[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){j.splice(F,1);break t}}_=v.createElement(d),tn(_,d,u),v.head.appendChild(_);break;default:throw Error(n(468,d))}_[lr]=s,ie(_),d=_}s.stateNode=d}else _E(v,s.type,s.stateNode);else s.stateNode=xE(v,d,s.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?_E(v,s.type,s.stateNode):xE(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Zp(s,s.memoizedProps,u.memoizedProps)}break;case 27:Jn(i,s),Zn(s),d&512&&(yr||u===null||us(u,u.return)),u!==null&&d&4&&Zp(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Jn(i,s),Zn(s),d&512&&(yr||u===null||us(u,u.return)),s.flags&32){v=s.stateNode;try{ma(v,"")}catch(ge){Kt(s,s.return,ge)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,Zp(s,v,u!==null?u.memoizedProps:v)),d&1024&&(rg=!0);break;case 6:if(Jn(i,s),Zn(s),d&4){if(s.stateNode===null)throw Error(n(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(ge){Kt(s,s.return,ge)}}break;case 3:if(Yf=null,v=za,za=$f(i.containerInfo),Jn(i,s),za=v,Zn(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{bh(i.containerInfo)}catch(ge){Kt(s,s.return,ge)}rg&&(rg=!1,N_(s));break;case 4:d=za,za=$f(s.stateNode.containerInfo),Jn(i,s),Zn(s),za=d;break;case 12:Jn(i,s),Zn(s);break;case 13:Jn(i,s),Zn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cg=Le()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ng(s,d)));break;case 22:v=s.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,ue=Ws,_e=yr;if(Ws=ue||v,yr=_e||J,Jn(i,s),yr=_e,Ws=ue,Zn(s),d&8192)e:for(i=s.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(u===null||J||Ws||yr||ol(s)),u=null,i=s;;){if(i.tag===5||i.tag===26){if(u===null){J=u=i;try{if(_=J.stateNode,v)j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{F=J.stateNode;var Se=J.memoizedProps.style,pe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;F.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(ge){Kt(J,J.return,ge)}}}else if(i.tag===6){if(u===null){J=i;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(ge){Kt(J,J.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,ng(s,u))));break;case 19:Jn(i,s),Zn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ng(s,d)));break;case 30:break;case 21:break;default:Jn(i,s),Zn(s)}}function Zn(s){var i=s.flags;if(i&2){try{for(var u,d=s.return;d!==null;){if(x_(d)){u=d;break}d=d.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,_=eg(s);kf(s,_,v);break;case 5:var j=u.stateNode;u.flags&32&&(ma(j,""),u.flags&=-33);var F=eg(s);kf(s,F,j);break;case 3:case 4:var J=u.stateNode.containerInfo,ue=eg(s);tg(s,ue,J);break;default:throw Error(n(161))}}catch(_e){Kt(s,s.return,_e)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function N_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;N_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Oi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(s,i.alternate,i),i=i.sibling}function ol(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:ki(4,i,i.return),ol(i);break;case 1:us(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&g_(i,i.return,u),ol(i);break;case 27:vh(i.stateNode);case 26:case 5:us(i,i.return),ol(i);break;case 22:i.memoizedState===null&&ol(i);break;case 30:ol(i);break;default:ol(i)}s=s.sibling}}function Pi(s,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,v=s,_=i,j=_.flags;switch(_.tag){case 0:case 11:case 15:Pi(v,_,u),oh(4,_);break;case 1:if(Pi(v,_,u),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Kt(d,d.return,ue)}if(d=_,v=d.updateQueue,v!==null){var F=d.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)ty(J[v],F)}catch(ue){Kt(d,d.return,ue)}}u&&j&64&&p_(_),lh(_,_.return);break;case 27:y_(_);case 26:case 5:Pi(v,_,u),u&&d===null&&j&4&&v_(_),lh(_,_.return);break;case 12:Pi(v,_,u);break;case 13:Pi(v,_,u),u&&j&4&&S_(v,_);break;case 22:_.memoizedState===null&&Pi(v,_,u),lh(_,_.return);break;case 30:break;default:Pi(v,_,u)}i=i.sibling}}function ag(s,i){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Wu(u))}function sg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Wu(s))}function hs(s,i,u,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(s,i,u,d),i=i.sibling}function A_(s,i,u,d){var v=i.flags;switch(i.tag){case 0:case 11:case 15:hs(s,i,u,d),v&2048&&oh(9,i);break;case 1:hs(s,i,u,d);break;case 3:hs(s,i,u,d),v&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Wu(s)));break;case 12:if(v&2048){hs(s,i,u,d),s=i.stateNode;try{var _=i.memoizedProps,j=_.id,F=_.onPostCommit;typeof F=="function"&&F(j,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(J){Kt(i,i.return,J)}}else hs(s,i,u,d);break;case 13:hs(s,i,u,d);break;case 23:break;case 22:_=i.stateNode,j=i.alternate,i.memoizedState!==null?_._visibility&2?hs(s,i,u,d):ch(s,i):_._visibility&2?hs(s,i,u,d):(_._visibility|=2,fc(s,i,u,d,(i.subtreeFlags&10256)!==0)),v&2048&&ag(j,i);break;case 24:hs(s,i,u,d),v&2048&&sg(i.alternate,i);break;default:hs(s,i,u,d)}}function fc(s,i,u,d,v){for(v=v&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=s,j=i,F=u,J=d,ue=j.flags;switch(j.tag){case 0:case 11:case 15:fc(_,j,F,J,v),oh(8,j);break;case 23:break;case 22:var _e=j.stateNode;j.memoizedState!==null?_e._visibility&2?fc(_,j,F,J,v):ch(_,j):(_e._visibility|=2,fc(_,j,F,J,v)),v&&ue&2048&&ag(j.alternate,j);break;case 24:fc(_,j,F,J,v),v&&ue&2048&&sg(j.alternate,j);break;default:fc(_,j,F,J,v)}i=i.sibling}}function ch(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=s,d=i,v=d.flags;switch(d.tag){case 22:ch(u,d),v&2048&&ag(d.alternate,d);break;case 24:ch(u,d),v&2048&&sg(d.alternate,d);break;default:ch(u,d)}i=i.sibling}}var uh=8192;function mc(s){if(s.subtreeFlags&uh)for(s=s.child;s!==null;)C_(s),s=s.sibling}function C_(s){switch(s.tag){case 26:mc(s),s.flags&uh&&s.memoizedState!==null&&kR(za,s.memoizedState,s.memoizedProps);break;case 5:mc(s);break;case 3:case 4:var i=za;za=$f(s.stateNode.containerInfo),mc(s),za=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=uh,uh=16777216,mc(s),uh=i):mc(s));break;default:mc(s)}}function R_(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function hh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var d=i[u];Ur=d,D_(d,s)}R_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j_(s),s=s.sibling}function j_(s){switch(s.tag){case 0:case 11:case 15:hh(s),s.flags&2048&&ki(9,s,s.return);break;case 3:hh(s);break;case 12:hh(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Of(s)):hh(s);break;default:hh(s)}}function Of(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var d=i[u];Ur=d,D_(d,s)}R_(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:ki(8,i,i.return),Of(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,Of(i));break;default:Of(i)}s=s.sibling}}function D_(s,i){for(;Ur!==null;){var u=Ur;switch(u.tag){case 0:case 11:case 15:ki(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Wu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Ur=d;else e:for(u=s;Ur!==null;){d=Ur;var v=d.sibling,_=d.return;if(T_(d),d===u){Ur=null;break e}if(v!==null){v.return=_,Ur=v;break e}Ur=_}}}var KC={getCacheForType:function(s){var i=mn(Or),u=i.data.get(s);return u===void 0&&(u=s(),i.data.set(s,u)),u}},XC=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Zt=null,vt=null,Tt=0,Lt=0,ea=null,Mi=!1,pc=!1,ig=!1,Ks=0,fr=0,Fi=0,ll=0,og=0,Ea=0,gc=0,dh=null,Ln=null,lg=!1,cg=0,Pf=1/0,Mf=null,Li=null,en=0,Vi=null,vc=null,xc=0,ug=0,hg=null,I_=null,fh=0,dg=null;function ta(){if((Ft&2)!==0&&Tt!==0)return Tt&-Tt;if(de.T!==null){var s=sc;return s!==0?s:yg()}return Oa()}function k_(){Ea===0&&(Ea=(Tt&536870912)===0||jt?vi():536870912);var s=_a.current;return s!==null&&(s.flags|=32),Ea}function ra(s,i,u){(s===Zt&&(Lt===2||Lt===9)||s.cancelPendingCommit!==null)&&(yc(s,0),Bi(s,Tt,Ea,!1)),or(s,u),((Ft&2)===0||s!==Zt)&&(s===Zt&&((Ft&2)===0&&(ll|=u),fr===4&&Bi(s,Tt,Ea,!1)),ds(s))}function O_(s,i,u){if((Ft&6)!==0)throw Error(n(327));var d=!u&&(i&124)===0&&(i&s.expiredLanes)===0||rs(s,i),v=d?ZC(s,i):pg(s,i,!0),_=d;do{if(v===0){pc&&!d&&Bi(s,i,0,!1);break}else{if(u=s.current.alternate,_&&!QC(u)){v=pg(s,i,!1),_=!1;continue}if(v===2){if(_=i,s.errorRecoveryDisabledLanes&_)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){i=j;e:{var F=s;v=dh;var J=F.current.memoizedState.isDehydrated;if(J&&(yc(F,j).flags|=256),j=pg(F,j,!1),j!==2){if(ig&&!J){F.errorRecoveryDisabledLanes|=_,ll|=_,v=4;break e}_=Ln,Ln=v,_!==null&&(Ln===null?Ln=_:Ln.push.apply(Ln,_))}v=j}if(_=!1,v!==2)continue}}if(v===1){yc(s,0),Bi(s,i,0,!0);break}e:{switch(d=s,_=v,_){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Bi(d,i,Ea,!Mi);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(v=cg+300-Le(),10<v)){if(Bi(d,i,Ea,!Mi),On(d,0,!0)!==0)break e;d.timeoutHandle=cE(P_.bind(null,d,u,Ln,Mf,lg,i,Ea,ll,gc,Mi,_,2,-0,0),v);break e}P_(d,u,Ln,Mf,lg,i,Ea,ll,gc,Mi,_,0,-0,0)}}break}while(!0);ds(s)}function P_(s,i,u,d,v,_,j,F,J,ue,_e,Se,pe,ge){if(s.timeoutHandle=-1,Se=i.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(_h={stylesheets:null,count:0,unsuspend:IR},C_(i),Se=OR(),Se!==null)){s.cancelPendingCommit=Se(z_.bind(null,s,i,_,u,d,v,j,F,J,_e,1,pe,ge)),Bi(s,_,j,!ue);return}z_(s,i,_,u,d,v,j,F,J)}function QC(s){for(var i=s;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],_=v.getSnapshot;v=v.value;try{if(!Xn(_(),v))return!1}catch{return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(s,i,u,d){i&=~og,i&=~ll,s.suspendedLanes|=i,s.pingedLanes&=~i,d&&(s.warmLanes|=i),d=s.expirationTimes;for(var v=i;0<v;){var _=31-Jr(v),j=1<<_;d[_]=-1,v&=~j}u!==0&&ns(s,u,i)}function Ff(){return(Ft&6)===0?(mh(0),!1):!0}function fg(){if(vt!==null){if(Lt===0)var s=vt.return;else s=vt,Us=rl=null,jp(s),hc=null,ah=0,s=vt;for(;s!==null;)m_(s.alternate,s),s=s.return;vt=null}}function yc(s,i){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,pR(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),fg(),Zt=s,vt=u=Ls(s.current,null),Tt=i,Lt=0,ea=null,Mi=!1,pc=rs(s,i),ig=!1,gc=Ea=og=ll=Fi=fr=0,Ln=dh=null,lg=!1,(i&8)!==0&&(i|=i&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=i;0<d;){var v=31-Jr(d),_=1<<v;i|=s[v],d&=~_}return Ks=i,af(),u}function M_(s,i){mt=null,de.H=Sf,i===Ku||i===mf?(i=Zx(),Lt=3):i===Xx?(i=Zx(),Lt=4):Lt=i===e_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ea=i,vt===null&&(fr=1,Rf(s,ga(i,s.current)))}function F_(){var s=de.H;return de.H=Sf,s===null?Sf:s}function L_(){var s=de.A;return de.A=KC,s}function mg(){fr=4,Mi||(Tt&4194048)!==Tt&&_a.current!==null||(pc=!0),(Fi&134217727)===0&&(ll&134217727)===0||Zt===null||Bi(Zt,Tt,Ea,!1)}function pg(s,i,u){var d=Ft;Ft|=2;var v=F_(),_=L_();(Zt!==s||Tt!==i)&&(Mf=null,yc(s,i)),i=!1;var j=fr;e:do try{if(Lt!==0&&vt!==null){var F=vt,J=ea;switch(Lt){case 8:fg(),j=6;break e;case 3:case 2:case 9:case 6:_a.current===null&&(i=!0);var ue=Lt;if(Lt=0,ea=null,_c(s,F,J,ue),u&&pc){j=0;break e}break;default:ue=Lt,Lt=0,ea=null,_c(s,F,J,ue)}}JC(),j=fr;break}catch(_e){M_(s,_e)}while(!0);return i&&s.shellSuspendCounter++,Us=rl=null,Ft=d,de.H=v,de.A=_,vt===null&&(Zt=null,Tt=0,af()),j}function JC(){for(;vt!==null;)V_(vt)}function ZC(s,i){var u=Ft;Ft|=2;var d=F_(),v=L_();Zt!==s||Tt!==i?(Mf=null,Pf=Le()+500,yc(s,i)):pc=rs(s,i);e:do try{if(Lt!==0&&vt!==null){i=vt;var _=ea;t:switch(Lt){case 1:Lt=0,ea=null,_c(s,i,_,1);break;case 2:case 9:if(Qx(_)){Lt=0,ea=null,B_(i);break}i=function(){Lt!==2&&Lt!==9||Zt!==s||(Lt=7),ds(s)},_.then(i,i);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Qx(_)?(Lt=0,ea=null,B_(i)):(Lt=0,ea=null,_c(s,i,_,7));break;case 5:var j=null;switch(vt.tag){case 26:j=vt.memoizedState;case 5:case 27:var F=vt;if(!j||EE(j)){Lt=0,ea=null;var J=F.sibling;if(J!==null)vt=J;else{var ue=F.return;ue!==null?(vt=ue,Lf(ue)):vt=null}break t}}Lt=0,ea=null,_c(s,i,_,5);break;case 6:Lt=0,ea=null,_c(s,i,_,6);break;case 8:fg(),fr=6;break e;default:throw Error(n(462))}}eR();break}catch(_e){M_(s,_e)}while(!0);return Us=rl=null,de.H=d,de.A=v,Ft=u,vt!==null?0:(Zt=null,Tt=0,af(),fr)}function eR(){for(;vt!==null&&!Gn();)V_(vt)}function V_(s){var i=d_(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,i===null?Lf(s):vt=i}function B_(s){var i=s,u=i.alternate;switch(i.tag){case 15:case 0:i=i_(u,i,i.pendingProps,i.type,void 0,Tt);break;case 11:i=i_(u,i,i.pendingProps,i.type.render,i.ref,Tt);break;case 5:jp(i);default:m_(u,i),i=vt=Ux(i,Ks),i=d_(u,i,Ks)}s.memoizedProps=s.pendingProps,i===null?Lf(s):vt=i}function _c(s,i,u,d){Us=rl=null,jp(i),hc=null,ah=0;var v=i.return;try{if(HC(s,v,i,u,Tt)){fr=1,Rf(s,ga(u,s.current)),vt=null;return}}catch(_){if(v!==null)throw vt=v,_;fr=1,Rf(s,ga(u,s.current)),vt=null;return}i.flags&32768?(jt||d===1?s=!0:pc||(Tt&536870912)!==0?s=!1:(Mi=s=!0,(d===2||d===9||d===3||d===6)&&(d=_a.current,d!==null&&d.tag===13&&(d.flags|=16384))),U_(i,s)):Lf(i)}function Lf(s){var i=s;do{if((i.flags&32768)!==0){U_(i,Mi);return}s=i.return;var u=GC(i.alternate,i,Ks);if(u!==null){vt=u;return}if(i=i.sibling,i!==null){vt=i;return}vt=i=s}while(i!==null);fr===0&&(fr=5)}function U_(s,i){do{var u=$C(s.alternate,s);if(u!==null){u.flags&=32767,vt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(s=s.sibling,s!==null)){vt=s;return}vt=s=u}while(s!==null);fr=6,vt=null}function z_(s,i,u,d,v,_,j,F,J){s.cancelPendingCommit=null;do Vf();while(en!==0);if((Ft&6)!==0)throw Error(n(327));if(i!==null){if(i===s.current)throw Error(n(177));if(_=i.lanes|i.childLanes,_|=sp,Ds(s,u,_,j,F,J),s===Zt&&(vt=Zt=null,Tt=0),vc=i,Vi=s,xc=u,ug=_,hg=v,I_=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,aR(dn,function(){return W_(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=de.T,de.T=null,v=Ce.p,Ce.p=2,j=Ft,Ft|=4;try{WC(s,i,u)}finally{Ft=j,Ce.p=v,de.T=d}}en=1,H_(),q_(),G_()}}function H_(){if(en===1){en=0;var s=Vi,i=vc,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=de.T,de.T=null;var d=Ce.p;Ce.p=2;var v=Ft;Ft|=4;try{b_(i,s);var _=Ag,j=Dx(s.containerInfo),F=_.focusedElem,J=_.selectionRange;if(j!==F&&F&&F.ownerDocument&&jx(F.ownerDocument.documentElement,F)){if(J!==null&&ep(F)){var ue=J.start,_e=J.end;if(_e===void 0&&(_e=ue),"selectionStart"in F)F.selectionStart=ue,F.selectionEnd=Math.min(_e,F.value.length);else{var Se=F.ownerDocument||document,pe=Se&&Se.defaultView||window;if(pe.getSelection){var ge=pe.getSelection(),at=F.textContent.length,Ze=Math.min(J.start,at),Wt=J.end===void 0?Ze:Math.min(J.end,at);!ge.extend&&Ze>Wt&&(j=Wt,Wt=Ze,Ze=j);var se=Rx(F,Ze),ne=Rx(F,Wt);if(se&&ne&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var oe=Se.createRange();oe.setStart(se.node,se.offset),ge.removeAllRanges(),Ze>Wt?(ge.addRange(oe),ge.extend(ne.node,ne.offset)):(oe.setEnd(ne.node,ne.offset),ge.addRange(oe))}}}}for(Se=[],ge=F;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Se.length;F++){var Te=Se[F];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Qf=!!Ng,Ag=Ng=null}finally{Ft=v,Ce.p=d,de.T=u}}s.current=i,en=2}}function q_(){if(en===2){en=0;var s=Vi,i=vc,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=de.T,de.T=null;var d=Ce.p;Ce.p=2;var v=Ft;Ft|=4;try{E_(s,i.alternate,i)}finally{Ft=v,Ce.p=d,de.T=u}}en=3}}function G_(){if(en===4||en===3){en=0,Ht();var s=Vi,i=vc,u=xc,d=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,vc=Vi=null,$_(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Li=null),Po(u),i=i.stateNode,Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(ha,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=de.T,v=Ce.p,Ce.p=2,de.T=null;try{for(var _=s.onRecoverableError,j=0;j<d.length;j++){var F=d[j];_(F.value,{componentStack:F.stack})}}finally{de.T=i,Ce.p=v}}(xc&3)!==0&&Vf(),ds(s),v=s.pendingLanes,(u&4194090)!==0&&(v&42)!==0?s===dg?fh++:(fh=0,dg=s):fh=0,mh(0)}}function $_(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Wu(i)))}function Vf(s){return H_(),q_(),G_(),W_()}function W_(){if(en!==5)return!1;var s=Vi,i=ug;ug=0;var u=Po(xc),d=de.T,v=Ce.p;try{Ce.p=32>u?32:u,de.T=null,u=hg,hg=null;var _=Vi,j=xc;if(en=0,vc=Vi=null,xc=0,(Ft&6)!==0)throw Error(n(331));var F=Ft;if(Ft|=4,j_(_.current),A_(_,_.current,j,u),Ft=F,mh(0,!1),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(ha,_)}catch{}return!0}finally{Ce.p=v,de.T=d,$_(s,i)}}function Y_(s,i,u){i=ga(u,i),i=qp(s.stateNode,i,2),s=Ri(s,i,2),s!==null&&(or(s,2),ds(s))}function Kt(s,i,u){if(s.tag===3)Y_(s,s,u);else for(;i!==null;){if(i.tag===3){Y_(i,s,u);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){s=ga(u,s),u=Jy(2),d=Ri(i,u,2),d!==null&&(Zy(u,d,i,s),or(d,2),ds(d));break}}i=i.return}}function gg(s,i,u){var d=s.pingCache;if(d===null){d=s.pingCache=new XC;var v=new Set;d.set(i,v)}else v=d.get(i),v===void 0&&(v=new Set,d.set(i,v));v.has(u)||(ig=!0,v.add(u),s=tR.bind(null,s,i,u),i.then(s,s))}function tR(s,i,u){var d=s.pingCache;d!==null&&d.delete(i),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Zt===s&&(Tt&u)===u&&(fr===4||fr===3&&(Tt&62914560)===Tt&&300>Le()-cg?(Ft&2)===0&&yc(s,0):og|=u,gc===Tt&&(gc=0)),ds(s)}function K_(s,i){i===0&&(i=ka()),s=tc(s,i),s!==null&&(or(s,i),ds(s))}function rR(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),K_(s,u)}function nR(s,i){var u=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),K_(s,u)}function aR(s,i){return ir(s,i)}var Bf=null,Ec=null,vg=!1,Uf=!1,xg=!1,cl=0;function ds(s){s!==Ec&&s.next===null&&(Ec===null?Bf=Ec=s:Ec=Ec.next=s),Uf=!0,vg||(vg=!0,iR())}function mh(s,i){if(!xg&&Uf){xg=!0;do for(var u=!1,d=Bf;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var j=d.suspendedLanes,F=d.pingedLanes;_=(1<<31-Jr(42|s)+1)-1,_&=v&~(j&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,Z_(d,_))}else _=Tt,_=On(d,d===Zt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||rs(d,_)||(u=!0,Z_(d,_));d=d.next}while(u);xg=!1}}function sR(){X_()}function X_(){Uf=vg=!1;var s=0;cl!==0&&(mR()&&(s=cl),cl=0);for(var i=Le(),u=null,d=Bf;d!==null;){var v=d.next,_=Q_(d,i);_===0?(d.next=null,u===null?Bf=v:u.next=v,v===null&&(Ec=u)):(u=d,(s!==0||(_&3)!==0)&&(Uf=!0)),d=v}mh(s)}function Q_(s,i){for(var u=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var j=31-Jr(_),F=1<<j,J=v[j];J===-1?((F&u)===0||(F&d)!==0)&&(v[j]=js(F,i)):J<=i&&(s.expiredLanes|=F),_&=~F}if(i=Zt,u=Tt,u=On(s,s===i?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===i&&(Lt===2||Lt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&gt(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||rs(s,u)){if(i=u&-u,i===s.callbackPriority)return i;switch(d!==null&&gt(d),Po(u)){case 2:case 8:u=Qt;break;case 32:u=dn;break;case 268435456:u=Rs;break;default:u=dn}return d=J_.bind(null,s),u=ir(u,d),s.callbackPriority=i,s.callbackNode=u,i}return d!==null&&d!==null&&gt(d),s.callbackPriority=2,s.callbackNode=null,2}function J_(s,i){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Vf()&&s.callbackNode!==u)return null;var d=Tt;return d=On(s,s===Zt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(O_(s,d,i),Q_(s,Le()),s.callbackNode!=null&&s.callbackNode===u?J_.bind(null,s):null)}function Z_(s,i){if(Vf())return null;O_(s,i,!0)}function iR(){gR(function(){(Ft&6)!==0?ir(Ot,sR):X_()})}function yg(){return cl===0&&(cl=vi()),cl}function eE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fa(""+s)}function tE(s,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,s.id&&u.setAttribute("form",s.id),i.parentNode.insertBefore(u,i),s=new FormData(s),u.parentNode.removeChild(u),s}function oR(s,i,u,d,v){if(i==="submit"&&u&&u.stateNode===v){var _=eE((v[gr]||null).action),j=d.submitter;j&&(i=(i=j[gr]||null)?eE(i.formAction):j.getAttribute("formAction"),i!==null&&(_=i,j=null));var F=new zo("action","action",null,d,v);s.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(cl!==0){var J=j?tE(v,j):new FormData(v);Vp(u,{pending:!0,data:J,method:v.method,action:_},null,J)}}else typeof _=="function"&&(F.preventDefault(),J=j?tE(v,j):new FormData(v),Vp(u,{pending:!0,data:J,method:v.method,action:_},_,J))},currentTarget:v}]})}}for(var _g=0;_g<ap.length;_g++){var Eg=ap[_g],lR=Eg.toLowerCase(),cR=Eg[0].toUpperCase()+Eg.slice(1);Ua(lR,"on"+cR)}Ua(Ox,"onAnimationEnd"),Ua(Px,"onAnimationIteration"),Ua(Mx,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(NC,"onTransitionRun"),Ua(AC,"onTransitionStart"),Ua(CC,"onTransitionCancel"),Ua(Fx,"onTransitionEnd"),Ie("onMouseEnter",["mouseout","mouseover"]),Ie("onMouseLeave",["mouseout","mouseover"]),Ie("onPointerEnter",["pointerout","pointerover"]),Ie("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function rE(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],v=d.event;d=d.listeners;e:{var _=void 0;if(i)for(var j=d.length-1;0<=j;j--){var F=d[j],J=F.instance,ue=F.currentTarget;if(F=F.listener,J!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=ue;try{_(v)}catch(_e){Cf(_e)}v.currentTarget=null,_=J}else for(j=0;j<d.length;j++){if(F=d[j],J=F.instance,ue=F.currentTarget,F=F.listener,J!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=ue;try{_(v)}catch(_e){Cf(_e)}v.currentTarget=null,_=J}}}}function xt(s,i){var u=i[Is];u===void 0&&(u=i[Is]=new Set);var d=s+"__bubble";u.has(d)||(nE(i,s,2,!1),u.add(d))}function Tg(s,i,u){var d=0;i&&(d|=4),nE(u,s,d,i)}var zf="_reactListening"+Math.random().toString(36).slice(2);function wg(s){if(!s[zf]){s[zf]=!0,fe.forEach(function(u){u!=="selectionchange"&&(uR.has(u)||Tg(u,!1,s),Tg(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[zf]||(i[zf]=!0,Tg("selectionchange",!1,i))}}function nE(s,i,u,d){switch(AE(i)){case 2:var v=FR;break;case 8:v=LR;break;default:v=Fg}u=v.bind(null,i,u,s),v=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(i,u,{capture:!0,passive:v}):s.addEventListener(i,u,!0):v!==void 0?s.addEventListener(i,u,{passive:v}):s.addEventListener(i,u,!1)}function Sg(s,i,u,d,v){var _=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var F=d.stateNode.containerInfo;if(F===v)break;if(j===4)for(j=d.return;j!==null;){var J=j.tag;if((J===3||J===4)&&j.stateNode.containerInfo===v)return;j=j.return}for(;F!==null;){if(j=Y(F),j===null)return;if(J=j.tag,J===5||J===6||J===26||J===27){d=_=j;continue e}F=F.parentNode}}d=d.return}Vo(function(){var ue=_,_e=Iu(u),Se=[];e:{var pe=Lx.get(s);if(pe!==void 0){var ge=zo,at=s;switch(s){case"keypress":if(Bo(u)===0)break e;case"keydown":case"keyup":ge=Ql;break;case"focusin":at="focus",ge=Yl;break;case"focusout":at="blur",ge=Yl;break;case"beforeblur":case"afterblur":ge=Yl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=bi;break;case Ox:case Px:case Mx:ge=Ou;break;case Fx:ge=S;break;case"scroll":case"scrollend":ge=qo;break;case"wheel":ge=B;break;case"copy":case"cut":case"paste":ge=Qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Fu;break;case"toggle":case"beforetoggle":ge=ve}var Ze=(i&4)!==0,Wt=!Ze&&(s==="scroll"||s==="scrollend"),se=Ze?pe!==null?pe+"Capture":null:pe;Ze=[];for(var ne=ue,oe;ne!==null;){var Te=ne;if(oe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||oe===null||se===null||(Te=wi(ne,se),Te!=null&&Ze.push(gh(ne,Te,oe))),Wt)break;ne=ne.return}0<Ze.length&&(pe=new ge(pe,at,null,u,_e),Se.push({event:pe,listeners:Ze}))}}if((i&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",pe&&u!==Du&&(at=u.relatedTarget||u.fromElement)&&(Y(at)||at[Pa]))break e;if((ge||pe)&&(pe=_e.window===_e?_e:(pe=_e.ownerDocument)?pe.defaultView||pe.parentWindow:window,ge?(at=u.relatedTarget||u.toElement,ge=ue,at=at?Y(at):null,at!==null&&(Wt=o(at),Ze=at.tag,at!==Wt||Ze!==5&&Ze!==27&&Ze!==6)&&(at=null)):(ge=null,at=ue),ge!==at)){if(Ze=Wo,Te="onMouseLeave",se="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=Fu,Te="onPointerLeave",se="onPointerEnter",ne="pointer"),Wt=ge==null?pe:ce(ge),oe=at==null?pe:ce(at),pe=new Ze(Te,ne+"leave",ge,u,_e),pe.target=Wt,pe.relatedTarget=oe,Te=null,Y(_e)===ue&&(Ze=new Ze(se,ne+"enter",at,u,_e),Ze.target=oe,Ze.relatedTarget=Wt,Te=Ze),Wt=Te,ge&&at)t:{for(Ze=ge,se=at,ne=0,oe=Ze;oe;oe=Tc(oe))ne++;for(oe=0,Te=se;Te;Te=Tc(Te))oe++;for(;0<ne-oe;)Ze=Tc(Ze),ne--;for(;0<oe-ne;)se=Tc(se),oe--;for(;ne--;){if(Ze===se||se!==null&&Ze===se.alternate)break t;Ze=Tc(Ze),se=Tc(se)}Ze=null}else Ze=null;ge!==null&&aE(Se,pe,ge,Ze,!1),at!==null&&Wt!==null&&aE(Se,Wt,at,Ze,!0)}}e:{if(pe=ue?ce(ue):window,ge=pe.nodeName&&pe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&pe.type==="file")var Ge=wx;else if(Ex(pe))if(Sx)Ge=wC;else{Ge=EC;var pt=_C}else ge=pe.nodeName,!ge||ge.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ue&&Gl(ue.elementType)&&(Ge=wx):Ge=TC;if(Ge&&(Ge=Ge(s,ue))){Tx(Se,Ge,u,_e);break e}pt&&pt(s,pe,ue),s==="focusout"&&ue&&pe.type==="number"&&ue.memoizedProps.value!=null&&Cu(pe,"number",pe.value)}switch(pt=ue?ce(ue):window,s){case"focusin":(Ex(pt)||pt.contentEditable==="true")&&(Jl=pt,tp=ue,zu=null);break;case"focusout":zu=tp=Jl=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,Ix(Se,u,_e);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":Ix(Se,u,_e)}var Ye;if(ot)e:{switch(s){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Ba?La(s,u)&&(et="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(vr&&u.locale!=="ko"&&(Ba||et!=="onCompositionStart"?et==="onCompositionEnd"&&Ba&&(Ye=Yd()):(pa=_e,Jt="value"in pa?pa.value:pa.textContent,Ba=!0)),pt=Hf(ue,et),0<pt.length&&(et=new Mu(et,s,null,u,_e),Se.push({event:et,listeners:pt}),Ye?et.data=Ye:(Ye=Va(u),Ye!==null&&(et.data=Ye)))),(Ye=Mt?Lu(s,u):vC(s,u))&&(et=Hf(ue,"onBeforeInput"),0<et.length&&(pt=new Mu("onBeforeInput","beforeinput",null,u,_e),Se.push({event:pt,listeners:et}),pt.data=Ye)),oR(Se,s,ue,u,_e)}rE(Se,i)})}function gh(s,i,u){return{instance:s,listener:i,currentTarget:u}}function Hf(s,i){for(var u=i+"Capture",d=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=wi(s,u),v!=null&&d.unshift(gh(s,v,_)),v=wi(s,i),v!=null&&d.push(gh(s,v,_))),s.tag===3)return d;s=s.return}return[]}function Tc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aE(s,i,u,d,v){for(var _=i._reactName,j=[];u!==null&&u!==d;){var F=u,J=F.alternate,ue=F.stateNode;if(F=F.tag,J!==null&&J===d)break;F!==5&&F!==26&&F!==27||ue===null||(J=ue,v?(ue=wi(u,_),ue!=null&&j.unshift(gh(u,ue,J))):v||(ue=wi(u,_),ue!=null&&j.push(gh(u,ue,J)))),u=u.return}j.length!==0&&s.push({event:i,listeners:j})}var hR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function sE(s){return(typeof s=="string"?s:""+s).replace(hR,`
`).replace(dR,"")}function iE(s,i){return i=sE(i),sE(s)===i}function qf(){}function $t(s,i,u,d,v,_){switch(u){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||ma(s,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&ma(s,""+d);break;case"className":Rt(s,"class",d);break;case"tabIndex":Rt(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Rt(s,u,d);break;case"style":ju(s,d,_);break;case"data":if(i!=="object"){Rt(s,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Fa(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(i!=="input"&&$t(s,i,"name",v.name,v,null),$t(s,i,"formEncType",v.formEncType,v,null),$t(s,i,"formMethod",v.formMethod,v,null),$t(s,i,"formTarget",v.formTarget,v,null)):($t(s,i,"encType",v.encType,v,null),$t(s,i,"method",v.method,v,null),$t(s,i,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Fa(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=qf);break;case"onScroll":d!=null&&xt("scroll",s);break;case"onScrollEnd":d!=null&&xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=Fa(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":xt("beforetoggle",s),xt("toggle",s),Ct(s,"popover",d);break;case"xlinkActuate":Pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Pt(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Pt(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Pt(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Pt(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ct(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Gd.get(u)||u,Ct(s,u,d))}}function bg(s,i,u,d,v,_){switch(u){case"style":ju(s,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof d=="string"?ma(s,d):(typeof d=="number"||typeof d=="bigint")&&ma(s,""+d);break;case"onScroll":d!=null&&xt("scroll",s);break;case"onScrollEnd":d!=null&&xt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!me.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),i=u.slice(2,v?u.length-7:void 0),_=s[gr]||null,_=_!=null?_[u]:null,typeof _=="function"&&s.removeEventListener(i,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(i,d,v);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):Ct(s,u,d)}}}function tn(s,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",s),xt("load",s);var d=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var j=u[_];if(j!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:$t(s,i,_,j,u,null)}}v&&$t(s,i,"srcSet",u.srcSet,u,null),d&&$t(s,i,"src",u.src,u,null);return;case"input":xt("invalid",s);var F=_=j=v=null,J=null,ue=null;for(d in u)if(u.hasOwnProperty(d)){var _e=u[d];if(_e!=null)switch(d){case"name":v=_e;break;case"type":j=_e;break;case"checked":J=_e;break;case"defaultChecked":ue=_e;break;case"value":_=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,i));break;default:$t(s,i,d,_e,u,null)}}Au(s,_,F,J,ue,j,v,!1),_i(s);return;case"select":xt("invalid",s),d=j=_=null;for(v in u)if(u.hasOwnProperty(v)&&(F=u[v],F!=null))switch(v){case"value":_=F;break;case"defaultValue":j=F;break;case"multiple":d=F;default:$t(s,i,v,F,u,null)}i=_,u=j,s.multiple=!!d,i!=null?Ei(s,!!d,i,!1):u!=null&&Ei(s,!!d,u,!0);return;case"textarea":xt("invalid",s),_=v=d=null;for(j in u)if(u.hasOwnProperty(j)&&(F=u[j],F!=null))switch(j){case"value":d=F;break;case"defaultValue":v=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(n(91));break;default:$t(s,i,j,F,u,null)}qd(s,d,v,_),_i(s);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(d=u[J],d!=null))switch(J){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:$t(s,i,J,d,u,null)}return;case"dialog":xt("beforetoggle",s),xt("toggle",s),xt("cancel",s),xt("close",s);break;case"iframe":case"object":xt("load",s);break;case"video":case"audio":for(d=0;d<ph.length;d++)xt(ph[d],s);break;case"image":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"embed":case"source":case"link":xt("error",s),xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in u)if(u.hasOwnProperty(ue)&&(d=u[ue],d!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:$t(s,i,ue,d,u,null)}return;default:if(Gl(i)){for(_e in u)u.hasOwnProperty(_e)&&(d=u[_e],d!==void 0&&bg(s,i,_e,d,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(d=u[F],d!=null&&$t(s,i,F,d,u,null))}function fR(s,i,u,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,j=null,F=null,J=null,ue=null,_e=null;for(ge in u){var Se=u[ge];if(u.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":J=Se;default:d.hasOwnProperty(ge)||$t(s,i,ge,null,d,Se)}}for(var pe in d){var ge=d[pe];if(Se=u[pe],d.hasOwnProperty(pe)&&(ge!=null||Se!=null))switch(pe){case"type":_=ge;break;case"name":v=ge;break;case"checked":ue=ge;break;case"defaultChecked":_e=ge;break;case"value":j=ge;break;case"defaultValue":F=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,i));break;default:ge!==Se&&$t(s,i,pe,ge,d,Se)}}Nu(s,j,F,J,ue,_e,_,v);return;case"select":ge=j=F=pe=null;for(_ in u)if(J=u[_],u.hasOwnProperty(_)&&J!=null)switch(_){case"value":break;case"multiple":ge=J;default:d.hasOwnProperty(_)||$t(s,i,_,null,d,J)}for(v in d)if(_=d[v],J=u[v],d.hasOwnProperty(v)&&(_!=null||J!=null))switch(v){case"value":pe=_;break;case"defaultValue":F=_;break;case"multiple":j=_;default:_!==J&&$t(s,i,v,_,d,J)}i=F,u=j,d=ge,pe!=null?Ei(s,!!u,pe,!1):!!d!=!!u&&(i!=null?Ei(s,!!u,i,!0):Ei(s,!!u,u?[]:"",!1));return;case"textarea":ge=pe=null;for(F in u)if(v=u[F],u.hasOwnProperty(F)&&v!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:$t(s,i,F,null,d,v)}for(j in d)if(v=d[j],_=u[j],d.hasOwnProperty(j)&&(v!=null||_!=null))switch(j){case"value":pe=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==_&&$t(s,i,j,v,d,_)}Hd(s,pe,ge);return;case"option":for(var at in u)if(pe=u[at],u.hasOwnProperty(at)&&pe!=null&&!d.hasOwnProperty(at))switch(at){case"selected":s.selected=!1;break;default:$t(s,i,at,null,d,pe)}for(J in d)if(pe=d[J],ge=u[J],d.hasOwnProperty(J)&&pe!==ge&&(pe!=null||ge!=null))switch(J){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:$t(s,i,J,pe,d,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)pe=u[Ze],u.hasOwnProperty(Ze)&&pe!=null&&!d.hasOwnProperty(Ze)&&$t(s,i,Ze,null,d,pe);for(ue in d)if(pe=d[ue],ge=u[ue],d.hasOwnProperty(ue)&&pe!==ge&&(pe!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(137,i));break;default:$t(s,i,ue,pe,d,ge)}return;default:if(Gl(i)){for(var Wt in u)pe=u[Wt],u.hasOwnProperty(Wt)&&pe!==void 0&&!d.hasOwnProperty(Wt)&&bg(s,i,Wt,void 0,d,pe);for(_e in d)pe=d[_e],ge=u[_e],!d.hasOwnProperty(_e)||pe===ge||pe===void 0&&ge===void 0||bg(s,i,_e,pe,d,ge);return}}for(var se in u)pe=u[se],u.hasOwnProperty(se)&&pe!=null&&!d.hasOwnProperty(se)&&$t(s,i,se,null,d,pe);for(Se in d)pe=d[Se],ge=u[Se],!d.hasOwnProperty(Se)||pe===ge||pe==null&&ge==null||$t(s,i,Se,pe,d,ge)}var Ng=null,Ag=null;function Gf(s){return s.nodeType===9?s:s.ownerDocument}function oE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lE(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Cg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rg=null;function mR(){var s=window.event;return s&&s.type==="popstate"?s===Rg?!1:(Rg=s,!0):(Rg=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,gR=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(s){return uE.resolve(null).then(s).catch(vR)}:cE;function vR(s){setTimeout(function(){throw s})}function Ui(s){return s==="head"}function hE(s,i){var u=i,d=0,v=0;do{var _=u.nextSibling;if(s.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<d&&8>d){u=d;var j=s.ownerDocument;if(u&1&&vh(j.documentElement),u&2&&vh(j.body),u&4)for(u=j.head,vh(u),j=u.firstChild;j;){var F=j.nextSibling,J=j.nodeName;j[U]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&j.rel.toLowerCase()==="stylesheet"||u.removeChild(j),j=F}}if(v===0){s.removeChild(_),bh(i);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:d=u.charCodeAt(0)-48;else d=0;u=_}while(u);bh(i)}function jg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jg(u),q(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function xR(s,i,u,d){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[U])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Ha(s.nextSibling),s===null)break}return null}function yR(s,i,u){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ha(s.nextSibling),s===null))return null;return s}function Dg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function _R(s,i){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")i();else{var d=function(){i(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Ha(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var Ig=null;function dE(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}function fE(s,i,u){switch(i=Gf(u),s){case"html":if(s=i.documentElement,!s)throw Error(n(452));return s;case"head":if(s=i.head,!s)throw Error(n(453));return s;case"body":if(s=i.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function vh(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);q(s)}var Ta=new Map,mE=new Set;function $f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xs=Ce.d;Ce.d={f:ER,r:TR,D:wR,C:SR,L:bR,m:NR,X:CR,S:AR,M:RR};function ER(){var s=Xs.f(),i=Ff();return s||i}function TR(s){var i=X(s);i!==null&&i.tag===5&&i.type==="form"?Oy(i):Xs.r(s)}var wc=typeof document>"u"?null:document;function pE(s,i,u){var d=wc;if(d&&typeof i=="string"&&i){var v=Vr(i);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),mE.has(v)||(mE.add(v),s={rel:s,crossOrigin:u,href:i},d.querySelector(v)===null&&(i=d.createElement("link"),tn(i,"link",s),ie(i),d.head.appendChild(i)))}}function wR(s){Xs.D(s),pE("dns-prefetch",s,null)}function SR(s,i){Xs.C(s,i),pE("preconnect",s,i)}function bR(s,i,u){Xs.L(s,i,u);var d=wc;if(d&&s&&i){var v='link[rel="preload"][as="'+Vr(i)+'"]';i==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Vr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Vr(u.imageSizes)+'"]')):v+='[href="'+Vr(s)+'"]';var _=v;switch(i){case"style":_=Sc(s);break;case"script":_=bc(s)}Ta.has(_)||(s=g({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:s,as:i},u),Ta.set(_,s),d.querySelector(v)!==null||i==="style"&&d.querySelector(xh(_))||i==="script"&&d.querySelector(yh(_))||(i=d.createElement("link"),tn(i,"link",s),ie(i),d.head.appendChild(i)))}}function NR(s,i){Xs.m(s,i);var u=wc;if(u&&s){var d=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+Vr(d)+'"][href="'+Vr(s)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=bc(s)}if(!Ta.has(_)&&(s=g({rel:"modulepreload",href:s},i),Ta.set(_,s),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yh(_)))return}d=u.createElement("link"),tn(d,"link",s),ie(d),u.head.appendChild(d)}}}function AR(s,i,u){Xs.S(s,i,u);var d=wc;if(d&&s){var v=xe(d).hoistableStyles,_=Sc(s);i=i||"default";var j=v.get(_);if(!j){var F={loading:0,preload:null};if(j=d.querySelector(xh(_)))F.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":i},u),(u=Ta.get(_))&&kg(s,u);var J=j=d.createElement("link");ie(J),tn(J,"link",s),J._p=new Promise(function(ue,_e){J.onload=ue,J.onerror=_e}),J.addEventListener("load",function(){F.loading|=1}),J.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Wf(j,i,d)}j={type:"stylesheet",instance:j,count:1,state:F},v.set(_,j)}}}function CR(s,i){Xs.X(s,i);var u=wc;if(u&&s){var d=xe(u).hoistableScripts,v=bc(s),_=d.get(v);_||(_=u.querySelector(yh(v)),_||(s=g({src:s,async:!0},i),(i=Ta.get(v))&&Og(s,i),_=u.createElement("script"),ie(_),tn(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function RR(s,i){Xs.M(s,i);var u=wc;if(u&&s){var d=xe(u).hoistableScripts,v=bc(s),_=d.get(v);_||(_=u.querySelector(yh(v)),_||(s=g({src:s,async:!0,type:"module"},i),(i=Ta.get(v))&&Og(s,i),_=u.createElement("script"),ie(_),tn(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function gE(s,i,u,d){var v=(v=he.current)?$f(v):null;if(!v)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=Sc(u.href),u=xe(v).hoistableStyles,d=u.get(i),d||(d={type:"style",instance:null,count:0,state:null},u.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Sc(u.href);var _=xe(v).hoistableStyles,j=_.get(s);if(j||(v=v.ownerDocument||v,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,j),(_=v.querySelector(xh(s)))&&!_._p&&(j.instance=_,j.state.loading=5),Ta.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ta.set(s,u),_||jR(v,s,u,j.state))),i&&d===null)throw Error(n(528,""));return j}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bc(u),u=xe(v).hoistableScripts,d=u.get(i),d||(d={type:"script",instance:null,count:0,state:null},u.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Sc(s){return'href="'+Vr(s)+'"'}function xh(s){return'link[rel="stylesheet"]['+s+"]"}function vE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function jR(s,i,u,d){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=s.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),tn(i,"link",u),ie(i),s.head.appendChild(i))}function bc(s){return'[src="'+Vr(s)+'"]'}function yh(s){return"script[async]"+s}function xE(s,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var d=s.querySelector('style[data-href~="'+Vr(u.href)+'"]');if(d)return i.instance=d,ie(d),d;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),ie(d),tn(d,"style",v),Wf(d,u.precedence,s),i.instance=d;case"stylesheet":v=Sc(u.href);var _=s.querySelector(xh(v));if(_)return i.state.loading|=4,i.instance=_,ie(_),_;d=vE(u),(v=Ta.get(v))&&kg(d,v),_=(s.ownerDocument||s).createElement("link"),ie(_);var j=_;return j._p=new Promise(function(F,J){j.onload=F,j.onerror=J}),tn(_,"link",d),i.state.loading|=4,Wf(_,u.precedence,s),i.instance=_;case"script":return _=bc(u.src),(v=s.querySelector(yh(_)))?(i.instance=v,ie(v),v):(d=u,(v=Ta.get(_))&&(d=g({},u),Og(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),ie(v),tn(v,"link",d),s.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Wf(d,u.precedence,s));return i.instance}function Wf(s,i,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,j=0;j<d.length;j++){var F=d[j];if(F.dataset.precedence===i)_=F;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(s,i.firstChild))}function kg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Og(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Yf=null;function yE(s,i,u){if(Yf===null){var d=new Map,v=Yf=new Map;v.set(u,d)}else v=Yf,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var _=u[v];if(!(_[U]||_[lr]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var j=_.getAttribute(i)||"";j=s+j;var F=d.get(j);F?F.push(_):d.set(j,[_])}}return d}function _E(s,i,u){s=s.ownerDocument||s,s.head.insertBefore(u,i==="title"?s.querySelector("head > title"):null)}function DR(s,i,u){if(u===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function EE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var _h=null;function IR(){}function kR(s,i,u){if(_h===null)throw Error(n(475));var d=_h;if(i.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var v=Sc(u.href),_=s.querySelector(xh(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Kf.bind(d),s.then(d,d)),i.state.loading|=4,i.instance=_,ie(_);return}_=s.ownerDocument||s,u=vE(u),(v=Ta.get(v))&&kg(u,v),_=_.createElement("link"),ie(_);var j=_;j._p=new Promise(function(F,J){j.onload=F,j.onerror=J}),tn(_,"link",u),i.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Kf.bind(d),s.addEventListener("load",i),s.addEventListener("error",i))}}function OR(){if(_h===null)throw Error(n(475));var s=_h;return s.stylesheets&&s.count===0&&Pg(s,s.stylesheets),0<s.count?function(i){var u=setTimeout(function(){if(s.stylesheets&&Pg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Kf(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xf=null;function Pg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xf=new Map,i.forEach(PR,s),Xf=null,Kf.call(s))}function PR(s,i){if(!(i.state.loading&4)){var u=Xf.get(s);if(u)var d=u.get(null);else{u=new Map,Xf.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var j=v[_];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(u.set(j.dataset.precedence,j),d=j)}d&&u.set(null,d)}v=i.instance,j=v.getAttribute("data-precedence"),_=u.get(j)||d,_===d&&u.set(null,v),u.set(j,v),this.count++,d=Kf.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),i.state.loading|=4}}var Eh={$$typeof:V,Provider:null,Consumer:null,_currentValue:ze,_currentValue2:ze,_threadCount:0};function MR(s,i,u,d,v,_,j,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function TE(s,i,u,d,v,_,j,F,J,ue,_e,Se){return s=new MR(s,i,u,j,F,J,ue,Se),i=1,_===!0&&(i|=24),_=Qn(3,null,null,i),s.current=_,_.stateNode=s,i=gp(),i.refCount++,s.pooledCache=i,i.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:i},_p(_),s}function wE(s){return s?(s=rc,s):rc}function SE(s,i,u,d,v,_){v=wE(v),d.context===null?d.context=v:d.pendingContext=v,d=Ci(i),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Ri(s,d,i),u!==null&&(ra(u,s,i),Qu(u,s,i))}function bE(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Mg(s,i){bE(s,i),(s=s.alternate)&&bE(s,i)}function NE(s){if(s.tag===13){var i=tc(s,67108864);i!==null&&ra(i,s,67108864),Mg(s,67108864)}}var Qf=!0;function FR(s,i,u,d){var v=de.T;de.T=null;var _=Ce.p;try{Ce.p=2,Fg(s,i,u,d)}finally{Ce.p=_,de.T=v}}function LR(s,i,u,d){var v=de.T;de.T=null;var _=Ce.p;try{Ce.p=8,Fg(s,i,u,d)}finally{Ce.p=_,de.T=v}}function Fg(s,i,u,d){if(Qf){var v=Lg(d);if(v===null)Sg(s,i,d,Jf,u),CE(s,d);else if(BR(v,s,i,u,d))d.stopPropagation();else if(CE(s,d),i&4&&-1<VR.indexOf(s)){for(;v!==null;){var _=X(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var j=kn(_.pendingLanes);if(j!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;j;){var J=1<<31-Jr(j);F.entanglements[1]|=J,j&=~J}ds(_),(Ft&6)===0&&(Pf=Le()+500,mh(0))}}break;case 13:F=tc(_,2),F!==null&&ra(F,_,2),Ff(),Mg(_,2)}if(_=Lg(d),_===null&&Sg(s,i,d,Jf,u),_===v)break;v=_}v!==null&&d.stopPropagation()}else Sg(s,i,d,null,u)}}function Lg(s){return s=Iu(s),Vg(s)}var Jf=null;function Vg(s){if(Jf=null,s=Y(s),s!==null){var i=o(s);if(i===null)s=null;else{var u=i.tag;if(u===13){if(s=c(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Jf=s,null}function AE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case Ot:return 2;case Qt:return 8;case dn:case Hl:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Bg=!1,zi=null,Hi=null,qi=null,Th=new Map,wh=new Map,Gi=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(s,i){switch(s){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Th.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(i.pointerId)}}function Sh(s,i,u,d,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:i,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},i!==null&&(i=X(i),i!==null&&NE(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),s)}function BR(s,i,u,d,v){switch(i){case"focusin":return zi=Sh(zi,s,i,u,d,v),!0;case"dragenter":return Hi=Sh(Hi,s,i,u,d,v),!0;case"mouseover":return qi=Sh(qi,s,i,u,d,v),!0;case"pointerover":var _=v.pointerId;return Th.set(_,Sh(Th.get(_)||null,s,i,u,d,v)),!0;case"gotpointercapture":return _=v.pointerId,wh.set(_,Sh(wh.get(_)||null,s,i,u,d,v)),!0}return!1}function RE(s){var i=Y(s.target);if(i!==null){var u=o(i);if(u!==null){if(i=u.tag,i===13){if(i=c(u),i!==null){s.blockedOn=i,bu(s.priority,function(){if(u.tag===13){var d=ta();d=Oo(d);var v=tc(u,d);v!==null&&ra(v,u,d),Mg(u,d)}});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=Lg(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Du=d,u.target.dispatchEvent(d),Du=null}else return i=X(u),i!==null&&NE(i),s.blockedOn=u,!1;i.shift()}return!0}function jE(s,i,u){Zf(s)&&u.delete(i)}function UR(){Bg=!1,zi!==null&&Zf(zi)&&(zi=null),Hi!==null&&Zf(Hi)&&(Hi=null),qi!==null&&Zf(qi)&&(qi=null),Th.forEach(jE),wh.forEach(jE)}function e0(s,i){s.blockedOn===i&&(s.blockedOn=null,Bg||(Bg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UR)))}var t0=null;function DE(s){t0!==s&&(t0=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){t0===s&&(t0=null);for(var i=0;i<s.length;i+=3){var u=s[i],d=s[i+1],v=s[i+2];if(typeof d!="function"){if(Vg(d||u)===null)continue;break}var _=X(u);_!==null&&(s.splice(i,3),i-=3,Vp(_,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function bh(s){function i(J){return e0(J,s)}zi!==null&&e0(zi,s),Hi!==null&&e0(Hi,s),qi!==null&&e0(qi,s),Th.forEach(i),wh.forEach(i);for(var u=0;u<Gi.length;u++){var d=Gi[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Gi.length&&(u=Gi[0],u.blockedOn===null);)RE(u),u.blockedOn===null&&Gi.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],_=u[d+1],j=v[gr]||null;if(typeof _=="function")j||DE(u);else if(j){var F=null;if(_&&_.hasAttribute("formAction")){if(v=_,j=_[gr]||null)F=j.formAction;else if(Vg(v)!==null)continue}else F=j.action;typeof F=="function"?u[d+1]=F:(u.splice(d,3),d-=3),DE(u)}}}function Ug(s){this._internalRoot=s}r0.prototype.render=Ug.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));var u=i.current,d=ta();SE(u,d,s,i,null,null)},r0.prototype.unmount=Ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;SE(s.current,2,null,s,null,null),Ff(),i[Pa]=null}};function r0(s){this._internalRoot=s}r0.prototype.unstable_scheduleHydration=function(s){if(s){var i=Oa();s={blockedOn:null,target:s,priority:i};for(var u=0;u<Gi.length&&i!==0&&i<Gi[u].priority;u++);Gi.splice(u,0,s),u===0&&RE(s)}};var IE=e.version;if(IE!=="19.1.1")throw Error(n(527,IE,"19.1.1"));Ce.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(i),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var zR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{ha=n0.inject(zR),Tr=n0}catch{}}return Ah.createRoot=function(s,i){if(!a(s))throw Error(n(299));var u=!1,d="",v=Yy,_=Ky,j=Xy,F=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks)),i=TE(s,1,!1,null,null,u,d,v,_,j,F,null),s[Pa]=i.current,wg(s),new Ug(i)},Ah.hydrateRoot=function(s,i,u){if(!a(s))throw Error(n(299));var d=!1,v="",_=Yy,j=Ky,F=Xy,J=null,ue=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(ue=u.formState)),i=TE(s,1,!0,i,u??null,d,v,_,j,F,J,ue),i.context=wE(null),u=i.current,d=ta(),d=Oo(d),v=Ci(d),v.callback=null,Ri(u,v,d),u=d,i.current.lanes=u,or(i,u),ds(i),s[Pa]=i.current,wg(s),new r0(i)},Ah.version="19.1.1",Ah}var zE;function ZR(){if(zE)return qg.exports;zE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qg.exports=JR(),qg.exports}var e4=ZR();const t4=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},r4=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[r++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[r++],c=t[r++],h=t[r++],m=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const o=t[r++],c=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,f=m?t[a+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let y=(h&15)<<2|f>>6,E=f&63;m||(E=64,c||(y=64)),n.push(r[g],r[x],r[y],r[E])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const o=r[t.charAt(a++)],h=a<t.length?r[t.charAt(a)]:0;++a;const f=a<t.length?r[t.charAt(a)]:64;++a;const x=a<t.length?r[t.charAt(a)]:64;if(++a,o==null||h==null||f==null||x==null)throw new n4;const y=o<<2|h>>4;if(n.push(y),f!==64){const E=h<<4&240|f>>2;if(n.push(E),x!==64){const w=f<<6&192|x;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a4=function(t){const e=Fw(t);return Lw.encodeByteArray(e,!0)},I0=function(t){return a4(t).replace(/\./g,"")},Vw=function(t){try{return Lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=()=>s4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof HE>"u")return;const t=HE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vw(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return t4()||i4()||o4()||l4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bw=t=>gm()?.emulatorHosts?.[t],c4=t=>{const e=Bw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Uw=()=>gm()?.config,zw=t=>gm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[I0(JSON.stringify(r)),I0(JSON.stringify(c)),""].join(".")}const Bh={};function d4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bh))Bh[e]?t.emulator.push(e):t.prod.push(e);return t}function f4(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let qE=!1;function qw(t,e){if(typeof window>"u"||typeof document>"u"||!su(window.location.host)||Bh[t]===e||Bh[t]||qE)return;Bh[t]=e;function r(y){return`__firebase__banner__${y}`}const n="__firebase__banner",o=d4().prod.length>0;function c(){const y=document.getElementById(n);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function m(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qE=!0,c()},y}function g(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function x(){const y=f4(n),E=r("text"),w=document.getElementById(E)||document.createElement("span"),T=r("learnmore"),b=document.getElementById(T)||document.createElement("a"),D=r("preprendIcon"),k=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const V=y.element;h(V),g(b,T);const W=f();m(k,D),V.append(k,w,b,W),document.body.appendChild(V)}o?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function p4(){const t=gm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y4(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _4(){return!p4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="FirebaseError";class fi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=w4,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_d.prototype.create)}}class _d{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?S4(o,n):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new fi(a,h,n)}}function S4(t,e){return t.replace(b4,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const b4=/\{\$([^}]+)}/g;function N4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const o=t[a],c=e[a];if(GE(o)&&GE(c)){if(!yl(o,c))return!1}else if(o!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function GE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Oh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function A4(t,e){const r=new C4(t,e);return r.subscribe.bind(r)}class C4{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");R4(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=Yg),a.error===void 0&&(a.error=Yg),a.complete===void 0&&(a.complete=Yg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R4(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class _l{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new u4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I4(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&c.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const o=this.instances.get(n);return o&&e(o,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:D4(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(t){return t===ul?void 0:t}function I4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new j4(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const O4={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},P4=yt.INFO,M4={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},F4=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=M4[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zv{constructor(e){this.name=e,this._logLevel=P4,this._logHandler=F4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const L4=(t,e)=>e.some(r=>t instanceof r);let $E,WE;function V4(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B4(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gw=new WeakMap,xv=new WeakMap,$w=new WeakMap,Kg=new WeakMap,e1=new WeakMap;function U4(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{r(oo(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&Gw.set(r,t)}).catch(()=>{}),e1.set(e,t),e}function z4(t){if(xv.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});xv.set(t,e)}let yv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$w.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return oo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H4(t){yv=t(yv)}function q4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Xg(this),e,...r);return $w.set(n,e.sort?e.sort():[e]),oo(n)}:B4().includes(t)?function(...e){return t.apply(Xg(this),e),oo(Gw.get(this))}:function(...e){return oo(t.apply(Xg(this),e))}}function G4(t){return typeof t=="function"?q4(t):(t instanceof IDBTransaction&&z4(t),L4(t,V4())?new Proxy(t,yv):t)}function oo(t){if(t instanceof IDBRequest)return U4(t);if(Kg.has(t))return Kg.get(t);const e=G4(t);return e!==t&&(Kg.set(t,e),e1.set(e,t)),e}const Xg=t=>e1.get(t);function $4(t,e,{blocked:r,upgrade:n,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=oo(c);return n&&c.addEventListener("upgradeneeded",m=>{n(oo(c.result),m.oldVersion,m.newVersion,oo(c.transaction),m)}),r&&c.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const W4=["get","getKey","getAll","getAllKeys","count"],Y4=["put","add","delete","clear"],Qg=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Y4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||W4.includes(r)))return;const o=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let f=m.store;return n&&(f=f.index(h.shift())),(await Promise.all([f[r](...h),a&&m.done]))[0]};return Qg.set(e,o),o}H4(t=>({...t,get:(e,r,n)=>YE(e,r)||t.get(e,r,n),has:(e,r)=>!!YE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(X4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function X4(t){return t.getComponent()?.type==="VERSION"}const _v="@firebase/app",KE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Zv("@firebase/app"),Q4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",ej="@firebase/app-check-compat",tj="@firebase/app-check",rj="@firebase/auth",nj="@firebase/auth-compat",aj="@firebase/database",sj="@firebase/data-connect",ij="@firebase/database-compat",oj="@firebase/functions",lj="@firebase/functions-compat",cj="@firebase/installations",uj="@firebase/installations-compat",hj="@firebase/messaging",dj="@firebase/messaging-compat",fj="@firebase/performance",mj="@firebase/performance-compat",pj="@firebase/remote-config",gj="@firebase/remote-config-compat",vj="@firebase/storage",xj="@firebase/storage-compat",yj="@firebase/firestore",_j="@firebase/ai",Ej="@firebase/firestore-compat",Tj="firebase",wj="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="[DEFAULT]",Sj={[_v]:"fire-core",[Q4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[tj]:"fire-app-check",[ej]:"fire-app-check-compat",[rj]:"fire-auth",[nj]:"fire-auth-compat",[aj]:"fire-rtdb",[sj]:"fire-data-connect",[ij]:"fire-rtdb-compat",[oj]:"fire-fn",[lj]:"fire-fn-compat",[cj]:"fire-iid",[uj]:"fire-iid-compat",[hj]:"fire-fcm",[dj]:"fire-fcm-compat",[fj]:"fire-perf",[mj]:"fire-perf-compat",[pj]:"fire-rc",[gj]:"fire-rc-compat",[vj]:"fire-gcs",[xj]:"fire-gcs-compat",[yj]:"fire-fst",[Ej]:"fire-fst-compat",[_j]:"fire-vertex","fire-js":"fire-js",[Tj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map,bj=new Map,Tv=new Map;function XE(t,e){try{t.container.addComponent(e)}catch(r){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Xc(t){const e=t.name;if(Tv.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,t);for(const r of k0.values())XE(r,t);for(const r of bj.values())XE(r,t);return!0}function t1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Na(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new _d("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=wj;function Ww(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Ev,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw lo.create("bad-app-name",{appName:String(a)});if(r||(r=Uw()),!r)throw lo.create("no-options");const o=k0.get(a);if(o){if(yl(r,o.options)&&yl(n,o.config))return o;throw lo.create("duplicate-app",{appName:a})}const c=new k4(a);for(const m of Tv.values())c.addComponent(m);const h=new Aj(r,n,c);return k0.set(a,h),h}function Yw(t=Ev){const e=k0.get(t);if(!e&&t===Ev&&Uw())return Ww();if(!e)throw lo.create("no-app",{appName:t});return e}function co(t,e,r){let n=Sj[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${n}" with version "${e}":`];a&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(c.join(" "));return}Xc(new _l(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="firebase-heartbeat-database",Rj=1,td="firebase-heartbeat-store";let Jg=null;function Kw(){return Jg||(Jg=$4(Cj,Rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(r){console.warn(r)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),Jg}async function jj(t){try{const r=(await Kw()).transaction(td),n=await r.objectStore(td).get(Xw(t));return await r.done,n}catch(e){if(e instanceof fi)ii.warn(e.message);else{const r=lo.create("idb-get",{originalErrorMessage:e?.message});ii.warn(r.message)}}}async function QE(t,e){try{const n=(await Kw()).transaction(td,"readwrite");await n.objectStore(td).put(e,Xw(t)),await n.done}catch(r){if(r instanceof fi)ii.warn(r.message);else{const n=lo.create("idb-set",{originalErrorMessage:r?.message});ii.warn(n.message)}}}function Xw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=1024,Ij=30;class kj{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Pj(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=JE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(a=>a.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Ij){const a=Mj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JE(),{heartbeatsToSend:r,unsentEntries:n}=Oj(this._heartbeatsCache.heartbeats),a=I0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ii.warn(e),""}}}function JE(){return new Date().toISOString().substring(0,10)}function Oj(t,e=Dj){const r=[];let n=t.slice();for(const a of t){const o=r.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),ZE(r)>e){o.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),ZE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Pj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await jj(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return QE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return QE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ZE(t){return I0(JSON.stringify({version:2,heartbeats:t})).length}function Mj(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){Xc(new _l("platform-logger",e=>new K4(e),"PRIVATE")),Xc(new _l("heartbeat",e=>new kj(e),"PRIVATE")),co(_v,KE,t),co(_v,KE,"esm2020"),co("fire-js","")}Fj("");var Lj="firebase",Vj="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(Lj,Vj,"app");function Qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bj=Qw,Jw=new _d("auth","Firebase",Qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Zv("@firebase/auth");function Uj(t,...e){O0.logLevel<=yt.WARN&&O0.warn(`Auth (${iu}): ${t}`,...e)}function _0(t,...e){O0.logLevel<=yt.ERROR&&O0.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,...e){throw r1(t,...e)}function xs(t,...e){return r1(t,...e)}function Zw(t,e,r){const n={...Bj(),[e]:r};return new _d("auth","Firebase",n).create(e,{appName:t.name})}function ei(t){return Zw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Jw.create(t,...e)}function tt(t,e,...r){if(!t)throw r1(e,...r)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _0(e),new Error(e)}function oi(t,e){t||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){return typeof self<"u"&&self.location?.href||""}function zj(){return e2()==="http:"||e2()==="https:"}function e2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zj()||v4()||"connection"in navigator)?navigator.onLine:!0}function qj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,r){this.shortDelay=e,this.longDelay=r,oi(r>e,"Short delay should be less than long delay!"),this.isMobile=m4()||x4()}get(){return Hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e){oi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wj=new Td(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Co(t,e,r,n,a={}){return tS(t,a,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const h=Ed({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:m,...o};return g4()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&su(t.emulatorConfig.host)&&(f.credentials="include"),eS.fetch()(await rS(t,t.config.apiHost,r,h),f)})}async function tS(t,e,r){t._canInitEmulator=!1;const n={...Gj,...e};try{const a=new Kj(t),o=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw a0(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[m,f]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw a0(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw a0(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw a0(t,"user-disabled",c);const g=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Zw(t,g,f);Qa(t,g)}}catch(a){if(a instanceof fi)throw a;Qa(t,"network-request-failed",{message:String(a)})}}async function wd(t,e,r,n,a={}){const o=await Co(t,e,r,n,a);return"mfaPendingCredential"in o&&Qa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function rS(t,e,r,n){const a=`${e}${r}?${n}`,o=t,c=o.config.emulator?n1(t.config,a):`${t.config.apiScheme}://${a}`;return $j.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function Yj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xs(this.auth,"network-request-failed")),Wj.get())})}}function a0(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=xs(t,e,n);return a.customData._tokenResponse=r,a}function t2(t){return t!==void 0&&t.enterprise!==void 0}class Xj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Yj(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qj(t,e){return Co(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return Co(t,"POST","/v1/accounts:delete",e)}async function P0(t,e){return Co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zj(t,e=!1){const r=Xr(t),n=await r.getIdToken(e),a=a1(n);tt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:n,authTime:Uh(Zg(a.auth_time)),issuedAtTime:Uh(Zg(a.iat)),expirationTime:Uh(Zg(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Zg(t){return Number(t)*1e3}function a1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _0("JWT malformed, contained fewer than 3 sections"),null;try{const a=Vw(r);return a?JSON.parse(a):(_0("Failed to decode base64 JWT payload"),null)}catch(a){return _0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function r2(t){const e=a1(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof fi&&eD(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function eD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t){const e=t.auth,r=await t.getIdToken(),n=await rd(t,P0(e,{idToken:r}));tt(n?.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?nS(a.providerUserInfo):[],c=nD(t.providerData,o),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,f=h?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Sv(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function rD(t){const e=Xr(t);await M0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nD(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function nS(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e){const r=await tS(t,{},async()=>{const n=Ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await rS(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:n};return t.emulatorConfig&&su(t.emulatorConfig.host)&&(m.credentials="include"),eS.fetch()(c,m)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function sD(t,e){return Co(t,"POST","/v2/accounts:revokeToken",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const r=r2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:o}=await aD(e,r);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:o}=r,c=new Bc;return n&&(tt(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(tt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(tt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wa{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new tD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await rd(this,this.stsTokenManager.getToken(this.auth,e));return tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Zj(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Wa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await M0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Na(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await rd(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,o=r.phoneNumber??void 0,c=r.photoURL??void 0,h=r.tenantId??void 0,m=r._redirectEventId??void 0,f=r.createdAt??void 0,g=r.lastLoginAt??void 0,{uid:x,emailVerified:y,isAnonymous:E,providerData:w,stsTokenManager:T}=r;tt(x&&T,e,"internal-error");const b=Bc.fromJSON(this.name,T);tt(typeof x=="string",e,"internal-error"),Wi(n,e.name),Wi(a,e.name),tt(typeof y=="boolean",e,"internal-error"),tt(typeof E=="boolean",e,"internal-error"),Wi(o,e.name),Wi(c,e.name),Wi(h,e.name),Wi(m,e.name),Wi(f,e.name),Wi(g,e.name);const D=new Wa({uid:x,auth:e,email:a,emailVerified:y,displayName:n,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:b,createdAt:f,lastLoginAt:g});return w&&Array.isArray(w)&&(D.providerData=w.map(k=>({...k}))),m&&(D._redirectEventId=m),D}static async _fromIdTokenResponse(e,r,n=!1){const a=new Bc;a.updateFromServerResponse(r);const o=new Wa({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await M0(o),o}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];tt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?nS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Bc;h.updateFromIdToken(n);const m=new Wa({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Sv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Map;function Zs(t){oi(t instanceof Function,"Expected a class definition");let e=n2.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}aS.type="NONE";const a2=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,r){return`firebase:${t}:${e}:${r}`}class Uc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=E0(this.userKey,a.apiKey,o),this.fullPersistenceKey=E0("persistence",a.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await P0(this.auth,{idToken:e}).catch(()=>{});return r?Wa._fromGetAccountInfoResponse(this.auth,r,e):null}return Wa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Uc(Zs(a2),e,n);const a=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Zs(a2);const c=E0(n,e.config.apiKey,e.name);let h=null;for(const f of r)try{const g=await f._get(c);if(g){let x;if(typeof g=="string"){const y=await P0(e,{idToken:g}).catch(()=>{});if(!y)break;x=await Wa._fromGetAccountInfoResponse(e,y,g)}else x=Wa._fromJSON(e,g);f!==o&&(h=x),o=f;break}}catch{}const m=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Uc(o,e,n):(o=m[0],h&&await o._set(c,h.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Uc(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uS(e))return"Blackberry";if(hS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||oS(e))&&!e.includes("edge/"))return"Chrome";if(cS(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function sS(t=Tn()){return/firefox\//i.test(t)}function iS(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oS(t=Tn()){return/crios\//i.test(t)}function lS(t=Tn()){return/iemobile/i.test(t)}function cS(t=Tn()){return/android/i.test(t)}function uS(t=Tn()){return/blackberry/i.test(t)}function hS(t=Tn()){return/webos/i.test(t)}function s1(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iD(t=Tn()){return s1(t)&&!!window.navigator?.standalone}function oD(){return y4()&&document.documentMode===10}function dS(t=Tn()){return s1(t)||cS(t)||hS(t)||uS(t)||/windows phone/i.test(t)||lS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e=[]){let r;switch(t){case"Browser":r=s2(Tn());break;case"Worker":r=`${s2(Tn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${iu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((c,h)=>{try{const m=e(o);c(m)}catch(m){h(m)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e={}){return Co(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=6;class hD{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??uD,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i2(this),this.idTokenSubscription=new i2(this),this.beforeStateQueue=new lD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Zs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await P0(this,{idToken:e}),n=await Wa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Na(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=n?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(n=h.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await M0(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Na(this.app))return Promise.reject(ei(this));const r=e?Xr(e):null;return r&&tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Na(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Na(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cD(this),r=new hD(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _d("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await sD(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Zs(e)||this._popupRedirectResolver;tt(r,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[Zs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,n,a);return()=>{c=!0,m()}}else{const m=e.addObserver(r);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Uj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rl(t){return Xr(t)}class i2{constructor(e){this.auth=e,this.observer=null,this.addObserver=A4(r=>this.observer=r)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fD(t){vm=t}function mS(t){return vm.loadJS(t)}function mD(){return vm.recaptchaEnterpriseScript}function pD(){return vm.gapiScript}function gD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new xD}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class xD{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const yD="recaptcha-enterprise",pS="NO_RECAPTCHA";class _D{constructor(e){this.type=yD,this.auth=Rl(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{Qj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new Xj(m);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(m=>{h(m)})})}function a(o,c,h){const m=window.grecaptcha;t2(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(pS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(h=>{if(!r&&t2(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mD();m.length!==0&&(m+=h),mS(m).then(()=>{a(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function o2(t,e,r,n=!1,a=!1){const o=new _D(t);let c;if(a)c=pS;else try{c=await o.verify(r)}catch{c=await o.verify(r,!0)}const h={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bv(t,e,r,n,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o2(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await o2(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){const r=t1(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),o=r.getOptions();if(yl(o,e??{}))return a;Qa(a,"already-initialized")}return r.initialize({options:e})}function TD(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function wD(t,e,r){const n=Rl(t);tt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=gS(e),{host:c,port:h}=SD(e),m=h===null?"":`:${h}`,f={url:`${o}//${c}${m}/`},g=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){tt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),tt(yl(f,n.config.emulator)&&yl(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,su(c)?(Hw(`${o}//${c}${m}`),qw("Auth",!0)):bD()}function gS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SD(t){const e=gS(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:l2(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:l2(c)}}}function l2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bD(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,r){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function ND(t,e){return Co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return wd(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function RD(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends i1{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new nd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,r,"signInWithPassword",AD);case"emailLink":return CD(e,{email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,n,"signUpPassword",ND);case"emailLink":return RD(e,{idToken:r,email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t,e){return wd(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class El extends i1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Qa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...o}=r;if(!n||!a)return null;const c=new El(n,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return zc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,zc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,zc(e,r)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ed(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ID(t){const e=kh(Oh(t)).link,r=e?kh(Oh(e)).deep_link_id:null,n=kh(Oh(t)).deep_link_id;return(n?kh(Oh(n)).link:null)||n||r||e||t}class o1{constructor(e){const r=kh(Oh(e)),n=r.apiKey??null,a=r.oobCode??null,o=DD(r.mode??null);tt(n&&a&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=ID(e);try{return new o1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.providerId=ou.PROVIDER_ID}static credential(e,r){return nd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=o1.parseLink(r);return tt(n,"argument-error"),nd._fromEmailAndCode(e,n.code,n.tenantId)}}ou.PROVIDER_ID="password";ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends vS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Sd{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return El._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return to.credential(r,n)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Sd{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Sd{constructor(){super("twitter.com")}static credential(e,r){return El._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return no.credential(r,n)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){return wd(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const o=await Wa._fromIdTokenResponse(e,n,a),c=c2(n);return new Tl({user:o,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=c2(n);return new Tl({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function c2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends fi{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,F0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new F0(e,r,n,a)}}function xS(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?F0._fromErrorAndOperation(t,o,e,n):o})}async function OD(t,e,r=!1){const n=await rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Tl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e,r=!1){const{auth:n}=t;if(Na(n.app))return Promise.reject(ei(n));const a="reauthenticate";try{const o=await rd(t,xS(n,a,e,t),r);tt(o.idToken,n,"internal-error");const c=a1(o.idToken);tt(c,n,"internal-error");const{sub:h}=c;return tt(t.uid===h,n,"user-mismatch"),Tl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qa(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t,e,r=!1){if(Na(t.app))return Promise.reject(ei(t));const n="signIn",a=await xS(t,n,e),o=await Tl._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(o.user),o}async function MD(t,e){return yS(Rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t){const e=Rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FD(t,e,r){if(Na(t.app))return Promise.reject(ei(t));const n=Rl(t),c=await bv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&_S(t),m}),h=await Tl._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(h.user),h}function LD(t,e,r){return Na(t.app)?Promise.reject(ei(t)):MD(Xr(t),ou.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&_S(t),n})}function VD(t,e,r,n){return Xr(t).onIdTokenChanged(e,r,n)}function BD(t,e,r){return Xr(t).beforeAuthStateChanged(e,r)}function UD(t,e,r,n){return Xr(t).onAuthStateChanged(e,r,n)}function zD(t){return Xr(t).signOut()}const L0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(L0,"1"),this.storage.removeItem(L0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=1e3,qD=10;class TS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);oD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qD):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const GD=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}wS.type="SESSION";const SS=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new xm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:o}=r.data,c=this.handlersMap[a];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const h=Array.from(c).map(async f=>f(r.origin,o)),m=await $D(h);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,m)=>{const f=l1("",20);a.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(x){const y=x;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(y.data.response);break;default:clearTimeout(g),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function YD(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function KD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XD(){return navigator?.serviceWorker?.controller||null}function QD(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",JD=1,V0="firebaseLocalStorage",AS="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ym(t,e){return t.transaction([V0],e?"readwrite":"readonly").objectStore(V0)}function ZD(){const t=indexedDB.deleteDatabase(NS);return new bd(t).toPromise()}function Nv(){const t=indexedDB.open(NS,JD);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(V0,{keyPath:AS})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(V0)?e(n):(n.close(),await ZD(),e(await Nv()))})})}async function u2(t,e,r){const n=ym(t,!0).put({[AS]:e,value:r});return new bd(n).toPromise()}async function eI(t,e){const r=ym(t,!1).get(e),n=await new bd(r).toPromise();return n===void 0?null:n.value}function h2(t,e){const r=ym(t,!0).delete(e);return new bd(r).toPromise()}const tI=800,rI=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>rI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(QD()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KD(),!this.activeServiceWorker)return;this.sender=new WD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nv();return await u2(e,L0,"1"),await h2(e,L0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>u2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>eI(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>h2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ym(a,!1).getAll();return new bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const nI=CS;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e){return e?Zs(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends i1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return zc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function sI(t){return yS(t.auth,new c1(t),t.bypassAuthState)}function iI(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),PD(r,new c1(t),t.bypassAuthState)}async function oI(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),OD(r,new c1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,r,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sI;case"linkViaPopup":case"linkViaRedirect":return oI;case"reauthViaPopup":case"reauthViaRedirect":return iI;default:Qa(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Td(2e3,1e4);class Fc extends RS{constructor(e,r,n,a,o){super(e,r,a,o),this.provider=n,this.authWindow=null,this.pollId=null,Fc.currentPopupAction&&Fc.currentPopupAction.cancel(),Fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=l1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lI.get())};e()}}Fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="pendingRedirect",T0=new Map;class uI extends RS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=T0.get(this.auth._key());if(!e){try{const n=await hI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}T0.set(this.auth._key(),e)}return this.bypassAuthState||T0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hI(t,e){const r=mI(e),n=fI(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function dI(t,e){T0.set(t._key(),e)}function fI(t){return Zs(t._redirectPersistence)}function mI(t){return E0(cI,t.config.apiKey,t.name)}async function pI(t,e,r=!1){if(Na(t.app))return Promise.reject(ei(t));const n=Rl(t),a=aI(n,e),c=await new uI(n,a,r).execute();return c&&!r&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xI(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!jS(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(xs(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gI&&this.cachedEventUids.clear(),this.cachedEventUids.has(d2(e))}saveEventToCache(e){this.cachedEventUids.add(d2(e)),this.lastProcessedEventTime=Date.now()}}function d2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t,e={}){return Co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function TI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yI(t);for(const r of e)try{if(wI(r))return}catch{}Qa(t,"unauthorized-domain")}function wI(t){const e=wv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&c.hostname===n}if(!EI.test(r))return!1;if(_I.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Td(3e4,6e4);function f2(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function bI(t){return new Promise((e,r)=>{function n(){f2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f2(),r(xs(t,"network-request-failed"))},timeout:SI.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)n();else{const a=gD("iframefcb");return ys()[a]=()=>{gapi.load?n():r(xs(t,"network-request-failed"))},mS(`${pD()}?onload=${a}`).catch(o=>r(o))}}).catch(e=>{throw w0=null,e})}let w0=null;function NI(t){return w0=w0||bI(t),w0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Td(5e3,15e3),CI="__/auth/iframe",RI="emulator/auth/iframe",jI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?n1(e,RI):`https://${t.config.authDomain}/${CI}`,n={apiKey:e.apiKey,appName:t.name,v:iu},a=DI.get(t.config.apiHost);a&&(n.eid=a);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Ed(n).slice(1)}`}async function kI(t){const e=await NI(t),r=ys().gapi;return tt(r,t,"internal-error"),e.open({where:document.body,url:II(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jI,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const c=xs(t,"network-request-failed"),h=ys().setTimeout(()=>{o(c)},AI.get());function m(){ys().clearTimeout(h),a(n)}n.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,MI=600,FI="_blank",LI="http://localhost";class m2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VI(t,e,r,n=PI,a=MI){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const m={...OI,width:n.toString(),height:a.toString(),top:o,left:c},f=Tn().toLowerCase();r&&(h=oS(f)?FI:r),sS(f)&&(e=e||LI,m.scrollbars="yes");const g=Object.entries(m).reduce((y,[E,w])=>`${y}${E}=${w},`,"");if(iD(f)&&h!=="_self")return BI(e||"",h),new m2(null);const x=window.open(e||"",h,g);tt(x,t,"popup-blocked");try{x.focus()}catch{}return new m2(x)}function BI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="__/auth/handler",zI="emulator/auth/handler",HI=encodeURIComponent("fac");async function p2(t,e,r,n,a,o){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:iu,eventId:a};if(e instanceof vS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",N4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))c[g]=x}if(e instanceof Sd){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const m=await t._getAppCheckToken(),f=m?`#${HI}=${encodeURIComponent(m)}`:"";return`${qI(t)}?${Ed(h).slice(1)}${f}`}function qI({config:t}){return t.emulator?n1(t,zI):`https://${t.authDomain}/${UI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="webStorageSupport";class GI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=pI,this._overrideRedirectResult=dI}async _openPopup(e,r,n,a){oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await p2(e,r,n,wv(),a);return VI(e,o,l1())}async _openRedirect(e,r,n,a){await this._originValidation(e);const o=await p2(e,r,n,wv(),a);return YD(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:o}=this.eventManagers[r];return a?Promise.resolve(a):(oi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await kI(e),n=new vI(e);return r.register("authEvent",a=>(tt(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(ev,{type:ev},a=>{const o=a?.[0]?.[ev];o!==void 0&&r(!!o),Qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=TI(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return dS()||iS()||s1()}}const $I=GI;var g2="@firebase/auth",v2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KI(t){Xc(new _l("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=n.options;tt(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(t)},f=new dD(n,a,o,m);return TD(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Xc(new _l("auth-internal",e=>{const r=Rl(e.getProvider("auth").getImmediate());return(n=>new WI(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(g2,v2,YI(t)),co(g2,v2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=300,QI=zw("authIdTokenMaxAge")||XI;let x2=null;const JI=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>QI)return;const a=r?.token;x2!==a&&(x2=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ZI(t=Yw()){const e=t1(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ED(t,{popupRedirectResolver:$I,persistence:[nI,GD,SS]}),n=zw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=JI(o.toString());BD(r,c,()=>c(r.currentUser)),VD(r,h=>c(h))}}const a=Bw("auth");return a&&wD(r,`http://${a}`),r}function e3(){return document.getElementsByTagName("head")?.[0]??document}fD({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const o=xs("internal-error");o.customData=a,r(o)},n.type="text/javascript",n.charset="UTF-8",e3().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KI("Browser");var y2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,DS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,N,O){for(var L=Array(arguments.length-2),We=2;We<arguments.length;We++)L[We-2]=arguments[We];return A.prototype[N].apply(P,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,C){C||(C=0);const P=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)P[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let O=I.g[3],L;L=A+(O^C&(N^O))+P[0]+3614090360&4294967295,A=C+(L<<7&4294967295|L>>>25),L=O+(N^A&(C^N))+P[1]+3905402710&4294967295,O=A+(L<<12&4294967295|L>>>20),L=N+(C^O&(A^C))+P[2]+606105819&4294967295,N=O+(L<<17&4294967295|L>>>15),L=C+(A^N&(O^A))+P[3]+3250441966&4294967295,C=N+(L<<22&4294967295|L>>>10),L=A+(O^C&(N^O))+P[4]+4118548399&4294967295,A=C+(L<<7&4294967295|L>>>25),L=O+(N^A&(C^N))+P[5]+1200080426&4294967295,O=A+(L<<12&4294967295|L>>>20),L=N+(C^O&(A^C))+P[6]+2821735955&4294967295,N=O+(L<<17&4294967295|L>>>15),L=C+(A^N&(O^A))+P[7]+4249261313&4294967295,C=N+(L<<22&4294967295|L>>>10),L=A+(O^C&(N^O))+P[8]+1770035416&4294967295,A=C+(L<<7&4294967295|L>>>25),L=O+(N^A&(C^N))+P[9]+2336552879&4294967295,O=A+(L<<12&4294967295|L>>>20),L=N+(C^O&(A^C))+P[10]+4294925233&4294967295,N=O+(L<<17&4294967295|L>>>15),L=C+(A^N&(O^A))+P[11]+2304563134&4294967295,C=N+(L<<22&4294967295|L>>>10),L=A+(O^C&(N^O))+P[12]+1804603682&4294967295,A=C+(L<<7&4294967295|L>>>25),L=O+(N^A&(C^N))+P[13]+4254626195&4294967295,O=A+(L<<12&4294967295|L>>>20),L=N+(C^O&(A^C))+P[14]+2792965006&4294967295,N=O+(L<<17&4294967295|L>>>15),L=C+(A^N&(O^A))+P[15]+1236535329&4294967295,C=N+(L<<22&4294967295|L>>>10),L=A+(N^O&(C^N))+P[1]+4129170786&4294967295,A=C+(L<<5&4294967295|L>>>27),L=O+(C^N&(A^C))+P[6]+3225465664&4294967295,O=A+(L<<9&4294967295|L>>>23),L=N+(A^C&(O^A))+P[11]+643717713&4294967295,N=O+(L<<14&4294967295|L>>>18),L=C+(O^A&(N^O))+P[0]+3921069994&4294967295,C=N+(L<<20&4294967295|L>>>12),L=A+(N^O&(C^N))+P[5]+3593408605&4294967295,A=C+(L<<5&4294967295|L>>>27),L=O+(C^N&(A^C))+P[10]+38016083&4294967295,O=A+(L<<9&4294967295|L>>>23),L=N+(A^C&(O^A))+P[15]+3634488961&4294967295,N=O+(L<<14&4294967295|L>>>18),L=C+(O^A&(N^O))+P[4]+3889429448&4294967295,C=N+(L<<20&4294967295|L>>>12),L=A+(N^O&(C^N))+P[9]+568446438&4294967295,A=C+(L<<5&4294967295|L>>>27),L=O+(C^N&(A^C))+P[14]+3275163606&4294967295,O=A+(L<<9&4294967295|L>>>23),L=N+(A^C&(O^A))+P[3]+4107603335&4294967295,N=O+(L<<14&4294967295|L>>>18),L=C+(O^A&(N^O))+P[8]+1163531501&4294967295,C=N+(L<<20&4294967295|L>>>12),L=A+(N^O&(C^N))+P[13]+2850285829&4294967295,A=C+(L<<5&4294967295|L>>>27),L=O+(C^N&(A^C))+P[2]+4243563512&4294967295,O=A+(L<<9&4294967295|L>>>23),L=N+(A^C&(O^A))+P[7]+1735328473&4294967295,N=O+(L<<14&4294967295|L>>>18),L=C+(O^A&(N^O))+P[12]+2368359562&4294967295,C=N+(L<<20&4294967295|L>>>12),L=A+(C^N^O)+P[5]+4294588738&4294967295,A=C+(L<<4&4294967295|L>>>28),L=O+(A^C^N)+P[8]+2272392833&4294967295,O=A+(L<<11&4294967295|L>>>21),L=N+(O^A^C)+P[11]+1839030562&4294967295,N=O+(L<<16&4294967295|L>>>16),L=C+(N^O^A)+P[14]+4259657740&4294967295,C=N+(L<<23&4294967295|L>>>9),L=A+(C^N^O)+P[1]+2763975236&4294967295,A=C+(L<<4&4294967295|L>>>28),L=O+(A^C^N)+P[4]+1272893353&4294967295,O=A+(L<<11&4294967295|L>>>21),L=N+(O^A^C)+P[7]+4139469664&4294967295,N=O+(L<<16&4294967295|L>>>16),L=C+(N^O^A)+P[10]+3200236656&4294967295,C=N+(L<<23&4294967295|L>>>9),L=A+(C^N^O)+P[13]+681279174&4294967295,A=C+(L<<4&4294967295|L>>>28),L=O+(A^C^N)+P[0]+3936430074&4294967295,O=A+(L<<11&4294967295|L>>>21),L=N+(O^A^C)+P[3]+3572445317&4294967295,N=O+(L<<16&4294967295|L>>>16),L=C+(N^O^A)+P[6]+76029189&4294967295,C=N+(L<<23&4294967295|L>>>9),L=A+(C^N^O)+P[9]+3654602809&4294967295,A=C+(L<<4&4294967295|L>>>28),L=O+(A^C^N)+P[12]+3873151461&4294967295,O=A+(L<<11&4294967295|L>>>21),L=N+(O^A^C)+P[15]+530742520&4294967295,N=O+(L<<16&4294967295|L>>>16),L=C+(N^O^A)+P[2]+3299628645&4294967295,C=N+(L<<23&4294967295|L>>>9),L=A+(N^(C|~O))+P[0]+4096336452&4294967295,A=C+(L<<6&4294967295|L>>>26),L=O+(C^(A|~N))+P[7]+1126891415&4294967295,O=A+(L<<10&4294967295|L>>>22),L=N+(A^(O|~C))+P[14]+2878612391&4294967295,N=O+(L<<15&4294967295|L>>>17),L=C+(O^(N|~A))+P[5]+4237533241&4294967295,C=N+(L<<21&4294967295|L>>>11),L=A+(N^(C|~O))+P[12]+1700485571&4294967295,A=C+(L<<6&4294967295|L>>>26),L=O+(C^(A|~N))+P[3]+2399980690&4294967295,O=A+(L<<10&4294967295|L>>>22),L=N+(A^(O|~C))+P[10]+4293915773&4294967295,N=O+(L<<15&4294967295|L>>>17),L=C+(O^(N|~A))+P[1]+2240044497&4294967295,C=N+(L<<21&4294967295|L>>>11),L=A+(N^(C|~O))+P[8]+1873313359&4294967295,A=C+(L<<6&4294967295|L>>>26),L=O+(C^(A|~N))+P[15]+4264355552&4294967295,O=A+(L<<10&4294967295|L>>>22),L=N+(A^(O|~C))+P[6]+2734768916&4294967295,N=O+(L<<15&4294967295|L>>>17),L=C+(O^(N|~A))+P[13]+1309151649&4294967295,C=N+(L<<21&4294967295|L>>>11),L=A+(N^(C|~O))+P[4]+4149444226&4294967295,A=C+(L<<6&4294967295|L>>>26),L=O+(C^(A|~N))+P[11]+3174756917&4294967295,O=A+(L<<10&4294967295|L>>>22),L=N+(A^(O|~C))+P[2]+718787259&4294967295,N=O+(L<<15&4294967295|L>>>17),L=C+(O^(N|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(L<<21&4294967295|L>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}n.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,P=this.C;let N=this.h,O=0;for(;O<A;){if(N==0)for(;O<=C;)a(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<A;)if(P[N++]=I.charCodeAt(O++),N==this.blockSize){a(this,P),N=0;break}}else for(;O<A;)if(P[N++]=I[O++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=A},n.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[A++]=this.g[C]>>>P&255;return I};function o(I,A){var C=h;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function c(I,A){this.h=A;const C=[];let P=!0;for(let N=I.length-1;N>=0;N--){const O=I[N]|0;P&&O==A||(C[N]=O,P=!1)}this.g=C}var h={};function m(I){return-128<=I&&I<128?o(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return b(f(-I));const A=[];let C=1;for(let P=0;I>=C;P++)A[P]=I/C|0,C*=4294967296;return new c(A,0)}function g(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return b(g(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(A,8));let P=x;for(let O=0;O<I.length;O+=8){var N=Math.min(8,I.length-O);const L=parseInt(I.substring(O,O+N),A);N<8?(N=f(Math.pow(A,N)),P=P.j(N).add(f(L))):(P=P.j(C),P=P.add(f(L)))}return P}var x=m(0),y=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(T(this))return-b(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(T(this))return"-"+b(this).toString(I);const A=f(Math.pow(I,6));var C=this;let P="";for(;;){const N=W(C,A).g;C=D(C,N.j(A));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,w(C))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=D(this,I),T(I)?-1:w(I)?0:1};function b(I){const A=I.g.length,C=[];for(let P=0;P<A;P++)C[P]=~I.g[P];return new c(C,~I.h).add(y)}t.abs=function(){return T(this)?b(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let N=0;N<=A;N++){let O=P+(this.i(N)&65535)+(I.i(N)&65535),L=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=L>>>16,O&=65535,L&=65535,C[N]=L<<16|O}return new c(C,C[C.length-1]&-2147483648?-1:0)};function D(I,A){return I.add(b(A))}t.j=function(I){if(w(this)||w(I))return x;if(T(this))return T(I)?b(this).j(b(I)):b(b(this).j(I));if(T(I))return b(this.j(b(I)));if(this.l(E)<0&&I.l(E)<0)return f(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<I.g.length;N++){const O=this.i(P)>>>16,L=this.i(P)&65535,We=I.i(N)>>>16,He=I.i(N)&65535;C[2*P+2*N]+=L*He,k(C,2*P+2*N),C[2*P+2*N+1]+=O*He,k(C,2*P+2*N+1),C[2*P+2*N+1]+=L*We,k(C,2*P+2*N+1),C[2*P+2*N+2]+=O*We,k(C,2*P+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new c(C,0)};function k(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function V(I,A){this.g=I,this.h=A}function W(I,A){if(w(A))throw Error("division by zero");if(w(I))return new V(x,x);if(T(I))return A=W(b(I),A),new V(b(A.g),b(A.h));if(T(A))return A=W(I,b(A)),new V(b(A.g),A.h);if(I.g.length>30){if(T(I)||T(A))throw Error("slowDivide_ only works with positive integers.");for(var C=y,P=A;P.l(I)<=0;)C=z(C),P=z(P);var N=Q(C,1),O=Q(P,1);for(P=Q(P,2),C=Q(C,2);!w(P);){var L=O.add(P);L.l(I)<=0&&(N=N.add(C),O=L),P=Q(P,1),C=Q(C,1)}return A=D(I,N.j(A)),new V(N,A)}for(N=x;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=f(C),L=O.j(A);T(L)||L.l(I)>0;)C-=P,O=f(C),L=O.j(A);w(O)&&(O=y),N=N.add(O),I=D(I,L)}return new V(N,I)}t.B=function(I){return W(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)&I.i(P);return new c(C,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)|I.i(P);return new c(C,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)^I.i(P);return new c(C,this.h^I.h)};function z(I){const A=I.g.length+1,C=[];for(let P=0;P<A;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(C,I.h)}function Q(I,A){const C=A>>5;A%=32;const P=I.g.length-C,N=[];for(let O=0;O<P;O++)N[O]=A>0?I.i(O+C)>>>A|I.i(O+C+1)<<32-A:I.i(O+C);return new c(N,I.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,DS=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,uo=c}).apply(typeof y2<"u"?y2:typeof self<"u"?self:typeof window<"u"?window:{});var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,Ph,kS,S0,Av,OS,PS,MS;(function(){var t,e=Object.defineProperty;function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof s0=="object"&&s0];for(var S=0;S<p.length;++S){var R=p[S];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function a(p,S){if(S)e:{var R=n;p=p.split(".");for(var B=0;B<p.length-1;B++){var le=p[B];if(!(le in R))break e;R=R[le]}p=p[p.length-1],B=R[p],S=S(B),S!=B&&S!=null&&e(R,p,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(S){var R=[],B;for(B in S)Object.prototype.hasOwnProperty.call(S,B)&&R.push([B,S[B]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function m(p,S,R){return p.call.apply(p.bind,arguments)}function f(p,S,R){return f=m,f.apply(null,arguments)}function g(p,S){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function x(p,S){function R(){}R.prototype=S.prototype,p.Z=S.prototype,p.prototype=new R,p.prototype.constructor=p,p.Ob=function(B,le,ve){for(var Me=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Me[ot-2]=arguments[ot];return S.prototype[le].apply(B,Me)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const S=p.length;if(S>0){const R=Array(S);for(let B=0;B<S;B++)R[B]=p[B];return R}return[]}function w(p,S){for(let B=1;B<arguments.length;B++){const le=arguments[B];var R=typeof le;if(R=R!="object"?R:le?Array.isArray(le)?"array":R:"null",R=="array"||R=="object"&&typeof le.length=="number"){R=p.length||0;const ve=le.length||0;p.length=R+ve;for(let Me=0;Me<ve;Me++)p[R+Me]=le[Me]}else p.push(le)}}class T{constructor(S,R){this.i=S,this.j=R,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function b(p){c.setTimeout(()=>{throw p},0)}function D(){var p=I;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class k{constructor(){this.h=this.g=null}add(S,R){const B=V.get();B.set(S,R),this.h?this.h.next=B:this.g=B,this.h=B}}var V=new T(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,R){this.h=S,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let z,Q=!1,I=new k,A=()=>{const p=Promise.resolve(void 0);z=()=>{p.then(C)}};function C(){for(var p;p=D();){try{p.h.call(p.g)}catch(R){b(R)}var S=V;S.j(p),S.h<100&&(S.h++,p.next=S.g,S.g=p)}Q=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};c.addEventListener("test",R,S),c.removeEventListener("test",R,S)}catch{}return p})();function L(p){return/^[\s\xa0]*$/.test(p)}function We(p,S){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,S)}x(We,N),We.prototype.init=function(p,S){const R=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget,S||(R=="mouseover"?S=p.fromElement:R=="mouseout"&&(S=p.toElement)),this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),de=0;function Ce(p,S,R,B,le){this.listener=p,this.proxy=null,this.src=S,this.type=R,this.capture=!!B,this.ha=le,this.key=++de,this.da=this.fa=!1}function ze(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Je(p,S,R){for(const B in p)S.call(R,p[B],B,p)}function ee(p,S){for(const R in p)S.call(void 0,p[R],R,p)}function Ee(p){const S={};for(const R in p)S[R]=p[R];return S}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(p,S){let R,B;for(let le=1;le<arguments.length;le++){B=arguments[le];for(R in B)p[R]=B[R];for(let ve=0;ve<K.length;ve++)R=K[ve],Object.prototype.hasOwnProperty.call(B,R)&&(p[R]=B[R])}}function Z(p){this.src=p,this.g={},this.h=0}Z.prototype.add=function(p,S,R,B,le){const ve=p.toString();p=this.g[ve],p||(p=this.g[ve]=[],this.h++);const Me=he(p,S,B,le);return Me>-1?(S=p[Me],R||(S.fa=!1)):(S=new Ce(S,this.src,ve,!!B,le),S.fa=R,p.push(S)),S};function re(p,S){const R=S.type;if(R in p.g){var B=p.g[R],le=Array.prototype.indexOf.call(B,S,void 0),ve;(ve=le>=0)&&Array.prototype.splice.call(B,le,1),ve&&(ze(S),p.g[R].length==0&&(delete p.g[R],p.h--))}}function he(p,S,R,B){for(let le=0;le<p.length;++le){const ve=p[le];if(!ve.da&&ve.listener==S&&ve.capture==!!R&&ve.ha==B)return le}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),ae={};function De(p,S,R,B,le){if(Array.isArray(S)){for(let ve=0;ve<S.length;ve++)De(p,S[ve],R,B,le);return null}return R=Qr(R),p&&p[He]?p.J(S,R,h(B)?!!B.capture:!1,le):ke(p,S,R,!1,B,le)}function ke(p,S,R,B,le,ve){if(!S)throw Error("Invalid event type");const Me=h(le)?!!le.capture:!!le;let ot=Ht(p);if(ot||(p[Fe]=ot=new Z(p)),R=ot.add(S,R,B,Me,ve),R.proxy)return R;if(B=ft(),R.proxy=B,B.src=p,B.listener=R,p.addEventListener)O||(le=Me),le===void 0&&(le=!1),p.addEventListener(S.toString(),B,le);else if(p.attachEvent)p.attachEvent(gt(S.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ft(){function p(R){return S.call(p.src,p.listener,R)}const S=Gn;return p}function ht(p,S,R,B,le){if(Array.isArray(S))for(var ve=0;ve<S.length;ve++)ht(p,S[ve],R,B,le);else B=h(B)?!!B.capture:!!B,R=Qr(R),p&&p[He]?(p=p.i,ve=String(S).toString(),ve in p.g&&(S=p.g[ve],R=he(S,R,B,le),R>-1&&(ze(S[R]),Array.prototype.splice.call(S,R,1),S.length==0&&(delete p.g[ve],p.h--)))):p&&(p=Ht(p))&&(S=p.g[S.toString()],p=-1,S&&(p=he(S,R,B,le)),(R=p>-1?S[p]:null)&&ir(R))}function ir(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[He])re(S.i,p);else{var R=p.type,B=p.proxy;S.removeEventListener?S.removeEventListener(R,B,p.capture):S.detachEvent?S.detachEvent(gt(R),B):S.addListener&&S.removeListener&&S.removeListener(B),(R=Ht(S))?(re(R,p),R.h==0&&(R.src=null,S[Fe]=null)):ze(p)}}}function gt(p){return p in ae?ae[p]:ae[p]="on"+p}function Gn(p,S){if(p.da)p=!0;else{S=new We(S,this);const R=p.listener,B=p.ha||p.src;p.fa&&ir(p),p=R.call(B,S)}return p}function Ht(p){return p=p[Fe],p instanceof Z?p:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qr(p){return typeof p=="function"?p:(p[Le]||(p[Le]=function(S){return p.handleEvent(S)}),p[Le])}function Ot(){P.call(this),this.i=new Z(this),this.M=this,this.G=null}x(Ot,P),Ot.prototype[He]=!0,Ot.prototype.removeEventListener=function(p,S,R,B){ht(this,p,S,R,B)};function Qt(p,S){var R,B=p.G;if(B)for(R=[];B;B=B.G)R.push(B);if(p=p.M,B=S.type||S,typeof S=="string")S=new N(S,p);else if(S instanceof N)S.target=S.target||p;else{var le=S;S=new N(B,p),te(S,le)}le=!0;let ve,Me;if(R)for(Me=R.length-1;Me>=0;Me--)ve=S.g=R[Me],le=dn(ve,B,!0,S)&&le;if(ve=S.g=p,le=dn(ve,B,!0,S)&&le,le=dn(ve,B,!1,S)&&le,R)for(Me=0;Me<R.length;Me++)ve=S.g=R[Me],le=dn(ve,B,!1,S)&&le}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var p=this.i;for(const S in p.g){const R=p.g[S];for(let B=0;B<R.length;B++)ze(R[B]);delete p.g[S],p.h--}}this.G=null},Ot.prototype.J=function(p,S,R,B){return this.i.add(String(p),S,!1,R,B)},Ot.prototype.K=function(p,S,R,B){return this.i.add(String(p),S,!0,R,B)};function dn(p,S,R,B){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();let le=!0;for(let ve=0;ve<S.length;++ve){const Me=S[ve];if(Me&&!Me.da&&Me.capture==R){const ot=Me.listener,tr=Me.ha||Me.src;Me.fa&&re(p.i,Me),le=ot.call(tr,B)!==!1&&le}}return le&&!B.defaultPrevented}function Hl(p,S){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(p,S||0)}function Rs(p){p.g=Hl(()=>{p.g=null,p.i&&(p.i=!1,Rs(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class In extends P{constructor(S,R){super(),this.m=S,this.l=R,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(p){P.call(this),this.h=p,this.g={}}x(ua,P);var ha=[];function Tr(p){Je(p.g,function(S,R){this.g.hasOwnProperty(R)&&ir(S)},p),p.g={}}ua.prototype.N=function(){ua.Z.N.call(this),Tr(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=c.JSON.stringify,Jr=c.JSON.parse,ql=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Io(){}function ko(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ia(){N.call(this,"d")}x(Ia,N);function kn(){N.call(this,"c")}x(kn,N);var On={},rs=null;function js(){return rs=rs||new Ot}On.Ia="serverreachability";function vi(p){N.call(this,On.Ia,p)}x(vi,N);function ka(p){const S=js();Qt(S,new vi(S))}On.STAT_EVENT="statevent";function xi(p,S){N.call(this,On.STAT_EVENT,p),this.stat=S}x(xi,N);function or(p){const S=js();Qt(S,new xi(S,p))}On.Ja="timingevent";function Ds(p,S){N.call(this,On.Ja,p),this.size=S}x(Ds,N);function ns(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},S)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function Oo(p,S,R,B,le,ve){p.info(function(){if(p.g)if(ve){var Me="",ot=ve.split("&");for(let Mt=0;Mt<ot.length;Mt++){var tr=ot[Mt].split("=");if(tr.length>1){const vr=tr[0];tr=tr[1];const Kn=vr.split("_");Me=Kn.length>=2&&Kn[1]=="type"?Me+(vr+"="+tr+"&"):Me+(vr+"=redacted&")}}}else Me=null;else Me=ve;return"XMLHTTP REQ ("+B+") [attempt "+le+"]: "+S+`
`+R+`
`+Me})}function Po(p,S,R,B,le,ve,Me){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+le+"]: "+S+`
`+R+`
`+ve+" "+Me})}function Oa(p,S,R,B){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+da(p,R)+(B?" "+B:"")})}function bu(p,S){p.info(function(){return"TIMEOUT: "+S})}as.prototype.info=function(){};function da(p,S){if(!p.g)return S;if(!S)return null;try{const ve=JSON.parse(S);if(ve){for(p=0;p<ve.length;p++)if(Array.isArray(ve[p])){var R=ve[p];if(!(R.length<2)){var B=R[1];if(Array.isArray(B)&&!(B.length<1)){var le=B[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Me=1;Me<B.length;Me++)B[Me]=""}}}}return wr(ve)}catch{return S}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pa;function Is(){}x(Is,Io),Is.prototype.g=function(){return new XMLHttpRequest},Pa=new Is;function ks(p){return encodeURIComponent(String(p))}function M(p){var S=1;p=p.split(":");const R=[];for(;S>0&&p.length;)R.push(p.shift()),S--;return p.length&&R.push(p.join(":")),R}function G(p,S,R,B){this.j=p,this.i=S,this.l=R,this.S=B||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new U}function U(){this.i=null,this.g="",this.h=!1}var q={},Y={};function X(p,S,R){p.M=1,p.A=Os(cr(S)),p.u=R,p.R=!0,ce(p,null)}function ce(p,S){p.F=Date.now(),me(p),p.B=cr(p.A);var R=p.B,B=p.S;Array.isArray(B)||(B=[String(B)]),Gd(R.i,"t",B),p.C=0,R=p.j.L,p.h=new U,p.g=Xl(p.j,R?S:null,!p.u),p.P>0&&(p.O=new In(f(p.Y,p,p.g),p.P)),S=p.V,R=p.g,B=p.ba;var le="readystatechange";Array.isArray(le)||(le&&(ha[0]=le.toString()),le=ha);for(let ve=0;ve<le.length;ve++){const Me=De(R,le[ve],B||S.handleEvent,!1,S.h||S);if(!Me)break;S.g[Me.key]=Me}S=p.J?Ee(p.J):{},p.u?(p.v||(p.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,S)):(p.v="GET",p.g.ea(p.B,p.v,null,S)),ka(),Oo(p.i,p.v,p.B,p.l,p.S,p.u)}G.prototype.ba=function(p){p=p.target;const S=this.O;S&&fn(p)==3?S.j():this.Y(p)},G.prototype.Y=function(p){try{if(p==this.g)e:{const ot=fn(this.g),tr=this.g.ya(),Mt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||zo(this.g)))){this.K||ot!=4||tr==7||(tr==8||Mt<=0?ka(3):ka(2)),Ie(this);var S=this.g.ca();this.X=S;var R=xe(this);if(this.o=S==200,Po(this.i,this.v,this.B,this.l,this.S,ot,S),this.o){if(this.U&&!this.L){t:{if(this.g){var B,le=this.g;if((B=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(B)){var ve=B;break t}}ve=null}if(p=ve)Oa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ve(this,p);else{this.o=!1,this.m=3,or(12),Re(this),Be(this);break e}}if(this.R){p=!0;let vr;for(;!this.K&&this.C<R.length;)if(vr=fe(this,R),vr==Y){ot==4&&(this.m=4,or(14),p=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==q){this.m=4,or(15),Oa(this.i,this.l,R,"[Invalid Chunk]"),p=!1;break}else Oa(this.i,this.l,vr,null),Ve(this,vr);if(ie(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||R.length!=0||this.h.h||(this.m=1,or(16),p=!1),this.o=this.o&&p,!p)Oa(this.i,this.l,R,"[Invalid Chunked Response]"),Re(this),Be(this);else if(R.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Pu(Me),Me.P=!0,or(11))}}else Oa(this.i,this.l,R,null),Ve(this,R);ot==4&&Re(this),this.o&&!this.K&&(ot==4?Mu(this.j,this):(this.o=!1,me(this)))}else Ho(this.g),S==400&&R.indexOf("Unknown SID")>0?(this.m=3,or(12)):(this.m=0,or(13)),Re(this),Be(this)}}}catch{}finally{}};function xe(p){if(!ie(p))return p.g.la();const S=zo(p.g);if(S==="")return"";let R="";const B=S.length,le=fn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Re(p),Be(p),"";p.h.i=new c.TextDecoder}for(let ve=0;ve<B;ve++)p.h.h=!0,R+=p.h.i.decode(S[ve],{stream:!(le&&ve==B-1)});return S.length=0,p.h.g+=R,p.C=0,p.h.g}function ie(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function fe(p,S){var R=p.C,B=S.indexOf(`
`,R);return B==-1?Y:(R=Number(S.substring(R,B)),isNaN(R)?q:(B+=1,B+R>S.length?Y:(S=S.slice(B,B+R),p.C=B+R,S)))}G.prototype.cancel=function(){this.K=!0,Re(this)};function me(p){p.T=Date.now()+p.H,Ae(p,p.H)}function Ae(p,S){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ns(f(p.aa,p),S)}function Ie(p){p.D&&(c.clearTimeout(p.D),p.D=null)}G.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(bu(this.i,this.B),this.M!=2&&(ka(),or(17)),Re(this),this.m=2,Be(this)):Ae(this,this.T-p)};function Be(p){p.j.I==0||p.K||Mu(p.j,p)}function Re(p){Ie(p);var S=p.O;S&&typeof S.dispose=="function"&&S.dispose(),p.O=null,Tr(p.V),p.g&&(S=p.g,p.g=null,S.abort(),S.dispose())}function Ve(p,S){try{var R=p.j;if(R.I!=0&&(R.g==p||Wn(R.h,p))){if(!p.L&&Wn(R.h,p)&&R.I==3){try{var B=R.Ba.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var le=B;if(le[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<p.F)Kl(R),is(R);else break e;Ou(R),or(18)}}else R.xa=le[1],0<R.xa-R.K&&le[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=ns(f(R.Va,R),6e3));Pt(R.h)<=1&&R.ta&&(R.ta=void 0)}else Fs(R,11)}else if((p.L||R.g==p)&&Kl(R),!L(S))for(le=R.Ba.g.parse(S),S=0;S<le.length;S++){let Mt=le[S];const vr=Mt[0];if(!(vr<=R.K))if(R.K=vr,Mt=Mt[1],R.I==2)if(Mt[0]=="c"){R.M=Mt[1],R.ba=Mt[2];const Kn=Mt[3];Kn!=null&&(R.ka=Kn,R.j.info("VER="+R.ka));const os=Mt[4];os!=null&&(R.za=os,R.j.info("SVER="+R.za));const La=Mt[5];La!=null&&typeof La=="number"&&La>0&&(B=1.5*La,R.O=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const Va=p.g;if(Va){const Ba=Va.g?Va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var ve=B.h;ve.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(fa(ve,ve.h),ve.h=null))}if(B.G){const Lu=Va.g?Va.g.getResponseHeader("X-HTTP-Session-Id"):null;Lu&&(B.wa=Lu,qt(B.J,B.G,Lu))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-p.F,R.j.info("Handshake RTT: "+R.T+"ms")),B=R;var Me=p;if(B.na=ef(B,B.L?B.ba:null,B.W),Me.L){wn(B.h,Me);var ot=Me,tr=B.O;tr&&(ot.H=tr),ot.D&&(Ie(ot),me(ot)),B.g=Me}else Xd(B);R.i.length>0&&Wo(R)}else Mt[0]!="stop"&&Mt[0]!="close"||Fs(R,7);else R.I==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Fs(R,7):Go(R):Mt[0]!="noop"&&R.l&&R.l.qa(Mt),R.A=0)}}ka(4)}catch{}}var st=class{constructor(p,S){this.g=p,this.map=S}};function Ct(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Pt(p){return p.h?1:p.g?p.g.size:0}function Wn(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function fa(p,S){p.g?p.g.add(S):p.h=S}function wn(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}Ct.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const R of p.g.values())S=S.concat(R.G);return S}return E(p.i)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yn(p,S){if(p){p=p.split("&");for(let R=0;R<p.length;R++){const B=p[R].indexOf("=");let le,ve=null;B>=0?(le=p[R].substring(0,B),ve=p[R].substring(B+1)):le=p[R],S(le,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function Ma(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;p instanceof Ma?(this.l=p.l,yi(this,p.j),this.o=p.o,this.g=p.g,Mo(this,p.u),this.h=p.h,_i(this,$d(p.i)),this.m=p.m):p&&(S=String(p).match(ss))?(this.l=!1,yi(this,S[1]||"",!0),this.o=Fo(S[2]||""),this.g=Fo(S[3]||"",!0),Mo(this,S[4]),this.h=Fo(S[5]||"",!0),_i(this,S[6]||"",!0),this.m=Fo(S[7]||"")):(this.l=!1,this.i=new ma(null,this.l))}Ma.prototype.toString=function(){const p=[];var S=this.j;S&&p.push(Vr(S,Au,!0),":");var R=this.g;return(R||S=="file")&&(p.push("//"),(S=this.o)&&p.push(Vr(S,Au,!0),"@"),p.push(ks(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&p.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(Vr(R,R.charAt(0)=="/"?Ei:Cu,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",Vr(R,qd)),p.join("")},Ma.prototype.resolve=function(p){const S=cr(this);let R=!!p.j;R?yi(S,p.j):R=!!p.o,R?S.o=p.o:R=!!p.g,R?S.g=p.g:R=p.u!=null;var B=p.h;if(R)Mo(S,p.u);else if(R=!!p.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var le=S.h.lastIndexOf("/");le!=-1&&(B=S.h.slice(0,le+1)+B)}if(le=B,le==".."||le==".")B="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){B=le.lastIndexOf("/",0)==0,le=le.split("/");const ve=[];for(let Me=0;Me<le.length;){const ot=le[Me++];ot=="."?B&&Me==le.length&&ve.push(""):ot==".."?((ve.length>1||ve.length==1&&ve[0]!="")&&ve.pop(),B&&Me==le.length&&ve.push("")):(ve.push(ot),B=!0)}B=ve.join("/")}else B=le}return R?S.h=B:R=p.i.toString()!=="",R?_i(S,$d(p.i)):R=!!p.m,R&&(S.m=p.m),S};function cr(p){return new Ma(p)}function yi(p,S,R){p.j=R?Fo(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Mo(p,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);p.u=S}else p.u=null}function _i(p,S,R){S instanceof ma?(p.i=S,Du(p.i,p.l)):(R||(S=Vr(S,Hd)),p.i=new ma(S,p.l))}function qt(p,S,R){p.i.set(S,R)}function Os(p){return qt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Fo(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Vr(p,S,R){return typeof p=="string"?(p=encodeURI(p).replace(S,Nu),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Nu(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Au=/[#\/\?@]/g,Cu=/[#\?:]/g,Ei=/[#\?]/g,Hd=/[#\?@]/g,qd=/#/g;function ma(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Ps(p){p.g||(p.g=new Map,p.h=0,p.i&&Yn(p.i,function(S,R){p.add(decodeURIComponent(S.replace(/\+/g," ")),R)}))}t=ma.prototype,t.add=function(p,S){Ps(this),this.i=null,p=Fa(this,p);let R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(S),this.h+=1,this};function Ru(p,S){Ps(p),S=Fa(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function ju(p,S){return Ps(p),S=Fa(p,S),p.g.has(S)}t.forEach=function(p,S){Ps(this),this.g.forEach(function(R,B){R.forEach(function(le){p.call(S,le,B,this)},this)},this)};function Gl(p,S){Ps(p);let R=[];if(typeof S=="string")ju(p,S)&&(R=R.concat(p.g.get(Fa(p,S))));else for(p=Array.from(p.g.values()),S=0;S<p.length;S++)R=R.concat(p[S]);return R}t.set=function(p,S){return Ps(this),this.i=null,p=Fa(this,p),ju(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=Gl(this,p),p.length>0?String(p[0]):S):S};function Gd(p,S,R){Ru(p,S),R.length>0&&(p.i=null,p.g.set(Fa(p,S),E(R)),p.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(let B=0;B<S.length;B++){var R=S[B];const le=ks(R);R=Gl(this,R);for(let ve=0;ve<R.length;ve++){let Me=le;R[ve]!==""&&(Me+="="+ks(R[ve])),p.push(Me)}}return this.i=p.join("&")};function $d(p){const S=new ma;return S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),S}function Fa(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Du(p,S){S&&!p.j&&(Ps(p),p.i=null,p.g.forEach(function(R,B){const le=B.toLowerCase();B!=le&&(Ru(this,B),Gd(this,le,R))},p)),p.j=S}function Iu(p,S){const R=new as;if(c.Image){const B=new Image;B.onload=g(Sn,R,"TestLoadImage: loaded",!0,S,B),B.onerror=g(Sn,R,"TestLoadImage: error",!1,S,B),B.onabort=g(Sn,R,"TestLoadImage: abort",!1,S,B),B.ontimeout=g(Sn,R,"TestLoadImage: timeout",!1,S,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else S(!1)}function Ti(p,S){const R=new as,B=new AbortController,le=setTimeout(()=>{B.abort(),Sn(R,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:B.signal}).then(ve=>{clearTimeout(le),ve.ok?Sn(R,"TestPingServer: ok",!0,S):Sn(R,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(le),Sn(R,"TestPingServer: error",!1,S)})}function Sn(p,S,R,B,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),B(R)}catch{}}function Wd(){this.g=new ql}function Lo(p){this.i=p.Sb||null,this.h=p.ab||!1}x(Lo,Io),Lo.prototype.g=function(){return new Vo(this.i,this.h)};function Vo(p,S){Ot.call(this),this.H=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Vo,Ot),t=Vo.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=S,this.readyState=1,Ms(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(S.body=p),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wi(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function wi(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?bn(this):Ms(this),this.readyState==3&&wi(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,bn(this))},t.Na=function(p){this.g&&(this.response=p,bn(this))},t.ga=function(){this.g&&bn(this)};function bn(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ms(p)}t.setRequestHeader=function(p,S){this.A.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var R=S.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=S.next();return p.join(`\r
`)};function Ms(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Si(p){let S="";return Je(p,function(R,B){S+=B,S+=":",S+=R,S+=`\r
`}),S}function pa(p,S,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=Si(R),typeof p=="string"?R!=null&&ks(R):qt(p,S,R))}function Jt(p){Ot.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Jt,Ot);var $l=/^https?$/i,Yd=["POST","PUT"];t=Jt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,S,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pa.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ve){Bo(this,ve);return}if(p=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var le in B)R.set(le,B[le]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ve of B.keys())R.set(ve,B.get(ve));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(ve=>ve.toLowerCase()=="content-type"),le=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Yd,S,void 0)>=0)||B||le||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Me]of R)this.g.setRequestHeader(ve,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ve){Bo(this,ve)}};function Bo(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.o=5,Uo(p),kr(p)}function Uo(p){p.A||(p.A=!0,Qt(p,"complete"),Qt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Qt(this,"complete"),Qt(this,"abort"),kr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),Jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ku(this):this.Xa())},t.Xa=function(){ku(this)};function ku(p){if(p.h&&typeof o<"u"){if(p.v&&fn(p)==4)setTimeout(p.Ca.bind(p),0);else if(Qt(p,"readystatechange"),fn(p)==4){p.h=!1;try{const ve=p.ca();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var R;if(!(R=S)){var B;if(B=ve===0){let Me=String(p.D).match(ss)[1]||null;!Me&&c.self&&c.self.location&&(Me=c.self.location.protocol.slice(0,-1)),B=!$l.test(Me?Me.toLowerCase():"")}R=B}if(R)Qt(p,"complete"),Qt(p,"success");else{p.o=6;try{var le=fn(p)>2?p.g.statusText:""}catch{le=""}p.l=le+" ["+p.ca()+"]",Uo(p)}}finally{kr(p)}}}}function kr(p,S){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const R=p.g;p.g=null,S||Qt(p,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fn(p){return p.g?p.g.readyState:0}t.ca=function(){try{return fn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),Jr(S)}};function zo(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ho(p){const S={};p=(p.g&&fn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(L(p[B]))continue;var R=M(p[B]);const le=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ve=S[le]||[];S[le]=ve,ve.push(R)}ee(S,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(p,S,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||S}function Wl(p){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qo("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qo("baseRetryDelayMs",5e3,p),this.Za=qo("retryDelaySeedMs",1e4,p),this.Ta=qo("forwardChannelMaxRetries",2,p),this.va=qo("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Ct(p&&p.concurrentRequestLimit),this.Ba=new Wd,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wl.prototype,t.ka=8,t.I=1,t.connect=function(p,S,R,B){or(0),this.W=p,this.H=S||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.J=ef(this,null,this.W),Wo(this)};function Go(p){if($o(p),p.I==3){var S=p.V++,R=cr(p.J);if(qt(R,"SID",p.M),qt(R,"RID",S),qt(R,"TYPE","terminate"),Yo(p,R),S=new G(p,p.j,S),S.M=2,S.A=Os(cr(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!R&&c.Image&&(new Image().src=S.A,R=!0),R||(S.g=Xl(S.j,null),S.g.ea(S.A)),S.F=Date.now(),me(S)}Zd(p)}function is(p){p.g&&(Pu(p),p.g.cancel(),p.g=null)}function $o(p){is(p),p.v&&(c.clearTimeout(p.v),p.v=null),Kl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Wo(p){if(!Rt(p.h)&&!p.m){p.m=!0;var S=p.Ea;z||A(),Q||(z(),Q=!0),I.add(S,p),p.D=0}}function Qm(p,S){return Pt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=S.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ns(f(p.Ea,p,S),Jd(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const le=new G(this,this.j,p);let ve=this.o;if(this.U&&(ve?(ve=Ee(ve),te(ve,this.U)):ve=this.U),this.u!==null||this.R||(le.J=ve,ve=null),this.S)e:{for(var S=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,S>4096){S=R;break e}if(S===4096||R===this.i.length-1){S=R+1;break e}}S=1e3}else S=1e3;S=Yl(this,le,S),R=cr(this.J),qt(R,"RID",p),qt(R,"CVER",22),this.G&&qt(R,"X-HTTP-Session-Id",this.G),Yo(this,R),ve&&(this.R?S="headers="+ks(Si(ve))+"&"+S:this.u&&pa(R,this.u,ve)),fa(this.h,le),this.Ra&&qt(R,"TYPE","init"),this.S?(qt(R,"$req",S),qt(R,"SID","null"),le.U=!0,X(le,R,null)):X(le,R,S),this.I=2}}else this.I==3&&(p?Kd(this,p):this.i.length==0||Rt(this.h)||Kd(this))};function Kd(p,S){var R;S?R=S.l:R=p.V++;const B=cr(p.J);qt(B,"SID",p.M),qt(B,"RID",R),qt(B,"AID",p.K),Yo(p,B),p.u&&p.o&&pa(B,p.u,p.o),R=new G(p,p.j,R,p.D+1),p.u===null&&(R.J=p.o),S&&(p.i=S.G.concat(p.i)),S=Yl(p,R,1e3),R.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),fa(p.h,R),X(R,B,S)}function Yo(p,S){p.H&&Je(p.H,function(R,B){qt(S,B,R)}),p.l&&Je({},function(R,B){qt(S,B,R)})}function Yl(p,S,R){R=Math.min(p.i.length,R);const B=p.l?f(p.l.Ka,p.l,p):null;e:{var le=p.i;let ot=-1;for(;;){const tr=["count="+R];ot==-1?R>0?(ot=le[0].g,tr.push("ofs="+ot)):ot=0:tr.push("ofs="+ot);let Mt=!0;for(let vr=0;vr<R;vr++){var ve=le[vr].g;const Kn=le[vr].map;if(ve-=ot,ve<0)ot=Math.max(0,le[vr].g-100),Mt=!1;else try{ve="req"+ve+"_"||"";try{var Me=Kn instanceof Map?Kn:Object.entries(Kn);for(const[os,La]of Me){let Va=La;h(La)&&(Va=wr(La)),tr.push(ve+os+"="+encodeURIComponent(Va))}}catch(os){throw tr.push(ve+"type="+encodeURIComponent("_badmap")),os}}catch{B&&B(Kn)}}if(Mt){Me=tr.join("&");break e}}Me=void 0}return p=p.i.splice(0,R),S.G=p,Me}function Xd(p){if(!p.g&&!p.v){p.Y=1;var S=p.Da;z||A(),Q||(z(),Q=!0),I.add(S,p),p.A=0}}function Ou(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ns(f(p.Da,p),Jd(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Qd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ns(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,or(10),is(this),Qd(this))};function Pu(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Qd(p){p.g=new G(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var S=cr(p.na);qt(S,"RID","rpc"),qt(S,"SID",p.M),qt(S,"AID",p.K),qt(S,"CI",p.F?"0":"1"),!p.F&&p.ia&&qt(S,"TO",p.ia),qt(S,"TYPE","xmlhttp"),Yo(p,S),p.u&&p.o&&pa(S,p.u,p.o),p.O&&(p.g.H=p.O);var R=p.g;p=p.ba,R.M=1,R.A=Os(cr(S)),R.u=null,R.R=!0,ce(R,p)}t.Va=function(){this.C!=null&&(this.C=null,is(this),Ou(this),or(19))};function Kl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Mu(p,S){var R=null;if(p.g==S){Kl(p),Pu(p),p.g=null;var B=2}else if(Wn(p.h,S))R=S.G,wn(p.h,S),B=1;else return;if(p.I!=0){if(S.o)if(B==1){R=S.u?S.u.length:0,S=Date.now()-S.F;var le=p.D;B=js(),Qt(B,new Ds(B,R)),Wo(p)}else Xd(p);else if(le=S.m,le==3||le==0&&S.X>0||!(B==1&&Qm(p,S)||B==2&&Ou(p)))switch(R&&R.length>0&&(S=p.h,S.i=S.i.concat(R)),le){case 1:Fs(p,5);break;case 4:Fs(p,10);break;case 3:Fs(p,6);break;default:Fs(p,2)}}}function Jd(p,S){let R=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(R*=2),R*S}function Fs(p,S){if(p.j.info("Error code "+S),S==2){var R=f(p.bb,p),B=p.Ua;const le=!B;B=new Ma(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||yi(B,"https"),Os(B),le?Iu(B.toString(),R):Ti(B.toString(),R)}else or(2);p.I=0,p.l&&p.l.pa(S),Zd(p),$o(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))};function Zd(p){if(p.I=0,p.ja=[],p.l){const S=Pn(p.h);(S.length!=0||p.i.length!=0)&&(w(p.ja,S),w(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function ef(p,S,R){var B=R instanceof Ma?cr(R):new Ma(R);if(B.g!="")S&&(B.g=S+"."+B.g),Mo(B,B.u);else{var le=c.location;B=le.protocol,S=S?S+"."+le.hostname:le.hostname,le=+le.port;const ve=new Ma(null);B&&yi(ve,B),S&&(ve.g=S),le&&Mo(ve,le),R&&(ve.h=R),B=ve}return R=p.G,S=p.wa,R&&S&&qt(B,R,S),qt(B,"VER",p.ka),Yo(p,B),B}function Xl(p,S,R){if(S&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Aa&&!p.ma?new Jt(new Lo({ab:R})):new Jt(p.ma),S.Fa(p.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}t=tf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ql(){}Ql.prototype.g=function(p,S){return new Nn(p,S)};function Nn(p,S){Ot.call(this),this.g=new Wl(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(p?p["X-WebChannel-Client-Profile"]=S.sa:p={"X-WebChannel-Client-Profile":S.sa}),this.g.U=p,(p=S&&S.Qb)&&!L(p)&&(this.g.u=p),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!L(S)&&(this.g.G=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new bi(this)}x(Nn,Ot),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Go(this.g)},Nn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.v&&(R={},R.__data__=wr(p),p=R);S.i.push(new st(S.Ya++,p)),S.I==3&&Wo(S)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Nn.Z.N.call(this)};function Fu(p){Ia.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const R in S){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}x(Fu,Ia);function rf(){kn.call(this),this.status=1}x(rf,kn);function bi(p){this.g=p}x(bi,tf),bi.prototype.ra=function(){Qt(this.g,"a")},bi.prototype.qa=function(p){Qt(this.g,new Fu(p))},bi.prototype.pa=function(p){Qt(this.g,new rf)},bi.prototype.oa=function(){Qt(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,MS=function(){return new Ql},PS=function(){return js()},OS=On,Av={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,S0=lr,gr.COMPLETE="complete",kS=gr,ko.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Ph=ko,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,IS=Jt}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});const _2="@firebase/firestore",E2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Zv("@firebase/firestore");function Ic(){return wl.logLevel}function qe(t,...e){if(wl.logLevel<=yt.DEBUG){const r=e.map(u1);wl.debug(`Firestore (${lu}): ${t}`,...r)}}function li(t,...e){if(wl.logLevel<=yt.ERROR){const r=e.map(u1);wl.error(`Firestore (${lu}): ${t}`,...r)}}function Qc(t,...e){if(wl.logLevel<=yt.WARN){const r=e.map(u1);wl.warn(`Firestore (${lu}): ${t}`,...r)}}function u1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,FS(t,n,r)}function FS(t,e,r){let n=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw li(n),new Error(n)}function kt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||FS(e,a,n)}function lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends fi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(vn.UNAUTHENTICATED)))}shutdown(){}}class r3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class n3{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){kt(this.o===void 0,42304);let n=this.i;const a=m=>this.i!==n?(n=this.i,r(m)):Promise.resolve();let o=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ti,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ti)}}),0),c()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(kt(typeof n.accessToken=="string",31837,{l:n}),new LS(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class a3{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s3{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new a3(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i3{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){kt(this.o===void 0,3512);const n=o=>{o.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const a=o=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(kt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new T2(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=o3(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<r&&(n+=e.charAt(a[o]%62))}return n}}function _t(t,e){return t<e?-1:t>e?1:0}function Cv(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),o=e.charAt(n);if(a!==o)return tv(a)===tv(o)?_t(a,o):tv(a)?1:-1}return _t(t.length,e.length)}const l3=55296,c3=57343;function tv(t){const e=t.charCodeAt(0);return e>=l3&&e<=c3}function Jc(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__name__";class vs{constructor(e,r,n){r===void 0?r=0:r>e.length&&rt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&rt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const o=vs.compareSegments(e.get(a),r.get(a));if(o!==0)return o}return _t(e.length,r.length)}static compareSegments(e,r){const n=vs.isNumericId(e),a=vs.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?vs.extractNumericId(e).compare(vs.extractNumericId(r)):Cv(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class er extends vs{construct(e,r,n){return new er(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ue(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new er(r)}static emptyPath(){return new er([])}}const u3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends vs{construct(e,r,n){return new sn(e,r,n)}static isValidIdentifier(e){return u3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w2}static keyField(){return new sn([w2])}static fromServerFormat(e){const r=[];let n="",a=0;const o=()=>{if(n.length===0)throw new Ue(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ue(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ue(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(n+=h,a++):(o(),a++)}if(o(),c)throw new Ue(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(er.fromString(e))}static fromName(e){return new Xe(er.fromString(e).popFirst(5))}static empty(){return new Xe(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&er.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return er.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new er(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e,r){if(!r)throw new Ue(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h3(t,e,r,n){if(e===!0&&n===!0)throw new Ue(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function S2(t){if(!Xe.isDocumentKey(t))throw new Ue(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b2(t){if(Xe.isDocumentKey(t))throw new Ue(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function Ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_m(t);throw new Ue(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Nd(t,e){if(!BS(t))throw new Ue(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const c=t[n];if(a&&typeof c!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new Ue(we.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=-62135596800,A2=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*A2);return new nt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ue(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ue(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<N2)throw new Ue(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A2}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nd(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Rr("string",nt._jsonSchemaVersion),seconds:Rr("number"),nanoseconds:Rr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new nt(0,0))}static max(){return new it(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=-1;function d3(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=it.fromTimestamp(n===1e9?new nt(r+1,0):new nt(r,n));return new mo(a,Xe.empty(),e)}function f3(t){return new mo(t.readTime,t.key,ad)}class mo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new mo(it.min(),Xe.empty(),ad)}static max(){return new mo(it.max(),Xe.empty(),ad)}}function m3(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Xe.comparator(t.documentKey,e.documentKey),r!==0?r:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==p3)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new be(((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof be?r:be.resolve(r)}catch(r){return be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):be.reject(r)}static resolve(e){return new be(((r,n)=>{r(e)}))}static reject(e){return new be(((r,n)=>{n(e)}))}static waitFor(e){return new be(((r,n)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&r()}),(m=>n(m)))})),c=!0,o===a&&r()}))}static or(e){let r=be.resolve(!1);for(const n of e)r=r.next((a=>a?be.resolve(a):n()));return r}static forEach(e,r){const n=[];return e.forEach(((a,o)=>{n.push(r.call(this,a,o))})),this.waitFor(n)}static mapArray(e,r){return new be(((n,a)=>{const o=e.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const f=m;r(e[f]).next((g=>{c[f]=g,++h,h===o&&n(c)}),(g=>a(g)))}}))}static doWhile(e,r){return new be(((n,a)=>{const o=()=>{e()===!0?r().next((()=>{o()}),a):n()};o()}))}}function v3(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=-1;function Tm(t){return t==null}function B0(t){return t===0&&1/t==-1/0}function x3(t){return typeof t=="number"&&Number.isInteger(t)&&!B0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="";function y3(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=C2(e)),e=_3(t.get(r),e);return C2(e)}function _3(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const o=t.charAt(a);switch(o){case"\0":r+="";break;case US:r+="";break;default:r+=o}}return r}function C2(t){return t+US+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ro(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,r){this.comparator=e,this.root=r||an.EMPTY}insert(e,r){return new hr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new i0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new i0(this.root,e,this.comparator,!1)}getReverseIterator(){return new i0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new i0(this.root,e,this.comparator,!0)}}class i0{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,r,n,a,o){this.key=e,this.value=r,this.color=n??an.RED,this.left=a??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,o){return new an(e??this.key,r??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,r,n),null):o===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,r,n,a,o){return this}insert(e,r,n){return new an(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new j2(this.data.getIterator())}getIteratorFrom(e){return new j2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Fr(this.comparator);return r.data=e,r}}class j2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new oa([])}unionWith(e){let r=new Fr(sn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new oa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jc(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HS("Invalid base64 string: "+o):o}})(e);return new un(r)}static fromUint8Array(e){const r=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new un(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const E3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const r=E3.exec(t);if(kt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="server_timestamp",GS="__type__",$S="__previous_value__",WS="__local_write_time__";function f1(t){return(t?.mapValue?.fields||{})[GS]?.stringValue===qS}function wm(t){const e=t.mapValue.fields[$S];return f1(e)?wm(e):e}function sd(t){const e=po(t.mapValue.fields[WS].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,r,n,a,o,c,h,m,f,g){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=g}}const U0="(default)";class id{constructor(e,r){this.projectId=e,this.database=r||U0}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===U0}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",w3="__max__",o0={mapValue:{}},KS="__vector__",z0="value";function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f1(t)?4:b3(t)?9007199254740991:S3(t)?10:11:rt(28295,{value:t})}function Ss(t,e){if(t===e)return!0;const r=vo(t);if(r!==vo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=po(a.timestampValue),h=po(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return go(a.bytesValue).isEqual(go(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return _r(a.geoPointValue.latitude)===_r(o.geoPointValue.latitude)&&_r(a.geoPointValue.longitude)===_r(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _r(a.integerValue)===_r(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=_r(a.doubleValue),h=_r(o.doubleValue);return c===h?B0(c)===B0(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Jc(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(R2(c)!==R2(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!Ss(c[m],h[m])))return!1;return!0})(t,e);default:return rt(52216,{left:t})}}function od(t,e){return(t.values||[]).find((r=>Ss(r,e)))!==void 0}function Zc(t,e){if(t===e)return 0;const r=vo(t),n=vo(e);if(r!==n)return _t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=_r(o.integerValue||o.doubleValue),m=_r(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return D2(t.timestampValue,e.timestampValue);case 4:return D2(sd(t),sd(e));case 5:return Cv(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=go(o),m=go(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),m=c.split("/");for(let f=0;f<h.length&&f<m.length;f++){const g=_t(h[f],m[f]);if(g!==0)return g}return _t(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=_t(_r(o.latitude),_r(c.latitude));return h!==0?h:_t(_r(o.longitude),_r(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return I2(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},m=c.fields||{},f=h[z0]?.arrayValue,g=m[z0]?.arrayValue,x=_t(f?.values?.length||0,g?.values?.length||0);return x!==0?x:I2(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===o0.mapValue&&c===o0.mapValue)return 0;if(o===o0.mapValue)return 1;if(c===o0.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),f=c.fields||{},g=Object.keys(f);m.sort(),g.sort();for(let x=0;x<m.length&&x<g.length;++x){const y=Cv(m[x],g[x]);if(y!==0)return y;const E=Zc(h[m[x]],f[g[x]]);if(E!==0)return E}return _t(m.length,g.length)})(t.mapValue,e.mapValue);default:throw rt(23264,{he:r})}}function D2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const r=po(t),n=po(e),a=_t(r.seconds,n.seconds);return a!==0?a:_t(r.nanos,n.nanos)}function I2(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const o=Zc(r[a],n[a]);if(o)return o}return _t(r.length,n.length)}function eu(t){return Rv(t)}function Rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=po(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return go(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Xe.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(const o of r.values||[])a?a=!1:n+=",",n+=Rv(o);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",o=!0;for(const c of n)o?o=!1:a+=",",a+=`${c}:${Rv(r.fields[c])}`;return a+"}"})(t.mapValue):rt(61005,{value:t})}function b0(t){switch(vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(t);return e?16+b0(e):16;case 5:return 2*t.stringValue.length;case 6:return go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,o)=>a+b0(o)),0)})(t.arrayValue);case 10:case 11:return(function(n){let a=0;return Ro(n.fields,((o,c)=>{a+=o.length+b0(c)})),a})(t.mapValue);default:throw rt(13486,{value:t})}}function k2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jv(t){return!!t&&"integerValue"in t}function m1(t){return!!t&&"arrayValue"in t}function O2(t){return!!t&&"nullValue"in t}function P2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function N0(t){return!!t&&"mapValue"in t}function S3(t){return(t?.mapValue?.fields||{})[YS]?.stringValue===KS}function zh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=zh(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zh(t.arrayValue.values[r]);return e}return{...t}}function b3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!N0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(r)}setAll(e){let r=sn.emptyPath(),n={},a=[];e.forEach(((c,h)=>{if(!r.isImmediateParentOf(h)){const m=this.getFieldsMap(r);this.applyChanges(m,n,a),n={},a=[],r=h.popLast()}c?n[h.lastSegment()]=zh(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(r);this.applyChanges(o,n,a)}delete(e){const r=this.field(e.popLast());N0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];N0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){Ro(r,((a,o)=>e[a]=o));for(const a of n)delete e[a]}clone(){return new Un(zh(this.value))}}function XS(t){const e=[];return Ro(t.fields,((r,n)=>{const a=new sn([r]);if(N0(n)){const o=XS(n.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new oa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,r,n,a,o,c,h){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,it.min(),it.min(),it.min(),Un.empty(),0)}static newFoundDocument(e,r,n,a){return new xn(e,1,r,it.min(),n,a,0)}static newNoDocument(e,r){return new xn(e,2,r,it.min(),it.min(),Un.empty(),0)}static newUnknownDocument(e,r){return new xn(e,3,r,it.min(),it.min(),Un.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,r){this.position=e,this.inclusive=r}}function M2(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?n=Xe.comparator(Xe.fromName(c.referenceValue),r.key):n=Zc(c,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function F2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ss(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,r="asc"){this.field=e,this.dir=r}}function N3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QS=class{};class Cr extends QS{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new C3(e,r,n):r==="array-contains"?new D3(e,n):r==="in"?new I3(e,n):r==="not-in"?new k3(e,n):r==="array-contains-any"?new O3(e,n):new Cr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new R3(e,n):new j3(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Zc(r,this.value)):r!==null&&vo(this.value)===vo(r)&&this.matchesComparison(Zc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Za extends QS{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Za(e,r)}matches(e){return JS(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JS(t){return t.op==="and"}function ZS(t){return A3(t)&&JS(t)}function A3(t){for(const e of t.filters)if(e instanceof Za)return!1;return!0}function Dv(t){if(t instanceof Cr)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(ZS(t))return t.filters.map((e=>Dv(e))).join(",");{const e=t.filters.map((r=>Dv(r))).join(",");return`${t.op}(${e})`}}function eb(t,e){return t instanceof Cr?(function(n,a){return a instanceof Cr&&n.op===a.op&&n.field.isEqual(a.field)&&Ss(n.value,a.value)})(t,e):t instanceof Za?(function(n,a){return a instanceof Za&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((o,c,h)=>o&&eb(c,a.filters[h])),!0):!1})(t,e):void rt(19439)}function tb(t){return t instanceof Cr?(function(r){return`${r.field.canonicalString()} ${r.op} ${eu(r.value)}`})(t):t instanceof Za?(function(r){return r.op.toString()+" {"+r.getFilters().map(tb).join(" ,")+"}"})(t):"Filter"}class C3 extends Cr{constructor(e,r,n){super(e,r,n),this.key=Xe.fromName(n.referenceValue)}matches(e){const r=Xe.comparator(e.key,this.key);return this.matchesComparison(r)}}class R3 extends Cr{constructor(e,r){super(e,"in",r),this.keys=rb("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class j3 extends Cr{constructor(e,r){super(e,"not-in",r),this.keys=rb("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function rb(t,e){return(e.arrayValue?.values||[]).map((r=>Xe.fromName(r.referenceValue)))}class D3 extends Cr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return m1(r)&&od(r.arrayValue,this.value)}}class I3 extends Cr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&od(this.value.arrayValue,r)}}class k3 extends Cr{constructor(e,r){super(e,"not-in",r)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!od(this.value.arrayValue,r)}}class O3 extends Cr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!m1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>od(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,r=null,n=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function L2(t,e=null,r=[],n=[],a=null,o=null,c=null){return new P3(t,e,r,n,a,o,c)}function p1(t){const e=lt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>Dv(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Tm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>eu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>eu(n))).join(",")),e.Te=r}return e.Te}function g1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!N3(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!eb(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F2(t.startAt,e.startAt)&&F2(t.endAt,e.endAt)}function Iv(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,r=null,n=[],a=[],o=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M3(t,e,r,n,a,o,c,h){return new hu(t,e,r,n,a,o,c,h)}function v1(t){return new hu(t)}function V2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nb(t){return t.collectionGroup!==null}function Hh(t){const e=lt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Fr(sn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ld(o,n))})),r.has(sn.keyField().canonicalString())||e.Ie.push(new ld(sn.keyField(),n))}return e.Ie}function _s(t){const e=lt(t);return e.Ee||(e.Ee=F3(e,Hh(t))),e.Ee}function F3(t,e){if(t.limitType==="F")return L2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new ld(a.field,o)}));const r=t.endAt?new H0(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new H0(t.startAt.position,t.startAt.inclusive):null;return L2(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function kv(t,e){const r=t.filters.concat([e]);return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,r){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Sm(t,e){return g1(_s(t),_s(e))&&t.limitType===e.limitType}function ab(t){return`${p1(_s(t))}|lt:${t.limitType}`}function kc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>tb(a))).join(", ")}]`),Tm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>eu(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>eu(a))).join(",")),`Target(${n})`})(_s(t))}; limitType=${t.limitType})`}function bm(t,e){return e.isFoundDocument()&&(function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Xe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(t,e)&&(function(n,a){for(const o of Hh(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(c,h,m){const f=M2(c,h,m);return c.inclusive?f<=0:f<0})(n.startAt,Hh(n),a)||n.endAt&&!(function(c,h,m){const f=M2(c,h,m);return c.inclusive?f>=0:f>0})(n.endAt,Hh(n),a))})(t,e)}function L3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sb(t){return(e,r)=>{let n=!1;for(const a of Hh(t)){const o=V3(a,e,r);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function V3(t,e,r){const n=t.field.isKeyField()?Xe.comparator(e.key,r.key):(function(o,c,h){const m=c.data.field(o),f=h.data.field(o);return m!==null&&f!==null?Zc(m,f):rt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((r,n)=>{for(const[a,o]of n)e(a,o)}))}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new hr(Xe.comparator);function ci(){return B3}const ib=new hr(Xe.comparator);function Mh(...t){let e=ib;for(const r of t)e=e.insert(r.key,r);return e}function ob(t){let e=ib;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function dl(){return qh()}function lb(){return qh()}function qh(){return new jl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const U3=new hr(Xe.comparator),z3=new Fr(Xe.comparator);function Et(...t){let e=z3;for(const r of t)e=e.add(r);return e}const H3=new Fr(_t);function q3(){return H3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function cb(t){return{integerValue:""+t}}function G3(t,e){return x3(e)?cb(e):x1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function $3(t,e,r){return t instanceof q0?(function(a,o){const c={fields:{[GS]:{stringValue:qS},[WS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&f1(o)&&(o=wm(o)),o&&(c.fields[$S]=o),{mapValue:c}})(r,e):t instanceof cd?hb(t,e):t instanceof ud?db(t,e):(function(a,o){const c=ub(a,o),h=B2(c)+B2(a.Ae);return jv(c)&&jv(a.Ae)?cb(h):x1(a.serializer,h)})(t,e)}function W3(t,e,r){return t instanceof cd?hb(t,e):t instanceof ud?db(t,e):r}function ub(t,e){return t instanceof G0?(function(n){return jv(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class q0 extends Nm{}class cd extends Nm{constructor(e){super(),this.elements=e}}function hb(t,e){const r=fb(e);for(const n of t.elements)r.some((a=>Ss(a,n)))||r.push(n);return{arrayValue:{values:r}}}class ud extends Nm{constructor(e){super(),this.elements=e}}function db(t,e){let r=fb(e);for(const n of t.elements)r=r.filter((a=>!Ss(a,n)));return{arrayValue:{values:r}}}class G0 extends Nm{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function B2(t){return _r(t.integerValue||t.doubleValue)}function fb(t){return m1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y3(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof cd&&a instanceof cd||n instanceof ud&&a instanceof ud?Jc(n.elements,a.elements,Ss):n instanceof G0&&a instanceof G0?Ss(n.Ae,a.Ae):n instanceof q0&&a instanceof q0})(t.transform,e.transform)}class K3{constructor(e,r){this.version=e,this.transformResults=r}}class Ca{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ca}static exists(e){return new Ca(void 0,e)}static updateTime(e){return new Ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Am{}function mb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y1(t.key,Ca.none()):new Ad(t.key,t.data,Ca.none());{const r=t.data,n=Un.empty();let a=new Fr(sn.comparator);for(let o of e.fields)if(!a.has(o)){let c=r.field(o);c===null&&o.length>1&&(o=o.popLast(),c=r.field(o)),c===null?n.delete(o):n.set(o,c),a=a.add(o)}return new jo(t.key,n,new oa(a.toArray()),Ca.none())}}function X3(t,e,r){t instanceof Ad?(function(a,o,c){const h=a.value.clone(),m=z2(a.fieldTransforms,o,c.transformResults);h.setAll(m),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,r):t instanceof jo?(function(a,o,c){if(!A0(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=z2(a.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(pb(a)),m.setAll(h),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,r):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,r)}function Gh(t,e,r,n){return t instanceof Ad?(function(o,c,h,m){if(!A0(o.precondition,c))return h;const f=o.value.clone(),g=H2(o.fieldTransforms,m,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof jo?(function(o,c,h,m){if(!A0(o.precondition,c))return h;const f=H2(o.fieldTransforms,m,c),g=c.data;return g.setAll(pb(o)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,r,n):(function(o,c,h){return A0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,r)}function Q3(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),o=ub(n.transform,a||null);o!=null&&(r===null&&(r=Un.empty()),r.set(n.field,o))}return r||null}function U2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Jc(n,a,((o,c)=>Y3(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ad extends Am{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jo extends Am{constructor(e,r,n,a,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pb(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function z2(t,e,r){const n=new Map;kt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let a=0;a<r.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);n.set(o.field,W3(c,h,r[a]))}return n}function H2(t,e,r){const n=new Map;for(const a of t){const o=a.transform,c=r.data.field(a.field);n.set(a.field,$3(o,c,e))}return n}class y1 extends Am{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J3 extends Am{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&X3(o,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Gh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Gh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=lb();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=r.has(a.key)?null:h;const m=mb(c,h);m!==null&&n.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(it.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Et())}isEqual(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,((r,n)=>U2(r,n)))&&Jc(this.baseMutations,e.baseMutations,((r,n)=>U2(r,n)))}}class _1{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){kt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=(function(){return U3})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,n[c].version);return new _1(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar,wt;function rk(t){switch(t){case we.OK:return rt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function gb(t){if(t===void 0)return li("GRPC error has no .code"),we.UNKNOWN;switch(t){case Ar.OK:return we.OK;case Ar.CANCELLED:return we.CANCELLED;case Ar.UNKNOWN:return we.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return we.INTERNAL;case Ar.UNAVAILABLE:return we.UNAVAILABLE;case Ar.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ar.NOT_FOUND:return we.NOT_FOUND;case Ar.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ar.ABORTED:return we.ABORTED;case Ar.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ar.DATA_LOSS:return we.DATA_LOSS;default:return rt(39323,{code:t})}}(wt=Ar||(Ar={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new uo([4294967295,4294967295],0);function q2(t){const e=nk().encode(t),r=new DS;return r.update(e),new Uint8Array(r.digest())}function G2(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uo([r,n],0),new uo([a,o],0)]}class E1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Fh(`Invalid padding: ${r}`);if(n<0)throw new Fh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Fh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Fh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=uo.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(uo.fromNumber(n)));return a.compare(ak)===1&&(a=new uo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=q2(e),[n,a]=G2(r);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,a,o);if(!this.we(c))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new E1(o,a,r);return n.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const r=q2(e),[n,a]=G2(r);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,a,o);this.Se(c)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r,n,a,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Cm(it.min(),a,new hr(_t),ci(),Et())}}class Cd{constructor(e,r,n,a,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Cd(n,r,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r,n,a){this.be=e,this.removedTargetIds=r,this.key=n,this.De=a}}class vb{constructor(e,r){this.targetId=e,this.Ce=r}}class xb{constructor(e,r,n=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class $2{constructor(){this.ve=0,this.Fe=W2(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),r=Et(),n=Et();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:rt(38017,{changeType:o})}})),new Cd(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=W2()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sk{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.Je=l0(),this.He=l0(),this.Ye=new hr(_t)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:rt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const o=a.target;if(Iv(o))if(n===0){const c=new Xe(o.path);this.et(r,c,xn.newNoDocument(c,it.min()))}else kt(n===1,20013,{expectedCount:n});else{const c=this._t(r);if(c!==n){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(r);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=r;let c,h;try{c=go(n).toUint8Array()}catch(m){if(m instanceof HS)return Qc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new E1(c,a,o)}catch(m){return Qc(m instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(r,o,null),a++)})),a}Tt(e){const r=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Iv(h.target)){const m=new Xe(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,xn.newNoDocument(m,e))}o.Be&&(r.set(c,o.ke()),o.qe())}}));let n=Et();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Cm(e,r,this.Ye,this.je,n);return this.je=ci(),this.Je=l0(),this.He=l0(),this.Ye=new hr(_t),a}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new $2,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Fr(_t),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Fr(_t),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||qe("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $2),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function l0(){return new hr(Xe.comparator)}function W2(){return new hr(Xe.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lk={and:"AND",or:"OR"};class ck{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Pv(t,e){return t.useProto3Json||Tm(e)?e:{value:e}}function $0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uk(t,e){return $0(t,e.toTimestamp())}function Es(t){return kt(!!t,49232),it.fromTimestamp((function(r){const n=po(r);return new nt(n.seconds,n.nanos)})(t))}function T1(t,e){return Mv(t,e).canonicalString()}function Mv(t,e){const r=(function(a){return new er(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function _b(t){const e=er.fromString(t);return kt(bb(e),10190,{key:e.toString()}),e}function Fv(t,e){return T1(t.databaseId,e.path)}function rv(t,e){const r=_b(e);if(r.get(1)!==t.databaseId.projectId)throw new Ue(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ue(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Xe(Tb(r))}function Eb(t,e){return T1(t.databaseId,e)}function hk(t){const e=_b(t);return e.length===4?er.emptyPath():Tb(e)}function Lv(t){return new er(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tb(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Y2(t,e,r){return{name:Fv(t,e),fields:r.value.mapValue.fields}}function dk(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(kt(g===void 0||typeof g=="string",58123),un.fromBase64String(g||"")):(kt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),un.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const g=f.code===void 0?we.UNKNOWN:gb(f.code);return new Ue(g,f.message||"")})(c);r=new xb(n,a,o,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=rv(t,n.document.name),o=Es(n.document.updateTime),c=n.document.createTime?Es(n.document.createTime):it.min(),h=new Un({mapValue:{fields:n.document.fields}}),m=xn.newFoundDocument(a,o,c,h),f=n.targetIds||[],g=n.removedTargetIds||[];r=new C0(f,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=rv(t,n.document),o=n.readTime?Es(n.readTime):it.min(),c=xn.newNoDocument(a,o),h=n.removedTargetIds||[];r=new C0([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=rv(t,n.document),o=n.removedTargetIds||[];r=new C0([],o,a,null)}else{if(!("filter"in e))return rt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,c=new tk(a,o),h=n.targetId;r=new vb(h,c)}}return r}function fk(t,e){let r;if(e instanceof Ad)r={update:Y2(t,e.key,e.value)};else if(e instanceof y1)r={delete:Fv(t,e.key)};else if(e instanceof jo)r={update:Y2(t,e.key,e.data),updateMask:Tk(e.fieldMask)};else{if(!(e instanceof J3))return rt(16599,{Vt:e.type});r={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const h=c.transform;if(h instanceof q0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ud)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof G0)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw rt(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:uk(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:rt(27497)})(t,e.precondition)),r}function mk(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map((r=>(function(a,o){let c=a.updateTime?Es(a.updateTime):Es(o);return c.isEqual(it.min())&&(c=Es(o)),new K3(c,a.transformResults||[])})(r,e)))):[]}function pk(t,e){return{documents:[Eb(t,e.path)]}}function gk(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Eb(t,a);const o=(function(f){if(f.length!==0)return Sb(Za.create(f,"and"))})(e.filters);o&&(r.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((g=>(function(y){return{field:Oc(y.field),direction:yk(y.dir)}})(g)))})(e.orderBy);c&&(r.structuredQuery.orderBy=c);const h=Pv(t,e.limit);return h!==null&&(r.structuredQuery.limit=h),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:a}}function vk(t){let e=hk(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){kt(n===1,65062);const g=r.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];r.where&&(o=(function(x){const y=wb(x);return y instanceof Za&&ZS(y)?y.getFilters():[y]})(r.where));let c=[];r.orderBy&&(c=(function(x){return x.map((y=>(function(w){return new ld(Pc(w.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(r.orderBy));let h=null;r.limit&&(h=(function(x){let y;return y=typeof x=="object"?x.value:x,Tm(y)?null:y})(r.limit));let m=null;r.startAt&&(m=(function(x){const y=!!x.before,E=x.values||[];return new H0(E,y)})(r.startAt));let f=null;return r.endAt&&(f=(function(x){const y=!x.before,E=x.values||[];return new H0(E,y)})(r.endAt)),M3(e,a,c,o,h,"F",m,f)}function xk(t,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:a})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function wb(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Pc(r.unaryFilter.field);return Cr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Pc(r.unaryFilter.field);return Cr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pc(r.unaryFilter.field);return Cr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pc(r.unaryFilter.field);return Cr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Cr.create(Pc(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Za.create(r.compositeFilter.filters.map((n=>wb(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return rt(1026)}})(r.compositeFilter.op))})(t):rt(30097,{filter:t})}function yk(t){return ik[t]}function _k(t){return ok[t]}function Ek(t){return lk[t]}function Oc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return sn.fromServerFormat(t.fieldPath)}function Sb(t){return t instanceof Cr?(function(r){if(r.op==="=="){if(P2(r.value))return{unaryFilter:{field:Oc(r.field),op:"IS_NAN"}};if(O2(r.value))return{unaryFilter:{field:Oc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(P2(r.value))return{unaryFilter:{field:Oc(r.field),op:"IS_NOT_NAN"}};if(O2(r.value))return{unaryFilter:{field:Oc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(r.field),op:_k(r.op),value:r.value}}})(t):t instanceof Za?(function(r){const n=r.getFilters().map((a=>Sb(a)));return n.length===1?n[0]:{compositeFilter:{op:Ek(r.op),filters:n}}})(t):rt(54877,{filter:t})}function Tk(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function bb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,r,n,a,o=it.min(),c=it.min(),h=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.yt=e}}function Sk(t){const e=vk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Cn=new Nk}addToCollectionParentIndex(e,r){return this.Cn.add(r),be.resolve()}getCollectionParents(e,r){return be.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return be.resolve()}deleteFieldIndex(e,r){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,r){return be.resolve()}getDocumentsMatchingTarget(e,r){return be.resolve(null)}getIndexType(e,r){return be.resolve(0)}getFieldIndexes(e,r){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,r){return be.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,r){return be.resolve(mo.min())}updateCollectionGroup(e,r,n){return be.resolve()}updateIndexEntries(e,r){return be.resolve()}}class Nk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Fr(er.comparator),o=!a.has(n);return this.index[r]=a.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Fr(er.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(Nb,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tu(0)}static cr(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="LruGarbageCollector",Ak=1048576;function Q2([t,e],[r,n]){const a=_t(t,r);return a===0?_t(e,n):a}class Ck{constructor(e){this.Ir=e,this.buffer=new Fr(Q2),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Q2(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rk{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qe(X2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){uu(r)?qe(X2,"Ignoring IndexedDB error during garbage collection: ",r):await cu(r)}await this.Vr(3e5)}))}}class jk{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return be.resolve(Em.ce);const n=new Ck(r);return this.mr.forEachTarget(e,(a=>n.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>n.Ar(a))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(K2)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K2):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,a,o,c,h,m,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(n=x,h=Date.now(),this.removeTargets(e,n,r)))).next((x=>(o=x,m=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(f=Date.now(),Ic()<=yt.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${x} documents in `+(f-m)+`ms
Total Duration: ${f-g}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x}))))}}function Dk(t,e){return new jk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.changes=new jl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?be.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&Gh(n.mutation,a,oa.empty(),nt.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Et()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Et()){const a=dl();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((o=>{let c=Mh();return o.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,r){const n=dl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Et())))}populateOverlays(e,r,n){const a=[];return n.forEach((o=>{r.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{r.set(c,h)}))}))}computeViews(e,r,n,a){let o=ci();const c=qh(),h=(function(){return qh()})();return r.forEach(((m,f)=>{const g=n.get(f.key);a.has(f.key)&&(g===void 0||g.mutation instanceof jo)?o=o.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Gh(g.mutation,f,g.mutation.getFieldMask(),nt.now())):c.set(f.key,oa.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((f,g)=>c.set(f,g))),r.forEach(((f,g)=>h.set(f,new kk(g,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,r){const n=qh();let a=new hr(((c,h)=>c-h)),o=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((c=>{for(const h of c)h.keys().forEach((m=>{const f=r.get(m);if(f===null)return;let g=n.get(m)||oa.empty();g=h.applyToLocalView(f,g),n.set(m,g);const x=(a.get(h.batchId)||Et()).add(m);a=a.insert(h.batchId,x)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),f=m.key,g=m.value,x=lb();g.forEach((y=>{if(!o.has(y)){const E=mb(r.get(y),n.get(y));E!==null&&x.set(y,E),o=o.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,x))}return be.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return(function(c){return Xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):nb(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-o.size):be.resolve(dl());let h=ad,m=o;return c.next((f=>be.forEach(f,((g,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(g)?be.resolve():this.remoteDocumentCache.getEntry(e,g).next((y=>{m=m.insert(g,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,m,f,Et()))).next((g=>({batchId:h,changes:ob(g)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Xe(r)).next((n=>{let a=Mh();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const o=r.collectionGroup;let c=Mh();return this.indexManager.getCollectionParents(e,o).next((h=>be.forEach(h,(m=>{const f=(function(x,y){return new hu(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(r,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,a).next((g=>{g.forEach(((x,y)=>{c=c.insert(x,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,a)))).next((c=>{o.forEach(((m,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,xn.newInvalidDocument(g)))}));let h=Mh();return c.forEach(((m,f)=>{const g=o.get(m);g!==void 0&&Gh(g.mutation,f,oa.empty(),nt.now()),bm(r,f)&&(h=h.insert(m,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return be.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Es(a.createTime)}})(r)),be.resolve()}getNamedQuery(e,r){return be.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(a){return{name:a.name,query:Sk(a.bundledQuery),readTime:Es(a.readTime)}})(r)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.overlays=new hr(Xe.comparator),this.qr=new Map}getOverlay(e,r){return be.resolve(this.overlays.get(r))}getOverlays(e,r){const n=dl();return be.forEach(r,(a=>this.getOverlay(e,a).next((o=>{o!==null&&n.set(a,o)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,o)=>{this.St(e,r,o)})),be.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),be.resolve()}getOverlaysForCollection(e,r,n){const a=dl(),o=r.length+1,c=new Xe(r.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,f=m.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&m.largestBatchId>n&&a.set(m.getKey(),m)}return be.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let o=new hr(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let g=o.get(f.largestBatchId);g===null&&(g=dl(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=dl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=a)););return be.resolve(h)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new ek(r,n));let o=this.qr.get(r);o===void 0&&(o=Et(),this.qr.set(r,o)),this.qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.Qr=new Fr(Gr.$r),this.Ur=new Fr(Gr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Gr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Gr(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Xe(new er([])),n=new Gr(r,e),a=new Gr(r,e+1),o=[];return this.Ur.forEachInRange([n,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Xe(new er([])),n=new Gr(r,e),a=new Gr(r,e+1);let o=Et();return this.Ur.forEachInRange([n,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const r=new Gr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Gr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Xe.comparator(e.key,r.key)||_t(e.Yr,r.Yr)}static Kr(e,r){return _t(e.Yr,r.Yr)||Xe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Fr(Gr.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Z3(o,r,n,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Gr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(c)}lookupMutationBatch(e,r){return be.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ei(n),o=a<0?0:a;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?d1:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Gr(r,0),a=new Gr(r,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Fr(_t);return r.forEach((a=>{const o=new Gr(a,0),c=new Gr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{n=n.add(h.Yr)}))})),be.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let o=n;Xe.isDocumentKey(o)||(o=o.child(""));const c=new Gr(new Xe(o),0);let h=new Fr(_t);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!n.isPrefixOf(f)&&(f.length===a&&(h=h.add(m.Yr)),!0)}),c),be.resolve(this.ti(h))}ti(e){const r=[];return e.forEach((n=>{const a=this.Xr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){kt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return be.forEach(r.mutations,(a=>{const o=new Gr(a.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Gr(r,0),a=this.Zr.firstAfterOrEqual(n);return be.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.ri=e,this.docs=(function(){return new hr(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),o=a?a.size:0,c=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return be.resolve(n?n.document.mutableCopy():xn.newInvalidDocument(r))}getEntries(e,r){let n=ci();return r.forEach((a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():xn.newInvalidDocument(a))})),be.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let o=ci();const c=r.path,h=new Xe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:f,value:{document:g}}=m.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||m3(f3(g),n)<=0||(a.has(g.key)||bm(r,g))&&(o=o.insert(g.key,g.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,r,n,a){rt(9500)}ii(e,r){return be.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Bk(this)}getSize(e){return be.resolve(this.size)}}class Bk extends Ik{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(n)})),be.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.persistence=e,this.si=new jl((r=>p1(r)),g1),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new w1,this.targetCount=0,this.ai=tu.ur()}forEachTarget(e,r){return this.si.forEach(((n,a)=>r(a))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),be.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new tu(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,be.resolve()}updateTargetData(e,r){return this.Pr(r),be.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,r,n){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=r&&n.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),be.waitFor(o).next((()=>a))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return be.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),be.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,o=[];return a&&r.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),be.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),be.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return be.resolve(n)}containsKey(e,r){return be.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,r){this.ui={},this.overlays={},this.ci=new Em(0),this.li=!1,this.li=!0,this.hi=new Fk,this.referenceDelegate=e(this),this.Pi=new Uk(this),this.indexManager=new bk,this.remoteDocumentCache=(function(a){return new Vk(a)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new wk(r),this.Ii=new Pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Mk,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Lk(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){qe("MemoryPersistence","Starting transaction:",e);const a=new zk(this.ci.next());return this.referenceDelegate.Ei(),n(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,r){return be.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class zk extends g3{constructor(e){super(),this.currentSequenceNumber=e}}class S1{constructor(e){this.persistence=e,this.Ri=new w1,this.Vi=null}static mi(e){return new S1(e)}get fi(){if(this.Vi)return this.Vi;throw rt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),be.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),be.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((a=>this.fi.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(n=>{const a=Xe.fromPath(n);return this.gi(e,a).next((o=>{o||r.removeEntry(a,it.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return be.or([()=>be.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class W0{constructor(e,r){this.persistence=e,this.pi=new jl((n=>y3(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=Dk(this,r)}static mi(e,r){return new W0(e,r)}Ei(){}di(e){return be.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((a=>n+a))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return be.forEach(this.pi,((n,a)=>this.br(e,n,a).next((o=>o?be.resolve():r(a)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,r).next((h=>{h||(n++,o.removeEntry(c,it.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=b0(e.data.value)),r}br(e,r,n){return be.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.pi.get(r);return be.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=a}static As(e,r){let n=Et(),a=Et();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new b1(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _4()?8:v3(Tn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const o={result:null};return this.ys(e,r).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,r,a,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Hk;return this.Ss(e,r,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,r,c,h.size)}))})).next((()=>o.result))}bs(e,r,n,a){return n.documentReadCount<this.fs?(Ic()<=yt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",kc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Ic()<=yt.DEBUG&&qe("QueryEngine","Query:",kc(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Ic()<=yt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",kc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(r))):be.resolve())}ys(e,r){if(V2(r))return be.resolve(null);let n=_s(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Ov(r,null,"F"),n=_s(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Et(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,n).next((m=>{const f=this.Ds(r,h);return this.Cs(r,f,c,m.readTime)?this.ys(e,Ov(r,null,"F")):this.vs(e,f,r,m)}))))})))))}ws(e,r,n,a){return V2(r)||a.isEqual(it.min())?be.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(r,o);return this.Cs(r,c,n,a)?be.resolve(null):(Ic()<=yt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),kc(r)),this.vs(e,c,r,d3(a,ad)).next((h=>h)))}))}Ds(e,r){let n=new Fr(sb(e));return r.forEach(((a,o)=>{bm(e,o)&&(n=n.add(o))})),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,r,n){return Ic()<=yt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",kc(r)),this.ps.getDocumentsMatchingQuery(e,r,mo.min(),n)}vs(e,r,n,a){return this.ps.getDocumentsMatchingQuery(e,n,a).next((o=>(r.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="LocalStore",Gk=3e8;class $k{constructor(e,r,n,a){this.persistence=e,this.Fs=r,this.serializer=a,this.Ms=new hr(_t),this.xs=new jl((o=>p1(o)),g1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Wk(t,e,r,n){return new $k(t,e,r,n)}async function Cb(t,e){const r=lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((o=>(a=o,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],h=[];let m=Et();for(const f of a){c.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)m=m.add(g.key)}return r.localDocuments.getDocuments(n,m).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function Yk(t,e){const r=lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),o=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,f,g){const x=f.batch,y=x.keys();let E=be.resolve();return y.forEach((w=>{E=E.next((()=>g.getEntry(m,w))).next((T=>{const b=f.docVersions.get(w);kt(b!==null,48541),T.version.compareTo(b)<0&&(x.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),g.addEntry(T)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(m,x)))})(r,n,e,o).next((()=>o.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let m=Et();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(m=m.add(h.batch.mutations[f].key));return m})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function Rb(t){const e=lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Kk(t,e){const r=lt(t),n=e.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const h=[];e.targetChanges.forEach(((g,x)=>{const y=a.get(x);if(!y)return;h.push(r.Pi.removeMatchingKeys(o,g.removedDocuments,x).next((()=>r.Pi.addMatchingKeys(o,g.addedDocuments,x))));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(un.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,n)),a=a.insert(x,E),(function(T,b,D){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=Gk?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(y,E,g)&&h.push(r.Pi.updateTargetData(o,E))}));let m=ci(),f=Et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(r.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(Xk(o,c,e.documentUpdates).next((g=>{m=g.ks,f=g.qs}))),!n.isEqual(it.min())){const g=r.Pi.getLastRemoteSnapshotVersion(o).next((x=>r.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));h.push(g)}return be.waitFor(h).next((()=>c.apply(o))).next((()=>r.localDocuments.getLocalViewOfDocuments(o,m,f))).next((()=>m))})).then((o=>(r.Ms=a,o)))}function Xk(t,e,r){let n=Et(),a=Et();return r.forEach((o=>n=n.add(o))),e.getEntries(t,n).next((o=>{let c=ci();return r.forEach(((h,m)=>{const f=o.get(h);m.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(it.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):qe(N1,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Qk(t,e){const r=lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=d1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Jk(t,e){const r=lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Pi.getTargetData(n,e).next((o=>o?(a=o,be.resolve(a)):r.Pi.allocateTargetId(n).next((c=>(a=new ao(e,c,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function Vv(t,e,r){const n=lt(t),a=n.Ms.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!uu(c))throw c;qe(N1,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(a.target)}function J2(t,e,r){const n=lt(t);let a=it.min(),o=Et();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,f,g){const x=lt(m),y=x.xs.get(g);return y!==void 0?be.resolve(x.Ms.get(y)):x.Pi.getTargetData(f,g)})(n,c,_s(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{o=m}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,r?a:it.min(),r?o:Et()))).next((h=>(Zk(n,L3(e),h),{documents:h,Qs:o})))))}function Zk(t,e,r){let n=t.Os.get(e)||it.min();r.forEach(((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),t.Os.set(e,n)}class Z2{constructor(){this.activeTargetIds=q3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eO{constructor(){this.Mo=new Z2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="ConnectivityMonitor";class tT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(eT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qe(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0=null;function Bv(){return c0===null?c0=(function(){return 268435456+Math.round(2147483648*Math.random())})():c0++,"0x"+c0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="RestConnection",rO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===U0?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(e,r,n,a,o){const c=Bv(),h=this.zo(e,r.toUriEncodedString());qe(nv,`Sending RPC '${e}' ${c}:`,h,n);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,o);const{host:f}=new URL(h),g=su(f);return this.Jo(e,h,m,n,g).then((x=>(qe(nv,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Qc(nv,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",n),x}))}Ho(e,r,n,a,o,c){return this.Go(e,r,n,a,o)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,o)=>e[o]=a)),n&&n.headers.forEach(((a,o)=>e[o]=a))}zo(e,r){const n=rO[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class sO extends nO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,o){const c=Bv();return new Promise(((h,m)=>{const f=new IS;f.setWithCredentials(!0),f.listenOnce(kS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case S0.NO_ERROR:const x=f.getResponseJson();qe(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case S0.TIMEOUT:qe(gn,`RPC '${e}' ${c} timed out`),m(new Ue(we.DEADLINE_EXCEEDED,"Request time out"));break;case S0.HTTP_ERROR:const y=f.getStatus();if(qe(gn,`RPC '${e}' ${c} failed with status:`,y,"response text:",f.getResponseText()),y>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E?.error;if(w&&w.status&&w.message){const T=(function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(k)>=0?k:we.UNKNOWN})(w.status);m(new Ue(T,w.message))}else m(new Ue(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new Ue(we.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{qe(gn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);qe(gn,`RPC '${e}' ${c} sending request:`,a),f.send(r,"POST",g,n,15)}))}T_(e,r,n){const a=Bv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=MS(),h=PS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,r,n),m.encodeInitMessageHeaders=!0;const g=o.join("");qe(gn,`Creating RPC '${e}' stream ${a}: ${g}`,m);const x=c.createWebChannel(g,m);this.I_(x);let y=!1,E=!1;const w=new aO({Yo:b=>{E?qe(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(y||(qe(gn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),y=!0),qe(gn,`RPC '${e}' stream ${a} sending:`,b),x.send(b))},Zo:()=>x.close()}),T=(b,D,k)=>{b.listen(D,(V=>{try{k(V)}catch(W){setTimeout((()=>{throw W}),0)}}))};return T(x,Ph.EventType.OPEN,(()=>{E||(qe(gn,`RPC '${e}' stream ${a} transport opened.`),w.o_())})),T(x,Ph.EventType.CLOSE,(()=>{E||(E=!0,qe(gn,`RPC '${e}' stream ${a} transport closed`),w.a_(),this.E_(x))})),T(x,Ph.EventType.ERROR,(b=>{E||(E=!0,Qc(gn,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),w.a_(new Ue(we.UNAVAILABLE,"The operation could not be completed")))})),T(x,Ph.EventType.MESSAGE,(b=>{if(!E){const D=b.data[0];kt(!!D,16349);const k=D,V=k?.error||k[0]?.error;if(V){qe(gn,`RPC '${e}' stream ${a} received error:`,V);const W=V.status;let z=(function(A){const C=Ar[A];if(C!==void 0)return gb(C)})(W),Q=V.message;z===void 0&&(z=we.INTERNAL,Q="Unknown error status: "+W+" with message "+V.message),E=!0,w.a_(new Ue(z,Q)),x.close()}else qe(gn,`RPC '${e}' stream ${a} received:`,D),w.u_(D)}})),T(h,OS.STAT_EVENT,(b=>{b.stat===Av.PROXY?qe(gn,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Av.NOPROXY&&qe(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return new ck(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,r,n=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&qe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class Db{constructor(e,r,n,a,o,c,h,m){this.Mi=e,this.S_=n,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jb(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(li(r.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{e((()=>{const a=new Ue(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return qe(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(qe(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iO extends Db{constructor(e,r,n,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,c),this.serializer=o}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=dk(this.serializer,e),n=(function(o){if(!("targetChange"in o))return it.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?it.min():c.readTime?Es(c.readTime):it.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Lv(this.serializer),r.addTarget=(function(o,c){let h;const m=c.target;if(h=Iv(m)?{documents:pk(o,m)}:{query:gk(o,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=yb(o,c.resumeToken);const f=Pv(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(it.min())>0){h.readTime=$0(o,c.snapshotVersion.toTimestamp());const f=Pv(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const n=xk(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Lv(this.serializer),r.removeTarget=e,this.q_(r)}}class oO extends Db{constructor(e,r,n,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=mk(e.writeResults,e.commitTime),n=Es(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Lv(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>fk(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{}class cO extends lO{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ue(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Mv(r,n),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(we.UNKNOWN,o.toString())}))}Ho(e,r,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Mv(r,n),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ue(we.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(r),this.aa=!1):qe("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class hO{constructor(e,r,n,a,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{Dl(this)&&(qe(Sl,"Restarting streams for network reachability change."),await(async function(m){const f=lt(m);f.Ea.add(4),await Rd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await jm(f)})(this))}))})),this.Ra=new uO(n,a)}}async function jm(t){if(Dl(t))for(const e of t.da)await e(!0)}async function Rd(t){for(const e of t.da)await e(!1)}function Ib(t,e){const r=lt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),j1(r)?R1(r):du(r).O_()&&C1(r,e))}function A1(t,e){const r=lt(t),n=du(r);r.Ia.delete(e),n.O_()&&kb(r,e),r.Ia.size===0&&(n.O_()?n.L_():Dl(r)&&r.Ra.set("Unknown"))}function C1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}du(t).Y_(e)}function kb(t,e){t.Va.Ue(e),du(t).Z_(e)}function R1(t){t.Va=new sk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),du(t).start(),t.Ra.ua()}function j1(t){return Dl(t)&&!du(t).x_()&&t.Ia.size>0}function Dl(t){return lt(t).Ea.size===0}function Ob(t){t.Va=void 0}async function dO(t){t.Ra.set("Online")}async function fO(t){t.Ia.forEach(((e,r)=>{C1(t,e)}))}async function mO(t,e){Ob(t),j1(t)?(t.Ra.ha(e),R1(t)):t.Ra.set("Unknown")}async function pO(t,e,r){if(t.Ra.set("Online"),e instanceof xb&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(n){qe(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Y0(t,n)}else if(e instanceof C0?t.Va.Ze(e):e instanceof vb?t.Va.st(e):t.Va.tt(e),!r.isEqual(it.min()))try{const n=await Rb(t.localStore);r.compareTo(n)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,f)=>{const g=o.Ia.get(m);if(!g)return;o.Ia.set(m,g.withResumeToken(un.EMPTY_BYTE_STRING,g.snapshotVersion)),kb(o,m);const x=new ao(g.target,m,f,g.sequenceNumber);C1(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(t,r)}catch(n){qe(Sl,"Failed to raise snapshot:",n),await Y0(t,n)}}async function Y0(t,e,r){if(!uu(e))throw e;t.Ea.add(1),await Rd(t),t.Ra.set("Offline"),r||(r=()=>Rb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe(Sl,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await jm(t)}))}function Pb(t,e){return e().catch((r=>Y0(t,r,e)))}async function Dm(t){const e=lt(t),r=xo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:d1;for(;gO(e);)try{const a=await Qk(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,vO(e,a)}catch(a){await Y0(e,a)}Mb(e)&&Fb(e)}function gO(t){return Dl(t)&&t.Ta.length<10}function vO(t,e){t.Ta.push(e);const r=xo(t);r.O_()&&r.X_&&r.ea(e.mutations)}function Mb(t){return Dl(t)&&!xo(t).x_()&&t.Ta.length>0}function Fb(t){xo(t).start()}async function xO(t){xo(t).ra()}async function yO(t){const e=xo(t);for(const r of t.Ta)e.ea(r.mutations)}async function _O(t,e,r){const n=t.Ta.shift(),a=_1.from(n,e,r);await Pb(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Dm(t)}async function EO(t,e){e&&xo(t).X_&&await(async function(n,a){if((function(c){return rk(c)&&c!==we.ABORTED})(a.code)){const o=n.Ta.shift();xo(n).B_(),await Pb(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Dm(n)}})(t,e),Mb(t)&&Fb(t)}async function nT(t,e){const r=lt(t);r.asyncQueue.verifyOperationInProgress(),qe(Sl,"RemoteStore received new credentials");const n=Dl(r);r.Ea.add(3),await Rd(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await jm(r)}async function TO(t,e){const r=lt(t);e?(r.Ea.delete(2),await jm(r)):e||(r.Ea.add(2),await Rd(r),r.Ra.set("Unknown"))}function du(t){return t.ma||(t.ma=(function(r,n,a){const o=lt(r);return o.sa(),new iO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:dO.bind(null,t),t_:fO.bind(null,t),r_:mO.bind(null,t),H_:pO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),j1(t)?R1(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ob(t))}))),t.ma}function xo(t){return t.fa||(t.fa=(function(r,n,a){const o=lt(r);return o.sa(),new oO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xO.bind(null,t),r_:EO.bind(null,t),ta:yO.bind(null,t),na:_O.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Dm(t)):(await t.fa.stop(),t.Ta.length>0&&(qe(Sl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,r,n,a,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,o){const c=Date.now()+n,h=new D1(e,r,c,a,o);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I1(t,e){if(li("AsyncQueue",`${e}: ${t}`),uu(t))return new Ue(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{static emptySet(e){return new Hc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Xe.comparator(r.key,n.key):(r,n)=>Xe.comparator(r.key,n.key),this.keyedMap=Mh(),this.sortedSet=new hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Hc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Hc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.ga=new hr(Xe.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):rt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class ru{constructor(e,r,n,a,o,c,h,m,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,a,o){const c=[];return r.forEach((h=>{c.push({type:0,doc:h})})),new ru(e,r,Hc.emptySet(r),c,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SO{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=lt(r),o=a.queries;a.queries=sT(),o.forEach(((c,h)=>{for(const m of h.Sa)m.onError(n)}))})(this,new Ue(we.ABORTED,"Firestore shutting down"))}}function sT(){return new jl((t=>ab(t)),Sm)}async function Lb(t,e){const r=lt(t);let n=3;const a=e.query;let o=r.queries.get(a);o?!o.ba()&&e.Da()&&(n=2):(o=new wO,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await r.onListen(a,!0);break;case 1:o.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(c){const h=I1(c,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(h)}r.queries.set(a,o),o.Sa.push(e),e.va(r.onlineState),o.wa&&e.Fa(o.wa)&&k1(r)}async function Vb(t,e){const r=lt(t),n=e.query;let a=3;const o=r.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function bO(t,e){const r=lt(t);let n=!1;for(const a of e){const o=a.query,c=r.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(n=!0);c.wa=a}}n&&k1(r)}function NO(t,e,r){const n=lt(t),a=n.queries.get(e);if(a)for(const o of a.Sa)o.onError(r);n.queries.delete(e)}function k1(t){t.Ca.forEach((e=>{e.next()}))}var Uv,iT;(iT=Uv||(Uv={})).Ma="default",iT.Cache="cache";class Bb{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new ru(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class AO{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=sb(e),this.tu=new Hc(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new aT,a=r?r.tu:this.tu;let o=r?r.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,x)=>{const y=a.get(g),E=bm(this.query,x)?x:null,w=!!y&&this.mutatedKeys.has(y.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;y&&E?y.data.isEqual(E.data)?w!==T&&(n.track({type:3,doc:E}),b=!0):this.su(y,E)||(n.track({type:2,doc:E}),b=!0,(m&&this.eu(E,m)>0||f&&this.eu(E,f)<0)&&(h=!0)):!y&&E?(n.track({type:0,doc:E}),b=!0):y&&!E&&(n.track({type:1,doc:y}),b=!0,(m||f)&&(h=!0)),b&&(E?(c=c.add(E),o=T?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),n.track({type:1,doc:g})}return{tu:c,iu:n,Cs:h,mutatedKeys:o}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,x)=>(function(E,w){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Rt:b})}};return T(E)-T(w)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(n),a=a??!1;const h=r&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,f=m!==this.Za;return this.Za=m,c.length!==0||f?{snapshot:new ru(this.query,e.tu,o,c,e.mutatedKeys,m===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Et(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new zb(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new Ub(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Et();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const O1="SyncEngine";class CO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class RO{constructor(e){this.key=e,this.hu=!1}}class jO{constructor(e,r,n,a,o,c){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new jl((h=>ab(h)),Sm),this.Iu=new Map,this.Eu=new Set,this.du=new hr(Xe.comparator),this.Au=new Map,this.Ru=new w1,this.Vu={},this.mu=new Map,this.fu=tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(t,e,r=!0){const n=Yb(t);let a;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await Hb(n,e,r,!0),a}async function IO(t,e){const r=Yb(t);await Hb(r,e,!0,!1)}async function Hb(t,e,r,n){const a=await Jk(t.localStore,_s(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,r);let h;return n&&(h=await kO(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&r&&Ib(t.remoteStore,a),h}async function kO(t,e,r,n,a){t.pu=(x,y,E)=>(async function(T,b,D,k){let V=b.view.ru(D);V.Cs&&(V=await J2(T.localStore,b.query,!1).then((({documents:I})=>b.view.ru(I,V))));const W=k&&k.targetChanges.get(b.targetId),z=k&&k.targetMismatches.get(b.targetId)!=null,Q=b.view.applyChanges(V,T.isPrimaryClient,W,z);return lT(T,b.targetId,Q.au),Q.snapshot})(t,x,y,E);const o=await J2(t.localStore,e,!0),c=new AO(e,o.Qs),h=c.ru(o.documents),m=Cd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),f=c.applyChanges(h,t.isPrimaryClient,m);lT(t,r,f.au);const g=new CO(e,r,c);return t.Tu.set(e,g),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function OO(t,e,r){const n=lt(t),a=n.Tu.get(e),o=n.Iu.get(a.targetId);if(o.length>1)return n.Iu.set(a.targetId,o.filter((c=>!Sm(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Vv(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&A1(n.remoteStore,a.targetId),zv(n,a.targetId)})).catch(cu)):(zv(n,a.targetId),await Vv(n.localStore,a.targetId,!0))}async function PO(t,e){const r=lt(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),A1(r.remoteStore,n.targetId))}async function MO(t,e,r){const n=HO(t);try{const a=await(function(c,h){const m=lt(c),f=nt.now(),g=h.reduce(((E,w)=>E.add(w.key)),Et());let x,y;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=ci(),T=Et();return m.Ns.getEntries(E,g).next((b=>{w=b,w.forEach(((D,k)=>{k.isValidDocument()||(T=T.add(D))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,w))).next((b=>{x=b;const D=[];for(const k of h){const V=Q3(k,x.get(k.key).overlayedDocument);V!=null&&D.push(new jo(k.key,V,XS(V.value.mapValue),Ca.exists(!0)))}return m.mutationQueue.addMutationBatch(E,f,D,h)})).next((b=>{y=b;const D=b.applyToLocalDocumentSet(x,T);return m.documentOverlayCache.saveOverlays(E,b.batchId,D)}))})).then((()=>({batchId:y.batchId,changes:ob(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let f=c.Vu[c.currentUser.toKey()];f||(f=new hr(_t)),f=f.insert(h,m),c.Vu[c.currentUser.toKey()]=f})(n,a.batchId,r),await jd(n,a.changes),await Dm(n.remoteStore)}catch(a){const o=I1(a,"Failed to persist write");r.reject(o)}}async function qb(t,e){const r=lt(t);try{const n=await Kk(r.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=r.Au.get(o);c&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?kt(c.hu,14607):a.removedDocuments.size>0&&(kt(c.hu,42227),c.hu=!1))})),await jd(r,n,e)}catch(n){await cu(n)}}function oT(t,e,r){const n=lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=lt(c);m.onlineState=h;let f=!1;m.queries.forEach(((g,x)=>{for(const y of x.Sa)y.va(h)&&(f=!0)})),f&&k1(m)})(n.eventManager,e),a.length&&n.Pu.H_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FO(t,e,r){const n=lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),o=a&&a.key;if(o){let c=new hr(Xe.comparator);c=c.insert(o,xn.newNoDocument(o,it.min()));const h=Et().add(o),m=new Cm(it.min(),new Map,new hr(_t),c,h);await qb(n,m),n.du=n.du.remove(o),n.Au.delete(e),P1(n)}else await Vv(n.localStore,e,!1).then((()=>zv(n,e,r))).catch(cu)}async function LO(t,e){const r=lt(t),n=e.batch.batchId;try{const a=await Yk(r.localStore,e);$b(r,n,null),Gb(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await jd(r,a)}catch(a){await cu(a)}}async function VO(t,e,r){const n=lt(t);try{const a=await(function(c,h){const m=lt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return m.mutationQueue.lookupMutationBatch(f,h).next((x=>(kt(x!==null,37113),g=x.keys(),m.mutationQueue.removeMutationBatch(f,x)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>m.localDocuments.getDocuments(f,g)))}))})(n.localStore,e);$b(n,e,r),Gb(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await jd(n,a)}catch(a){await cu(a)}}function Gb(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function $b(t,e,r){const n=lt(t);let a=n.Vu[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(r?o.reject(r):o.resolve(),a=a.remove(e)),n.Vu[n.currentUser.toKey()]=a}}function zv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||Wb(t,n)}))}function Wb(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(A1(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),P1(t))}function lT(t,e,r){for(const n of r)n instanceof Ub?(t.Ru.addReference(n.key,e),BO(t,n)):n instanceof zb?(qe(O1,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Wb(t,n.key)):rt(19791,{wu:n})}function BO(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(qe(O1,"New document in limbo: "+r),t.Eu.add(n),P1(t))}function P1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Xe(er.fromString(e)),n=t.fu.next();t.Au.set(n,new RO(r)),t.du=t.du.insert(r,n),Ib(t.remoteStore,new ao(_s(v1(r.path)),n,"TargetPurposeLimboResolution",Em.ce))}}async function jd(t,e,r){const n=lt(t),a=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,m)=>{c.push(n.pu(m,e,r).then((f=>{if((f||r)&&n.isPrimaryClient){const g=f?!f.fromCache:r?.targetChanges.get(m.targetId)?.current;n.sharedClientState.updateQueryState(m.targetId,g?"current":"not-current")}if(f){a.push(f);const g=b1.As(m.targetId,f);o.push(g)}})))})),await Promise.all(c),n.Pu.H_(a),await(async function(m,f){const g=lt(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>be.forEach(f,(y=>be.forEach(y.Es,(E=>g.persistence.referenceDelegate.addReference(x,y.targetId,E))).next((()=>be.forEach(y.ds,(E=>g.persistence.referenceDelegate.removeReference(x,y.targetId,E)))))))))}catch(x){if(!uu(x))throw x;qe(N1,"Failed to update sequence numbers: "+x)}for(const x of f){const y=x.targetId;if(!x.fromCache){const E=g.Ms.get(y),w=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(w);g.Ms=g.Ms.insert(y,T)}}})(n.localStore,o))}async function UO(t,e){const r=lt(t);if(!r.currentUser.isEqual(e)){qe(O1,"User change. New user:",e.toKey());const n=await Cb(r.localStore,e);r.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new Ue(we.CANCELLED,c))}))})),o.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await jd(r,n.Ls)}}function zO(t,e){const r=lt(t),n=r.Au.get(e);if(n&&n.hu)return Et().add(n.key);{let a=Et();const o=r.Iu.get(e);if(!o)return a;for(const c of o){const h=r.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function Yb(t){const e=lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FO.bind(null,e),e.Pu.H_=bO.bind(null,e.eventManager),e.Pu.yu=NO.bind(null,e.eventManager),e}function HO(t){const e=lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VO.bind(null,e),e}class K0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Wk(this.persistence,new qk,e.initialUser,this.serializer)}Cu(e){return new Ab(S1.mi,this.serializer)}Du(e){return new eO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K0.provider={build:()=>new K0};class qO extends K0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){kt(this.persistence.referenceDelegate instanceof W0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Rk(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Ab((n=>W0.mi(n,r)),this.serializer)}}class Hv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>oT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SO})()}createDatastore(e){const r=Rm(e.databaseInfo.databaseId),n=(function(o){return new sO(o)})(e.databaseInfo);return(function(o,c,h,m){return new cO(o,c,h,m)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,o,c,h){return new hO(n,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(r=>oT(this.syncEngine,r,0)),(function(){return tT.v()?new tT:new tO})())}createSyncEngine(e,r){return(function(a,o,c,h,m,f,g){const x=new jO(a,o,c,h,m,f);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=lt(r);qe(Sl,"RemoteStore shutting down."),n.Ea.add(5),await Rd(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hv.provider={build:()=>new Hv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class GO{constructor(e,r,n,a,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{qe(yo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(qe(yo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=I1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sv(t,e){t.asyncQueue.verifyOperationInProgress(),qe(yo,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await Cb(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await $O(t);qe(yo,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>nT(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>nT(e.remoteStore,a))),t._onlineComponents=e}async function $O(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(yo,"Using user provided OfflineComponentProvider");try{await sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;Qc("Error using user provided cache. Falling back to memory cache: "+r),await sv(t,new K0)}}else qe(yo,"Using default OfflineComponentProvider"),await sv(t,new qO(void 0));return t._offlineComponents}async function Xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(yo,"Using user provided OnlineComponentProvider"),await cT(t,t._uninitializedComponentsProvider._online)):(qe(yo,"Using default OnlineComponentProvider"),await cT(t,new Hv))),t._onlineComponents}function WO(t){return Xb(t).then((e=>e.syncEngine))}async function Qb(t){const e=await Xb(t),r=e.eventManager;return r.onListen=DO.bind(null,e.syncEngine),r.onUnlisten=OO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=IO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),r}function YO(t,e,r={}){const n=new ti;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,f){const g=new Kb({next:y=>{g.Nu(),c.enqueueAndForget((()=>Vb(o,x)));const E=y.docs.has(h);!E&&y.fromCache?f.reject(new Ue(we.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&m&&m.source==="server"?f.reject(new Ue(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),x=new Bb(v1(h.path),g,{includeMetadataChanges:!0,qa:!0});return Lb(o,x)})(await Qb(t),t.asyncQueue,e,r,n))),n.promise}function KO(t,e,r={}){const n=new ti;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,f){const g=new Kb({next:y=>{g.Nu(),c.enqueueAndForget((()=>Vb(o,x))),y.fromCache&&m.source==="server"?f.reject(new Ue(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),x=new Bb(h,g,{includeMetadataChanges:!0,qa:!0});return Lb(o,x)})(await Qb(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firestore.googleapis.com",hT=!0;class dT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=hT}else this.host=e.host,this.ssl=e.ssl??hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ak)throw new Ue(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ue(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new t3;switch(n.type){case"firstParty":return new s3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ue(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=uT.get(r);n&&(qe("ComponentProvider","Removing Datastore"),uT.delete(r),n.terminate())})(this),Promise.resolve()}}function XO(t,e,r,n={}){t=Ja(t,Im);const a=su(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${r}`;a&&(Hw(`https://${h}`),qw("Firestore",!0)),o.host!==Zb&&o.host!==h&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:a,emulatorOptions:n};if(!yl(m,c)&&(t._setSettings(m),n.mockUserToken)){let f,g;if(typeof n.mockUserToken=="string")f=n.mockUserToken,g=vn.MOCK_USER;else{f=h4(n.mockUserToken,t._app?.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new Ue(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vn(x)}t._authCredentials=new r3(new LS(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class Er{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}toJSON(){return{type:Er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Nd(r,Er._jsonSchema))return new Er(e,n||null,new Xe(er.fromString(r.referencePath)))}}Er._jsonSchemaVersion="firestore/documentReference/1.0",Er._jsonSchema={type:Rr("string",Er._jsonSchemaVersion),referencePath:Rr("string")};class ho extends Il{constructor(e,r,n){super(e,r,v1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Xe(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function Lr(t,e,...r){if(t=Xr(t),VS("collection","path",e),t instanceof Im){const n=er.fromString(e,...r);return b2(n),new ho(t,null,n)}{if(!(t instanceof Er||t instanceof ho))throw new Ue(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(er.fromString(e,...r));return b2(n),new ho(t.firestore,null,n)}}function ar(t,e,...r){if(t=Xr(t),arguments.length===1&&(e=h1.newId()),VS("doc","path",e),t instanceof Im){const n=er.fromString(e,...r);return S2(n),new Er(t,null,new Xe(n))}{if(!(t instanceof Er||t instanceof ho))throw new Ue(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(er.fromString(e,...r));return S2(n),new Er(t.firestore,t instanceof ho?t.converter:null,new Xe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jb(this,"async_queue_retry"),this._c=()=>{const n=av();n&&qe(fT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=av();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=av();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uu(e))throw e;qe(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",pT(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=D1.createAndSchedule(this,e,r,n,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&rt(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function pT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class kl extends Im{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new mT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function QO(t,e){const r=typeof t=="object"?t:Yw(),n=typeof t=="string"?t:U0,a=t1(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=c4("firestore");o&&XO(a,...o)}return a}function M1(t){if(t._terminated)throw new Ue(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JO(t),t._firestoreClient}function JO(t){const e=t._freezeSettings(),r=(function(a,o,c,h){return new T3(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Jb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GO(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(un.fromBase64String(e))}catch(r){throw new Ue(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Aa(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nd(e,Aa._jsonSchema))return Aa.fromBase64String(e.bytes)}}Aa._jsonSchemaVersion="firestore/bytes/1.0",Aa._jsonSchema={type:Rr("string",Aa._jsonSchemaVersion),bytes:Rr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ue(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ue(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ue(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(Nd(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:Rr("string",Ts._jsonSchemaVersion),latitude:Rr("number"),longitude:Rr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nd(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ws(e.vectorValues);throw new Ue(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Rr("string",ws._jsonSchemaVersion),vectorValues:Rr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;class e6{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ad(e,this.data,r,this.fieldTransforms)}}class eN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new jo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function tN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ac:t})}}class L1{constructor(e,r,n,a,o,c){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new L1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return X0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tN(this.Ac)&&ZO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t6{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Rm(e)}Cc(e,r,n,a=!1){return new L1({Ac:e,methodName:r,Dc:n,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(t){const e=t._freezeSettings(),r=Rm(t._databaseId);return new t6(t._databaseId,!!e.ignoreUndefinedProperties,r)}function rN(t,e,r,n,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,r,a);V1("Data must be an object, but it was:",c,n);const h=nN(n,c);let m,f;if(o.merge)m=new oa(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const x of o.mergeFields){const y=qv(e,x,r);if(!c.contains(y))throw new Ue(we.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sN(g,y)||g.push(y)}m=new oa(g),f=c.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,f=c.fieldTransforms;return new e6(new Un(h),m,f)}class Pm extends F1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pm}}function r6(t,e,r,n){const a=t.Cc(1,e,r);V1("Data must be an object, but it was:",a,n);const o=[],c=Un.empty();Ro(n,((m,f)=>{const g=B1(e,m,r);f=Xr(f);const x=a.yc(g);if(f instanceof Pm)o.push(g);else{const y=Dd(f,x);y!=null&&(o.push(g),c.set(g,y))}}));const h=new oa(o);return new eN(c,h,a.fieldTransforms)}function n6(t,e,r,n,a,o){const c=t.Cc(1,e,r),h=[qv(e,n,r)],m=[a];if(o.length%2!=0)throw new Ue(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)h.push(qv(e,o[y])),m.push(o[y+1]);const f=[],g=Un.empty();for(let y=h.length-1;y>=0;--y)if(!sN(f,h[y])){const E=h[y];let w=m[y];w=Xr(w);const T=c.yc(E);if(w instanceof Pm)f.push(E);else{const b=Dd(w,T);b!=null&&(f.push(E),g.set(E,b))}}const x=new oa(f);return new eN(g,x,c.fieldTransforms)}function a6(t,e,r,n=!1){return Dd(r,t.Cc(n?4:3,e))}function Dd(t,e){if(aN(t=Xr(t)))return V1("Unsupported field value:",e,t),nN(t,e);if(t instanceof F1)return(function(n,a){if(!tN(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,a){const o=[];let c=0;for(const h of n){let m=Dd(h,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(t,e)}return(function(n,a){if((n=Xr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return G3(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=nt.fromDate(n);return{timestampValue:$0(a.serializer,o)}}if(n instanceof nt){const o=new nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$0(a.serializer,o)}}if(n instanceof Ts)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Aa)return{bytesValue:yb(a.serializer,n._byteString)};if(n instanceof Er){const o=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T1(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof ws)return(function(c,h){return{mapValue:{fields:{[YS]:{stringValue:KS},[z0]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return x1(h.serializer,f)}))}}}}}})(n,a);throw a.Sc(`Unsupported field value: ${_m(n)}`)})(t,e)}function nN(t,e){const r={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,((n,a)=>{const o=Dd(a,e.mc(n));o!=null&&(r[n]=o)})),{mapValue:{fields:r}}}function aN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Ts||t instanceof Aa||t instanceof Er||t instanceof F1||t instanceof ws)}function V1(t,e,r){if(!aN(r)||!BS(r)){const n=_m(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function qv(t,e,r){if((e=Xr(e))instanceof km)return e._internalPath;if(typeof e=="string")return B1(t,e);throw X0("Field path arguments must be of type string or ",t,!1,void 0,r)}const s6=new RegExp("[~\\*/\\[\\]]");function B1(t,e,r){if(e.search(s6)>=0)throw X0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new km(...e.split("."))._internalPath}catch{throw X0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function X0(t,e,r,n,a){const o=n&&!n.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;r&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${n}`),c&&(m+=` in document ${a}`),m+=")"),new Ue(we.INVALID_ARGUMENT,h+t+m)}function sN(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r,n,a,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class i6 extends iN{data(){return super.data()}}function Mm(t,e){return typeof e=="string"?B1(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U1{}class oN extends U1{}function St(t,e,...r){let n=[];e instanceof U1&&n.push(e),n=n.concat(r),(function(o){const c=o.filter((m=>m instanceof z1)).length,h=o.filter((m=>m instanceof Fm)).length;if(c>1||c>0&&h>0)throw new Ue(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)t=a._apply(t);return t}class Fm extends oN{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Fm(e,r,n)}_apply(e){const r=this._parse(e);return lN(e._query,r),new Il(e.firestore,e.converter,kv(e._query,r))}_parse(e){const r=Om(e.firestore);return(function(o,c,h,m,f,g,x){let y;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ue(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){vT(x,g);const w=[];for(const T of x)w.push(gT(m,o,T));y={arrayValue:{values:w}}}else y=gT(m,o,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||vT(x,g),y=a6(h,c,x,g==="in"||g==="not-in");return Cr.create(f,g,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function It(t,e,r){const n=e,a=Mm("where",t);return Fm._create(a,n,r)}class z1 extends U1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new z1(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Za.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const m of h)lN(c,m),c=kv(c,m)})(e._query,r),new Il(e.firestore,e.converter,kv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H1 extends oN{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new H1(e,r)}_apply(e){const r=(function(a,o,c){if(a.startAt!==null)throw new Ue(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ue(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(o,c)})(e._query,this._field,this._direction);return new Il(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new hu(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,r))}}function mi(t,e="asc"){const r=e,n=Mm("orderBy",t);return H1._create(n,r)}function gT(t,e,r){if(typeof(r=Xr(r))=="string"){if(r==="")throw new Ue(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nb(e)&&r.indexOf("/")!==-1)throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(er.fromString(r));if(!Xe.isDocumentKey(n))throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return k2(t,new Xe(n))}if(r instanceof Er)return k2(t,r._key);throw new Ue(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(r)}.`)}function vT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lN(t,e){const r=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ue(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class l6{convertValue(e,r="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ro(e,((a,o)=>{n[a]=this.convertValue(o,r)})),n}convertVectorValue(e){const r=e.fields?.[z0].arrayValue?.values?.map((n=>_r(n.doubleValue)));return new ws(r)}convertGeoPoint(e){return new Ts(_r(e.latitude),_r(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=wm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const r=po(e);return new nt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=er.fromString(e);kt(bb(n),9688,{name:e});const a=new id(n.get(1),n.get(3)),o=new Xe(n.popFirst(5));return a.isEqual(r)||li(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Lh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends iN{constructor(e,r,n,a,o,c){super(e,r,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new R0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ml._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",ml._jsonSchema={type:Rr("string",ml._jsonSchemaVersion),bundleSource:Rr("string","DocumentSnapshot"),bundleName:Rr("string"),bundle:Rr("string")};class R0 extends ml{data(e={}){return super.data(e)}}class qc{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Lh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new R0(this._firestore,this._userDataWriter,n.key,n,new Lh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ue(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new R0(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new R0(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,g=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:c6(h.type),doc:m,oldIndex:f,newIndex:g}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ue(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){t=Ja(t,Er);const e=Ja(t.firestore,kl);return YO(M1(e),t._key).then((r=>u6(e,t,r)))}qc._jsonSchemaVersion="firestore/querySnapshot/1.0",qc._jsonSchema={type:Rr("string",qc._jsonSchemaVersion),bundleSource:Rr("string","QuerySnapshot"),bundleName:Rr("string"),bundle:Rr("string")};class uN extends l6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,r)}}function ja(t){t=Ja(t,Il);const e=Ja(t.firestore,kl),r=M1(e),n=new uN(e);return o6(t._query),KO(r,t._query).then((a=>new qc(e,n,t,a)))}function xT(t,e,r){t=Ja(t,Er);const n=Ja(t.firestore,kl),a=cN(t.converter,e);return Lm(n,[rN(Om(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Ca.none())])}function Ol(t,e,r,...n){t=Ja(t,Er);const a=Ja(t.firestore,kl),o=Om(a);let c;return c=typeof(e=Xr(e))=="string"||e instanceof km?n6(o,"updateDoc",t._key,e,r,n):r6(o,"updateDoc",t._key,e),Lm(a,[c.toMutation(t._key,Ca.exists(!0))])}function fu(t){return Lm(Ja(t.firestore,kl),[new y1(t._key,Ca.none())])}function Pl(t,e){const r=Ja(t.firestore,kl),n=ar(t),a=cN(t.converter,e);return Lm(r,[rN(Om(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Ca.exists(!1))]).then((()=>n))}function Lm(t,e){return(function(n,a){const o=new ti;return n.asyncQueue.enqueueAndForget((async()=>MO(await WO(n),a,o))),o.promise})(M1(t),e)}function u6(t,e,r){const n=r.docs.get(e._key),a=new uN(t);return new ml(t,a,e._key,n,new Lh(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(a){lu=a})(iu),Xc(new _l("firestore",((n,{instanceIdentifier:a,options:o})=>{const c=n.getProvider("app").getImmediate(),h=new kl(new n3(n.getProvider("auth-internal")),new i3(c,n.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(f.options.projectId,g)})(c,a),c);return o={useFetchStreams:r,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),co(_2,E2,e),co(_2,E2,"esm2020")})();const h6={apiKey:"AIzaSyCuHqkq6JPf8nlBxPMOI14cq7bV46W_5DY",authDomain:"giogio-158b6.firebaseapp.com",projectId:"giogio-158b6",storageBucket:"giogio-158b6.firebasestorage.app",messagingSenderId:"47400008227",appId:"1:47400008227:web:bfb519bd74346697adcf96"},hN=Ww(h6),u0=ZI(hN),ct=QO(hN);function Gc(t){if(typeof t=="string")return t;switch(t?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const iv={async logOut(){try{await zD(u0)}catch(t){const e=Gc(t);throw new Error(e)}},async login(t){try{const r=(await LD(u0,t.email,t.password)).user,n=await _o(ar(ct,"users",r.uid));if(!n.exists())throw new Error("User not found");const o={...n.data(),lastLogin:new Date};return await xT(ar(ct,"users",r.uid),o),o}catch(e){const r=Gc(e);throw new Error(r)}},async register(t){try{if(!t.email||!t.password||!t.name)throw new Error("Todos os campos so obrigatrios");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))throw new Error("Email invlido");if(t.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await FD(u0,t.email.trim(),t.password)).user,a={uid:n.uid,email:t.email.trim(),name:t.name.trim(),phone:t.phone||"",role:t.role||"admin",createdAt:new Date,updatedAt:new Date};return await xT(ar(ct,"users",n.uid),a),a}catch(e){if(e instanceof Error)if(e.message.includes("auth/email-already-in-use"))try{return await this.login({email:t.email,password:t.password})}catch{throw new Error("Este email j est em uso. Verifique suas credenciais ou use outro email.")}else throw e.message.includes("auth/weak-password")?new Error("A senha  muito fraca. Use pelo menos 6 caracteres."):e.message.includes("auth/invalid-email")?new Error("Email invlido. Verifique o formato do email."):e.message.includes("auth/operation-not-allowed")?new Error("Operao no permitida. Contate o administrador."):new Error(e.message);const r=Gc(e);throw new Error(r)}},observeAuthState(t){try{return UD(u0,async e=>{if(e)try{const r=await _o(ar(ct,"users",e.uid));if(r.exists()){const n=r.data();t(n)}else t(null)}catch{t(null)}else t(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},dN=H.createContext(void 0);function d6({children:t}){const[e,r]=H.useState(null),[n,a]=H.useState(!0),[o,c]=H.useState(null);H.useEffect(()=>{r(null),a(!1)},[]);const x={user:e,loading:n,error:o,login:async y=>{try{a(!0),c(null);const E=await iv.login(y);r(E),a(!1)}catch(E){const w=Gc(E);c(w),a(!1),r(null)}},register:async y=>{try{a(!0),c(null);const E=await iv.register(y);r(E),a(!1)}catch(E){const w=Gc(E);throw c(w),a(!1),r(null),E}},logout:async()=>{try{a(!0),c(null),await iv.logOut(),r(null),a(!1)}catch(y){const E=Gc(y);c(E),a(!1)}},clearError:()=>{c(null)}};return l.jsx(dN.Provider,{value:x,children:t})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yT="popstate";function f6(t={}){function e(n,a){let{pathname:o,search:c,hash:h}=n.location;return Gv("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hd(a)}return p6(e,r,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function es(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m6(){return Math.random().toString(36).substring(2,10)}function _T(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:r,key:e&&e.key||n||m6()}}function hd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function p6(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,h="POP",m=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function x(){h="POP";let b=g(),D=b==null?null:b-f;f=b,m&&m({action:h,location:T.location,delta:D})}function y(b,D){h="PUSH";let k=Gv(T.location,b,D);f=g()+1;let V=_T(k,f),W=T.createHref(k);try{c.pushState(V,"",W)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(W)}o&&m&&m({action:h,location:T.location,delta:1})}function E(b,D){h="REPLACE";let k=Gv(T.location,b,D);f=g();let V=_T(k,f),W=T.createHref(k);c.replaceState(V,"",W),o&&m&&m({action:h,location:T.location,delta:0})}function w(b){return g6(b)}let T={get action(){return h},get location(){return t(a,c)},listen(b){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(yT,x),m=b,()=>{a.removeEventListener(yT,x),m=null}},createHref(b){return e(a,b)},createURL:w,encodeLocation(b){let D=w(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:E,go(b){return c.go(b)}};return T}function g6(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:hd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function fN(t,e,r="/"){return v6(t,e,r,!1)}function v6(t,e,r,n){let a=typeof e=="string"?mu(e):e,o=ui(a.pathname||"/",r);if(o==null)return null;let c=mN(t);x6(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let f=R6(o);h=A6(c[m],f,n)}return h}function mN(t,e=[],r=[],n="",a=!1){let o=(c,h,m=a,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&m)return;sr(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let x=ri([n,g.relativePath]),y=r.concat(g);c.children&&c.children.length>0&&(sr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),mN(c.children,e,y,x,m)),!(c.path==null&&!c.index)&&e.push({path:x,score:b6(x,c.index),routesMeta:y})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let m of pN(c.path))o(c,h,!0,m)}),e}function pN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=pN(n.join("/")),h=[];return h.push(...c.map(m=>m===""?o:[o,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function x6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:N6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var y6=/^:[\w-]+$/,_6=3,E6=2,T6=1,w6=10,S6=-2,ET=t=>t==="*";function b6(t,e){let r=t.split("/"),n=r.length;return r.some(ET)&&(n+=S6),e&&(n+=E6),r.filter(a=>!ET(a)).reduce((a,o)=>a+(y6.test(o)?_6:o===""?T6:w6),n)}function N6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function A6(t,e,r=!1){let{routesMeta:n}=t,a={},o="/",c=[];for(let h=0;h<n.length;++h){let m=n[h],f=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=Q0({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),y=m.route;if(!x&&f&&r&&!n[n.length-1].route.index&&(x=Q0({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:ri([o,x.pathname]),pathnameBase:k6(ri([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=ri([o,x.pathnameBase]))}return c}function Q0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=C6(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:x},y)=>{if(g==="*"){let w=h[y]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=h[y];return x&&!E?f[g]=void 0:f[g]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function C6(t,e=!1,r=!0){es(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(n.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function R6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return es(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function j6(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?mu(t):t;return{pathname:r?r.startsWith("/")?r:D6(r,e):e,search:O6(n),hash:P6(a)}}function D6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ov(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function q1(t){let e=I6(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function G1(t,e,r,n=!1){let a;typeof t=="string"?a=mu(t):(a={...t},sr(!a.pathname||!a.pathname.includes("?"),ov("?","pathname","search",a)),sr(!a.pathname||!a.pathname.includes("#"),ov("#","pathname","hash",a)),sr(!a.search||!a.search.includes("#"),ov("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=r;else{let x=e.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}h=x>=0?e[x]:"/"}let m=j6(a,h),f=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),k6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gN=["POST","PUT","PATCH","DELETE"];new Set(gN);var F6=["GET",...gN];new Set(F6);var pu=H.createContext(null);pu.displayName="DataRouter";var Vm=H.createContext(null);Vm.displayName="DataRouterState";H.createContext(!1);var vN=H.createContext({isTransitioning:!1});vN.displayName="ViewTransition";var L6=H.createContext(new Map);L6.displayName="Fetchers";var V6=H.createContext(null);V6.displayName="Await";var ts=H.createContext(null);ts.displayName="Navigation";var Id=H.createContext(null);Id.displayName="Location";var Cs=H.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var $1=H.createContext(null);$1.displayName="RouteError";function B6(t,{relative:e}={}){sr(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=H.useContext(ts),{hash:a,pathname:o,search:c}=kd(t,{relative:e}),h=o;return r!=="/"&&(h=o==="/"?r:ri([r,o])),n.createHref({pathname:h,search:c,hash:a})}function gu(){return H.useContext(Id)!=null}function pi(){return sr(gu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Id).location}var xN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yN(t){H.useContext(ts).static||H.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=H.useContext(Cs);return t?Z6():U6()}function U6(){sr(gu(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(pu),{basename:e,navigator:r}=H.useContext(ts),{matches:n}=H.useContext(Cs),{pathname:a}=pi(),o=JSON.stringify(q1(n)),c=H.useRef(!1);return yN(()=>{c.current=!0}),H.useCallback((m,f={})=>{if(es(c.current,xN),!c.current)return;if(typeof m=="number"){r.go(m);return}let g=G1(m,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ri([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,a,t])}H.createContext(null);function kd(t,{relative:e}={}){let{matches:r}=H.useContext(Cs),{pathname:n}=pi(),a=JSON.stringify(q1(r));return H.useMemo(()=>G1(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function z6(t,e){return _N(t,e)}function _N(t,e,r,n,a){sr(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(ts),{matches:c}=H.useContext(Cs),h=c[c.length-1],m=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let k=x&&x.path||"";EN(f,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=pi(),E;if(e){let k=typeof e=="string"?mu(e):e;sr(g==="/"||k.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=y;let w=E.pathname||"/",T=w;if(g!=="/"){let k=g.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=fN(t,{pathname:T});es(x||b!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),es(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=W6(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:ri([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:ri([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,r,n,a);return e&&D?H.createElement(Id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function H6(){let t=J6(),e=M6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),r?H.createElement("pre",{style:a},r):null,c)}var q6=H.createElement(H6,null),G6=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?H.createElement(Cs.Provider,{value:this.props.routeContext},H.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $6({routeContext:t,match:e,children:r}){let n=H.useContext(pu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Cs.Provider,{value:t},r)}function W6(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=r?.errors;if(c!=null){let f=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);sr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let h=!1,m=-1;if(r)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=f),g.route.id){let{loaderData:x,errors:y}=r,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||E){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,g,x)=>{let y,E=!1,w=null,T=null;r&&(y=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||q6,h&&(m<0&&x===0?(EN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):m===x&&(E=!0,T=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,x+1)),D=()=>{let k;return y?k=w:E?k=T:g.route.Component?k=H.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=f,H.createElement($6,{match:g,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?H.createElement(G6,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:D(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):D()},null)}function W1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y6(t){let e=H.useContext(pu);return sr(e,W1(t)),e}function K6(t){let e=H.useContext(Vm);return sr(e,W1(t)),e}function X6(t){let e=H.useContext(Cs);return sr(e,W1(t)),e}function Y1(t){let e=X6(t),r=e.matches[e.matches.length-1];return sr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Q6(){return Y1("useRouteId")}function J6(){let t=H.useContext($1),e=K6("useRouteError"),r=Y1("useRouteError");return t!==void 0?t:e.errors?.[r]}function Z6(){let{router:t}=Y6("useNavigate"),e=Y1("useNavigate"),r=H.useRef(!1);return yN(()=>{r.current=!0}),H.useCallback(async(a,o={})=>{es(r.current,xN),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var TT={};function EN(t,e,r){!e&&!TT[t]&&(TT[t]=!0,es(!1,r))}H.memo(eP);function eP({routes:t,future:e,state:r,unstable_onError:n}){return _N(t,void 0,r,n,e)}function tP({to:t,replace:e,state:r,relative:n}){sr(gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=H.useContext(ts);es(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(Cs),{pathname:c}=pi(),h=vu(),m=G1(t,q1(o),c,n==="path"),f=JSON.stringify(m);return H.useEffect(()=>{h(JSON.parse(f),{replace:e,state:r,relative:n})},[h,f,n,e,r]),null}function Vn(t){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rP({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){sr(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof r=="string"&&(r=mu(r));let{pathname:m="/",search:f="",hash:g="",state:x=null,key:y="default"}=r,E=H.useMemo(()=>{let w=ui(m,c);return w==null?null:{location:{pathname:w,search:f,hash:g,state:x,key:y},navigationType:n}},[c,m,f,g,x,y,n]);return es(E!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:H.createElement(ts.Provider,{value:h},H.createElement(Id.Provider,{children:e,value:E}))}function nP({children:t,location:e}){return z6($v(t),e)}function $v(t,e=[]){let r=[];return H.Children.forEach(t,(n,a)=>{if(!H.isValidElement(n))return;let o=[...e,a];if(n.type===H.Fragment){r.push.apply(r,$v(n.props.children,o));return}sr(n.type===Vn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=$v(n.props.children,o)),r.push(c)}),r}var j0="get",D0="application/x-www-form-urlencoded";function Bm(t){return t!=null&&typeof t.tagName=="string"}function aP(t){return Bm(t)&&t.tagName.toLowerCase()==="button"}function sP(t){return Bm(t)&&t.tagName.toLowerCase()==="form"}function iP(t){return Bm(t)&&t.tagName.toLowerCase()==="input"}function oP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lP(t,e){return t.button===0&&(!e||e==="_self")&&!oP(t)}var h0=null;function cP(){if(h0===null)try{new FormData(document.createElement("form"),0),h0=!1}catch{h0=!0}return h0}var uP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(t){return t!=null&&!uP.has(t)?(es(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${D0}"`),null):t}function hP(t,e){let r,n,a,o,c;if(sP(t)){let h=t.getAttribute("action");n=h?ui(h,e):null,r=t.getAttribute("method")||j0,a=lv(t.getAttribute("enctype"))||D0,o=new FormData(t)}else if(aP(t)||iP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(n=m?ui(m,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||j0,a=lv(t.getAttribute("formenctype"))||lv(h.getAttribute("enctype"))||D0,o=new FormData(h,t),!cP()){let{name:f,type:g,value:x}=t;if(g==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,x)}}else{if(Bm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=j0,n=null,a=D0,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dP(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ui(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function fP(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pP(t,e,r){let n=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await fP(o,r);return c.links?c.links():[]}return[]}));return yP(n.flat(1).filter(mP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wT(t,e,r,n,a,o){let c=(m,f)=>r[f]?m.route.id!==r[f].route.id:!0,h=(m,f)=>r[f].pathname!==m.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==m.params["*"];return o==="assets"?e.filter((m,f)=>c(m,f)||h(m,f)):o==="data"?e.filter((m,f)=>{let g=n.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,f)||h(m,f))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gP(t,e,{includeHydrateFallback:r}={}){return vP(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function vP(t){return[...new Set(t)]}function xP(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function yP(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let o=JSON.stringify(xP(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function TN(){let t=H.useContext(pu);return K1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _P(){let t=H.useContext(Vm);return K1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X1=H.createContext(void 0);X1.displayName="FrameworkContext";function wN(){let t=H.useContext(X1);return K1(t,"You must render this element inside a <HydratedRouter> element"),t}function EP(t,e){let r=H.useContext(X1),[n,a]=H.useState(!1),[o,c]=H.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=e,y=H.useRef(null);H.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let T=D=>{D.forEach(k=>{c(k.isIntersecting)})},b=new IntersectionObserver(T,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[t]),H.useEffect(()=>{if(n){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[n]);let E=()=>{a(!0)},w=()=>{a(!1),c(!1)};return r?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Ch(h,E),onBlur:Ch(m,w),onMouseEnter:Ch(f,E),onMouseLeave:Ch(g,w),onTouchStart:Ch(x,E)}]:[!1,y,{}]}function Ch(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function TP({page:t,...e}){let{router:r}=TN(),n=H.useMemo(()=>fN(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?H.createElement(SP,{page:t,matches:n,...e}):null}function wP(t){let{manifest:e,routeModules:r}=wN(),[n,a]=H.useState([]);return H.useEffect(()=>{let o=!1;return pP(t,e,r).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,r]),n}function SP({page:t,matches:e,...r}){let n=pi(),{manifest:a,routeModules:o}=wN(),{basename:c}=TN(),{loaderData:h,matches:m}=_P(),f=H.useMemo(()=>wT(t,e,m,a,n,"data"),[t,e,m,a,n]),g=H.useMemo(()=>wT(t,e,m,a,n,"assets"),[t,e,m,a,n]),x=H.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,T=!1;if(e.forEach(D=>{let k=a.routes[D.route.id];!k||!k.hasLoader||(!f.some(V=>V.route.id===D.route.id)&&D.route.id in h&&o[D.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:w.add(D.route.id))}),w.size===0)return[];let b=dP(t,c,"data");return T&&w.size>0&&b.searchParams.set("_routes",e.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[b.pathname+b.search]},[c,h,n,a,f,e,t,o]),y=H.useMemo(()=>gP(g,a),[g,a]),E=wP(g);return H.createElement(H.Fragment,null,x.map(w=>H.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>H.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),E.map(({key:w,link:T})=>H.createElement("link",{key:w,nonce:r.nonce,...T})))}function bP(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var SN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SN&&(window.__reactRouterVersion="7.9.1")}catch{}function NP({basename:t,children:e,window:r}){let n=H.useRef();n.current==null&&(n.current=f6({window:r,v5Compat:!0}));let a=n.current,[o,c]=H.useState({action:a.action,location:a.location}),h=H.useCallback(m=>{H.startTransition(()=>c(m))},[c]);return H.useLayoutEffect(()=>a.listen(h),[a,h]),H.createElement(rP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var bN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Um=H.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:c,state:h,target:m,to:f,preventScrollReset:g,viewTransition:x,...y},E){let{basename:w}=H.useContext(ts),T=typeof f=="string"&&bN.test(f),b,D=!1;if(typeof f=="string"&&T&&(b=f,SN))try{let C=new URL(window.location.href),P=f.startsWith("//")?new URL(C.protocol+f):new URL(f),N=ui(P.pathname,w);P.origin===C.origin&&N!=null?f=N+P.search+P.hash:D=!0}catch{es(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=B6(f,{relative:a}),[V,W,z]=EP(n,y),Q=jP(f,{replace:c,state:h,target:m,preventScrollReset:g,relative:a,viewTransition:x});function I(C){e&&e(C),C.defaultPrevented||Q(C)}let A=H.createElement("a",{...y,...z,href:b||k,onClick:D||o?e:I,ref:bP(E,W),target:m,"data-discover":!T&&r==="render"?"true":void 0});return V&&!T?H.createElement(H.Fragment,null,A,H.createElement(TP,{page:k})):A});Um.displayName="Link";var AP=H.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:c,viewTransition:h,children:m,...f},g){let x=kd(c,{relative:f.relative}),y=pi(),E=H.useContext(Vm),{navigator:w,basename:T}=H.useContext(ts),b=E!=null&&PP(x)&&h===!0,D=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,k=y.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(k=k.toLowerCase(),V=V?V.toLowerCase():null,D=D.toLowerCase()),V&&T&&(V=ui(V,T)||V);const W=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let z=k===D||!a&&k.startsWith(D)&&k.charAt(W)==="/",Q=V!=null&&(V===D||!a&&V.startsWith(D)&&V.charAt(D.length)==="/"),I={isActive:z,isPending:Q,isTransitioning:b},A=z?e:void 0,C;typeof n=="function"?C=n(I):C=[n,z?"active":null,Q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(I):o;return H.createElement(Um,{...f,"aria-current":A,className:C,ref:g,style:P,to:c,viewTransition:h},typeof m=="function"?m(I):m)});AP.displayName="NavLink";var CP=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:o,method:c=j0,action:h,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:x,...y},E)=>{let w=kP(),T=OP(h,{relative:f}),b=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&bN.test(h),k=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let W=V.nativeEvent.submitter,z=W?.getAttribute("formmethod")||c;w(W||V.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:a,state:o,relative:f,preventScrollReset:g,viewTransition:x})};return H.createElement("form",{ref:E,method:b,action:T,onSubmit:n?m:k,...y,"data-discover":!D&&t==="render"?"true":void 0})});CP.displayName="Form";function RP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NN(t){let e=H.useContext(pu);return sr(e,RP(t)),e}function jP(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=vu(),m=pi(),f=kd(t,{relative:o});return H.useCallback(g=>{if(lP(g,e)){g.preventDefault();let x=r!==void 0?r:hd(m)===hd(f);h(t,{replace:x,state:n,preventScrollReset:a,relative:o,viewTransition:c})}},[m,h,f,r,n,e,t,a,o,c])}var DP=0,IP=()=>`__${String(++DP)}__`;function kP(){let{router:t}=NN("useSubmit"),{basename:e}=H.useContext(ts),r=Q6();return H.useCallback(async(n,a={})=>{let{action:o,method:c,encType:h,formData:m,body:f}=hP(n,e);if(a.navigate===!1){let g=a.fetcherKey||IP();await t.fetch(g,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:f,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function OP(t,{relative:e}={}){let{basename:r}=H.useContext(ts),n=H.useContext(Cs);sr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...kd(t||".",{relative:e})},c=pi();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),m=h.getAll("index");if(m.some(g=>g==="")){h.delete("index"),m.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ri([r,o.pathname])),hd(o)}function PP(t,{relative:e}={}){let r=H.useContext(vN);sr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=NN("useViewTransitionState"),a=kd(t,{relative:e});if(!r.isTransitioning)return!1;let o=ui(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ui(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Q0(a.pathname,c)!=null||Q0(a.pathname,o)!=null}const Hr={home:"/",login:"/login",register:"/register",menu:"/menu",clients:"/clients",owners:"/owners",suppliers:"/suppliers",employees:"/employees",houses:"/houses",sales:"/sales",financial:"/financial",dashboardConsolidacao:"/dashboard-consolidacao",dashboardProcessos:"/dashboard-processos"},Od=()=>{const t=H.useContext(dN);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},fs=({children:t})=>{const{user:e,loading:r}=Od();return r?l.jsx("div",{children:"Loading..."}):e?l.jsx(l.Fragment,{children:t}):l.jsx(tP,{to:Hr.login,replace:!0})},Ke=({children:t,variant:e="primary",size:r="medium",fullWidth:n=!1,disabled:a=!1,type:o="button",className:c="",onClick:h})=>{const m=["button",`button--${e}`,r!=="medium"&&`button--${r}`,n&&"button--full",c].filter(Boolean).join(" ");return l.jsx("button",{type:o,className:m,disabled:a,onClick:h,children:t})};function je({label:t,type:e="text",value:r,onChange:n,placeholder:a,error:o,required:c=!1,disabled:h=!1,min:m,max:f,step:g}){return l.jsxs("div",{className:"input-field",children:[l.jsxs("label",{className:"input-field__label",children:[t,c&&l.jsx("span",{className:"input-field__required",children:"*"})]}),l.jsx("input",{type:e,value:r,onChange:x=>n(x.target.value),placeholder:a,className:`input-field__input ${o?"input-field__input--error":""}`,disabled:h,min:m,max:f,step:g}),o&&l.jsx("span",{className:"input-field__error",children:o})]})}function MP(){const[t,e]=H.useState(""),[r,n]=H.useState(""),[a,o]=H.useState(!1),{user:c,login:h,error:m,clearError:f}=Od(),g=vu(),x=async w=>{w.preventDefault(),o(!0),f();try{await h({email:t,password:r})}catch{}finally{o(!1)}};H.useEffect(()=>{c&&g(Hr.menu)},[c,g]);const y=w=>{e(w),m&&f()},E=w=>{n(w),m&&f()};return l.jsxs("div",{className:"login-form",children:[l.jsxs("div",{className:"login-form__header",children:[l.jsx("h1",{className:"login-form__title",children:"Bem-Vindo de volta!"}),l.jsx("p",{className:"login-form__subtitle",children:"Bem-vindo ao Exclusive Homes, sua plataforma de gesto de aluguis e imveis"})]}),l.jsxs("form",{onSubmit:x,className:"login-form__form",children:[l.jsx(je,{label:"Email",type:"text",value:t,onChange:y,placeholder:"Digite seu email",required:!0}),l.jsx(je,{label:"Senha",type:"password",value:r,onChange:E,placeholder:"Digite sua senha",required:!0}),m&&l.jsx("div",{className:"login-form__error",children:l.jsx("p",{children:m})}),l.jsxs(Ke,{type:"submit",variant:"primary",disabled:a,className:"login-form__submit-btn",children:["x",a?"Entrando...":"Entrar"]}),l.jsx("a",{href:"#",className:"login-form__forgot-password",children:"Esqueceu sua senha?"}),l.jsx("div",{className:"login-form__divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("div",{className:"login-form__register-link",children:[l.jsx("p",{children:"No tem uma conta?"}),l.jsx(Um,{to:Hr.register,className:"login-form__register-btn",children:"Faa o registro"})]})]})]})}function ST(){return l.jsx("div",{className:"login-page",children:l.jsxs("div",{className:"login-page__container",children:[l.jsx("div",{className:"login-page__form-section",children:l.jsx(MP,{})}),l.jsx("div",{className:"login-page__brand-section",children:l.jsxs("div",{className:"login-page__brand-content",children:[l.jsxs("div",{className:"login-page__logo",children:[l.jsx("div",{className:"login-page__logo-icon",children:l.jsxs("svg",{viewBox:"0 0 100 100",className:"logo-svg",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),l.jsx("stop",{offset:"100%",stopColor:"#e5e7eb"})]})}),l.jsx("rect",{x:"15",y:"25",width:"70",height:"50",rx:"6",fill:"url(#logoGradient)"}),l.jsx("rect",{x:"20",y:"35",width:"60",height:"6",rx:"3",fill:"#1f2937",opacity:"0.9"}),l.jsx("rect",{x:"20",y:"45",width:"45",height:"4",rx:"2",fill:"#1f2937",opacity:"0.7"}),l.jsx("rect",{x:"20",y:"52",width:"55",height:"4",rx:"2",fill:"#1f2937",opacity:"0.7"}),l.jsx("rect",{x:"20",y:"59",width:"40",height:"4",rx:"2",fill:"#1f2937",opacity:"0.7"}),l.jsx("circle",{cx:"75",cy:"40",r:"6",fill:"#1f2937"}),l.jsx("text",{x:"75",y:"44",textAnchor:"middle",fill:"white",fontSize:"6",fontWeight:"bold",children:"R"})]})}),l.jsx("h2",{className:"login-page__brand-name",children:"Exclusive Homes"})]}),l.jsxs("div",{className:"login-page__brand-description",children:[l.jsxs("h3",{className:"login-page__tagline",children:["Gesto Inteligente de Aluguis"," "]}),l.jsx("p",{className:"login-page__description",children:"Plataforma completa para gerenciamento de imveis, contratos de locao, clientes e fornecedores com mtricas financeiras detalhadas"}),l.jsxs("div",{className:"login-page__features",children:[l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),l.jsx("span",{children:"Gesto de Imveis"})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),l.jsx("span",{children:"Contratos de Locao"})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z"})})}),l.jsx("span",{children:"Mtricas Financeiras"})]})]})]})]})})]})})}const FP=()=>{const{register:t}=Od(),e=vu(),[r,n]=H.useState({displayName:"",email:"",password:"",cpf:"",phone:""}),[a,o]=H.useState({}),[c,h]=H.useState(!1),[m,f]=H.useState(""),g=w=>{const T=w.replace(/\D/g,"");return T.length<=11?T.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2"):T.slice(0,11).replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")},x=()=>{const w={};r.displayName.trim()?r.displayName.trim().length<2&&(w.displayName="Nome deve ter pelo menos 2 caracteres"):w.displayName="Nome  obrigatrio";const T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;r.email.trim()?T.test(r.email)||(w.email="Email invlido"):w.email="Email  obrigatrio",r.password?r.password.length<6&&(w.password="Senha deve ter pelo menos 6 caracteres"):w.password="Senha  obrigatria";const b=r.cpf.replace(/\D/g,"");return r.cpf.trim()?b.length!==11&&(w.cpf="CPF deve ter 11 dgitos"):w.cpf="CPF  obrigatrio",o(w),Object.keys(w).length===0},y=w=>T=>{w==="cpf"&&(T=g(T)),n(b=>({...b,[w]:T})),a[w]&&o(b=>({...b,[w]:void 0}))},E=async w=>{if(w.preventDefault(),!!x()){h(!0),f("");try{const T={name:r.displayName,email:r.email,password:r.password,phone:r.phone};await t(T),n({displayName:"",email:"",password:"",cpf:"",phone:""}),setTimeout(()=>{e(Hr.login)},1e3)}catch(T){T instanceof Error?f(T.message):f("Erro inesperado ao registrar usurio")}finally{h(!1)}}};return l.jsxs("div",{className:"user-register-form",children:[l.jsxs("div",{className:"user-register-form__header",children:[l.jsx("h1",{className:"user-register-form__title",children:"Cadastro de Usurio - Exclusive Homes"}),l.jsx("p",{className:"user-register-form__subtitle",children:"Preencha os dados abaixo para cadastrar um novo usurio no sistema de gesto de aluguis"})]}),l.jsxs("form",{className:"user-register-form__form",onSubmit:E,children:[l.jsxs("div",{className:"user-register-form__fields",children:[l.jsx(je,{label:"Nome completo",type:"text",value:r.displayName,onChange:y("displayName"),placeholder:"Digite o nome completo",error:a.displayName,required:!0}),l.jsx(je,{label:"Email",type:"email",value:r.email,onChange:y("email"),placeholder:"Digite o email",error:a.email,required:!0}),l.jsx(je,{label:"Senha",type:"password",value:r.password,onChange:y("password"),placeholder:"Digite a senha",error:a.password,required:!0}),l.jsx(je,{label:"CPF",type:"text",value:r.cpf,onChange:y("cpf"),placeholder:"000.000.000-00",error:a.cpf,required:!0}),l.jsx(je,{label:"Telefone",type:"text",value:r.phone,onChange:y("phone"),placeholder:"(00) 00000-0000"})]}),m&&l.jsx("div",{className:"user-register-form__error",children:l.jsx("p",{children:m})}),l.jsx("div",{className:"user-register-form__actions",children:l.jsx(Ke,{type:"submit",variant:"primary",disabled:c,className:"user-register-form__submit-btn",children:c?"Cadastrando...":"Cadastrar Usurio"})}),l.jsx("div",{className:"user-register-form__divider",children:l.jsx("span",{children:"ou"})}),l.jsxs("div",{className:"user-register-form__login-link",children:[l.jsx("p",{children:"J tem uma conta?"}),l.jsx(Um,{to:Hr.login,className:"user-register-form__login-btn",children:"Faa o login"})]})]})]})},LP=()=>l.jsx("div",{className:"register-user-page",children:l.jsx("main",{className:"register-user-page__main",children:l.jsx("div",{className:"register-user-page__content",children:l.jsx(FP,{})})})});var AN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bT=fl.createContext&&fl.createContext(AN),VP=["attr","size","title"];function BP(t,e){if(t==null)return{};var r=UP(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UP(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(this,arguments)}function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){zP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zP(t,e,r){return e=HP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HP(t){var e=qP(t,"string");return typeof e=="symbol"?e:e+""}function qP(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CN(t){return t&&t.map((e,r)=>fl.createElement(e.tag,Z0({key:r},e.attr),CN(e.child)))}function Qe(t){return e=>fl.createElement(GP,J0({attr:Z0({},t.attr)},e),CN(t.child))}function GP(t){var e=r=>{var{attr:n,size:a,title:o}=t,c=BP(t,VP),h=a||r.size||"1em",m;return r.className&&(m=r.className),t.className&&(m=(m?m+" ":"")+t.className),fl.createElement("svg",J0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:m,style:Z0(Z0({color:t.color||r.color},r.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&fl.createElement("title",null,o),t.children)};return bT!==void 0?fl.createElement(bT.Consumer,null,r=>e(r)):e(AN)}function $P(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function zm(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function em(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function Wv(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function WP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(t)}function RN(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function bl(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function $h(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function Q1(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function Eo(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function la(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function YP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function jN(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Pd(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function KP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Ra(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function DN(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Ml(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function XP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function To(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function QP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(t)}function wo(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function J1(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function JP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(t)}function AT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function CT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function yn(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function ZP(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function eM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function RT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function tM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function rM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function nM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function jT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function aM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Md(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(t)}function sM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(t)}function nu(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function IN(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(t)}function DT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.36 6.64a9 9 0 1 1-12.73 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"12"},child:[]}]})(t)}function dd(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Lc(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function kN(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function pl(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function iM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function xu(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function yu(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function bs(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function oM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function lM(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Wh(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function jn(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Z1(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Zi(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function IT(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}const cM=({onToggleSidebar:t})=>{const{user:e,logout:r}=Od(),[n,a]=H.useState(!1),o=vu(),c=async()=>{try{await r(),o("/login")}catch(h){console.error("Erro ao fazer logout:",h)}};return l.jsxs("header",{className:"app-header",children:[l.jsx("div",{className:"header-left",children:l.jsx(Ke,{variant:"ghost",className:"sidebar-toggle",onClick:t,children:l.jsx(nM,{size:20})})}),l.jsxs("div",{className:"header-right",children:[l.jsxs(Ke,{variant:"ghost",className:"notification-btn",children:[l.jsx(Q1,{size:18}),l.jsx("span",{className:"notification-badge",children:"9+"})]}),l.jsxs("div",{className:"user-menu-container",children:[l.jsxs(Ke,{variant:"ghost",className:"user-menu-trigger",onClick:()=>a(!n),children:[l.jsx("div",{className:"user-avatar",children:l.jsx(Wh,{size:16})}),l.jsxs("div",{className:"user-info",children:[l.jsx("span",{className:"user-name",children:e?.name||"Usurio"}),l.jsx("span",{className:"user-email",children:e?.email||"usurio@email.com"})]}),l.jsx(YP,{size:16,className:`chevron ${n?"rotated":""}`})]}),n&&l.jsxs("div",{className:"user-dropdown",children:[l.jsxs("div",{className:"dropdown-header",children:[l.jsx("div",{className:"user-avatar large",children:l.jsx(Wh,{size:20})}),l.jsxs("div",{className:"user-details",children:[l.jsx("span",{className:"name",children:e?.name||"Usurio"}),l.jsx("span",{className:"email",children:e?.email||"email@exemplo.com"})]})]}),l.jsx("div",{className:"dropdown-divider"}),l.jsxs("div",{className:"dropdown-items",children:[l.jsxs("button",{className:"dropdown-item",children:[l.jsx(Wh,{size:16}),l.jsx("span",{children:"Meu Perfil"})]}),l.jsxs("button",{className:"dropdown-item",children:[l.jsx(Lc,{size:16}),l.jsx("span",{children:"Configuraes"})]})]}),l.jsx("div",{className:"dropdown-divider"}),l.jsxs("button",{className:"dropdown-item logout",onClick:c,children:[l.jsx(tM,{size:16}),l.jsx("span",{children:"Sair"})]})]})]})]})]})},uM="/assets/logo-BFOBQZYZ.png",hM=[{id:"dashboard",label:"Dashboard",icon:yn,path:"/dashboard"},{id:"cadastros",label:"Cadastros",icon:jn,items:[{id:"clientes",label:"Clientes",icon:jn,path:"/clients"},{id:"proprietarios",label:"Proprietrios",icon:jn,path:"/owners"},{id:"fornecedores",label:"Fornecedores",icon:jn,path:"/suppliers"},{id:"colaboradores",label:"Colaboradores",icon:jn,path:"/employees"},{id:"casas",label:"Casas",icon:yn,path:"/houses"}]},{id:"vendas",label:"Vendas",icon:kN,path:"/sales"},{id:"financeiro",label:"Financeiro",icon:KP,path:"/financial"},{id:"dashboard-consolidacao",label:"Dashboard Consolidao",icon:DT,path:"/dashboard-consolidacao"},{id:"dashboard-processos",label:"Dashboard Processos",icon:DT,path:"/dashboard-processos"},{id:"dashboard-metas",label:"Dashboard Metas",icon:WP,path:"/dashboard-metas"},{id:"dashboard-estatisticas",label:"Dashboard Estatsticas",icon:$h,path:"/dashboard-estatisticas"}],dM=({collapsed:t,items:e=hM})=>{const r=vu(),n=pi(),[a,o]=H.useState(new Set),c=x=>{t||o(y=>{const E=new Set(y);return E.has(x)?E.delete(x):E.add(x),E})},h=x=>{x.path?r(x.path):x.items&&c(x.id)},m=x=>x?n.pathname===x||n.pathname.startsWith(x+"/"):!1,f=x=>x.path&&m(x.path)?!0:x.items?x.items.some(y=>m(y.path||"")):!1,g=(x,y=0)=>{const E=x.items&&x.items.length>0,w=a.has(x.id),T=m(x.path||""),b=f(x);return l.jsxs("div",{className:"menu-item-container",children:[l.jsx("button",{className:`menu-item ${T?"active":""} ${b?"parent-active":""} ${y>0?"sub-item":""}`,onClick:()=>h(x),title:t?x.label:void 0,children:l.jsxs("div",{className:"menu-item-content",children:[l.jsx("div",{className:"menu-icon",children:l.jsx(x.icon,{size:18})}),!t&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"menu-label",children:x.label}),l.jsxs("div",{className:"menu-item-end",children:[x.badge&&l.jsx("span",{className:"menu-badge",children:x.badge}),E&&l.jsx(jN,{size:14,className:`chevron ${w?"expanded":""}`})]})]})]})}),E&&!t&&w&&l.jsx("div",{className:"sub-menu",children:x.items.map(D=>g(D,y+1))})]},x.id)};return l.jsxs("aside",{className:`sidebar ${t?"collapsed":""}`,children:[l.jsx("div",{className:"sidebar-header",children:l.jsx("div",{className:"logo",children:!t&&l.jsx("div",{className:"logo-image",children:l.jsx("img",{src:uM,alt:"Logo"})})})}),l.jsx("nav",{className:"sidebar-nav",children:l.jsx("div",{className:"nav-section",children:e.map(x=>g(x))})}),!t&&l.jsx("div",{className:"sidebar-footer",children:l.jsx("div",{className:"footer-content",children:l.jsx("div",{className:"version-info",children:l.jsx("span",{children:"Verso 1.0.0"})})})})]})},ms=({children:t,sidebarItems:e})=>{const[r,n]=H.useState(!1),[a,o]=H.useState(!1),[c,h]=H.useState(!1);H.useEffect(()=>{const g=()=>{const x=window.innerWidth<1024;o(x),x&&(n(!1),h(!1))};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const m=()=>{a?h(!c):n(!r)},f=()=>{a&&h(!1)};return l.jsxs("div",{className:"app-layout",children:[l.jsx("div",{className:`sidebar-container ${a&&c?"open":""}`,children:l.jsx(dM,{collapsed:!a&&r,items:e})}),a&&c&&l.jsx("div",{className:"sidebar-overlay",onClick:f}),l.jsxs("div",{className:`main-content ${r&&!a?"sidebar-collapsed":""}`,children:[l.jsx(cM,{onToggleSidebar:m,sidebarCollapsed:r}),l.jsx("main",{className:"content-area",children:l.jsx("div",{className:"content-wrapper",children:t})})]})]})},Nc="clients",kT=t=>{const e=t.data();if(!e)throw new Error("Document data is undefined");return{id:t.id,code:e.code||"",name:e.name||"",cpf:e.cpf||"",birthDate:e.birthDate?.toDate()||new Date,instagram:e.instagram||"",address:e.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},profession:e.profession||"",maritalStatus:e.maritalStatus||"single",phone:e.phone||"",email:e.email||"",status:e.status||"active",createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},OT=t=>{const e={...t};return"birthDate"in e&&e.birthDate&&(e.birthDate=nt.fromDate(e.birthDate)),e},fo={async getAll(t){try{let e=St(Lr(ct,Nc),mi("name"));t?.status&&(e=St(e,It("status","==",t.status))),t?.city&&(e=St(e,It("address.city","==",t.city))),t?.state&&(e=St(e,It("address.state","==",t.state)));let n=(await ja(e)).docs.map(kT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(a)||o.email.toLowerCase().includes(a)||o.phone.includes(a)||o.cpf.includes(a)||o.instagram.toLowerCase().includes(a)||o.profession.toLowerCase().includes(a))}return n}catch(e){throw console.error("Erro ao buscar clientes:",e),new Error("Falha ao carregar lista de clientes")}},async getById(t){try{const e=ar(ct,Nc,t),r=await _o(e);return r.exists()?kT(r):null}catch(e){throw console.error("Erro ao buscar cliente:",e),new Error("Falha ao carregar dados do cliente")}},async create(t){try{const e=await this.generateClientCode(),r={...OT(t),code:e,createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,Nc),r)).id}catch(e){throw console.error("Erro ao criar cliente:",e),new Error("Falha ao criar cliente")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,Nc,e),a={...OT(r),updatedAt:nt.now()};await Ol(n,a)}catch(e){throw console.error("Erro ao atualizar cliente:",e),new Error("Falha ao atualizar cliente")}},async delete(t){try{const e=ar(ct,Nc,t);await fu(e)}catch(e){throw console.error("Erro ao deletar cliente:",e),new Error("Falha ao deletar cliente")}},async searchByName(t,e=10){try{return(await this.getAll()).filter(a=>a.name.toLowerCase().includes(t.toLowerCase())).slice(0,e)}catch(r){throw console.error("Erro ao buscar clientes por nome:",r),new Error("Falha na busca de clientes")}},async emailExists(t,e){try{const r=St(Lr(ct,Nc),It("email","==",t)),n=await ja(r);return e?n.docs.some(a=>a.id!==e):!n.empty}catch(r){return console.error("Erro ao verificar email:",r),!1}},async generateClientCode(){try{const e=(await this.getAll()).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())[0];return!e||!e.code?"CLI001":`CLI${(parseInt(e.code.replace("CLI",""))+1).toString().padStart(3,"0")}`}catch(t){return console.error("Erro ao gerar cdigo:",t),"CLI001"}},async getStats(){try{const t=await this.getAll();return{total:t.length,active:t.filter(e=>e.status==="active").length,inactive:t.filter(e=>e.status==="inactive").length,prospects:t.filter(e=>e.status==="prospect").length}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}}},Dr=({size:t="medium",text:e,fullScreen:r=!1})=>{const n=r?"loading-spinner-container full-screen":"loading-spinner-container";return l.jsxs("div",{className:n,children:[l.jsx("div",{className:`loading-spinner ${t}`,children:l.jsx("div",{className:"spinner"})}),e&&l.jsx("p",{className:"loading-text",children:e})]})},fM=({clients:t,loading:e,onEdit:r,onView:n,onDelete:a})=>{const[o,c]=H.useState("name"),[h,m]=H.useState("asc"),f=T=>{o===T?m(h==="asc"?"desc":"asc"):(c(T),m("asc"))},g=[...t].sort((T,b)=>{let D=T[o],k=b[o];return o==="address"&&(D=T.address.city,k=b.address.city),D instanceof Date&&k instanceof Date?h==="asc"?D.getTime()-k.getTime():k.getTime()-D.getTime():typeof D=="string"&&typeof k=="string"?h==="asc"?D.localeCompare(k):k.localeCompare(D):0}),x=T=>new Intl.DateTimeFormat("pt-BR").format(T),y=T=>{const b=T.replace(/\D/g,"");return b.length===11?`(${b.slice(0,2)}) ${b.slice(2,7)}-${b.slice(7)}`:b.length===10?`(${b.slice(0,2)}) ${b.slice(2,6)}-${b.slice(6)}`:T},E=T=>{const D={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},prospect:{label:"Prospect",class:"status-prospect"}}[T]||{label:T,class:"status-default"};return l.jsx("span",{className:`status-badge ${D.class}`,children:D.label})},w=({field:T,children:b})=>l.jsxs("button",{className:`sort-button ${o===T?"active":""}`,onClick:()=>f(T),children:[b,o===T&&l.jsx("span",{className:"sort-indicator",children:h==="asc"?"":""})]});return e?l.jsx("div",{className:"client-list-loading",children:l.jsx(Dr,{text:"Carregando clientes..."})}):t.length===0?l.jsx("div",{className:"client-list-empty",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(wo,{size:48})}),l.jsx("h3",{children:"Nenhum cliente encontrado"}),l.jsx("p",{children:"No h clientes cadastrados ou que correspondam aos filtros aplicados."})]})}):l.jsxs("div",{className:"client-list",children:[l.jsx("div",{className:"client-list-header",children:l.jsxs("h3",{children:["Lista de Clientes (",t.length,")"]})}),l.jsx("div",{className:"client-table-container",children:l.jsxs("table",{className:"client-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(w,{field:"name",children:"Nome"})}),l.jsx("th",{children:l.jsx(w,{field:"email",children:"Contato"})}),l.jsx("th",{children:l.jsx(w,{field:"profession",children:"Profisso"})}),l.jsx("th",{children:l.jsx(w,{field:"status",children:"Status"})}),l.jsx("th",{children:l.jsx(w,{field:"address",children:"Cidade"})}),l.jsx("th",{children:l.jsx(w,{field:"createdAt",children:"Data Cadastro"})}),l.jsx("th",{className:"actions-column",children:"Aes"})]})}),l.jsx("tbody",{children:g.map(T=>l.jsxs("tr",{className:"client-row",children:[l.jsx("td",{className:"client-name",children:l.jsxs("div",{className:"name-info",children:[l.jsx("span",{className:"name",children:T.name}),l.jsxs("span",{className:"code",children:["Cdigo: ",T.code]})]})}),l.jsx("td",{className:"client-contact",children:l.jsxs("div",{className:"contact-info",children:[l.jsx("span",{className:"email",children:T.email}),l.jsx("span",{className:"phone",children:y(T.phone)})]})}),l.jsx("td",{className:"client-profession",children:l.jsx("span",{className:"profession",children:T.profession})}),l.jsx("td",{className:"client-status",children:E(T.status)}),l.jsx("td",{className:"client-location",children:l.jsxs("div",{className:"location-info",children:[l.jsx("span",{className:"city",children:T.address.city}),l.jsx("span",{className:"state",children:T.address.state})]})}),l.jsx("td",{className:"client-date",children:x(T.createdAt)}),l.jsx("td",{className:"client-actions",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx(Ke,{onClick:()=>n(T),variant:"secondary",size:"small",className:"action-btn view-btn",children:l.jsx(To,{size:16})}),l.jsx(Ke,{onClick:()=>r(T),variant:"secondary",size:"small",className:"action-btn edit-btn",children:l.jsx(Ml,{size:16})}),l.jsx(Ke,{onClick:()=>a(T.id),variant:"secondary",size:"small",className:"action-btn delete-btn",children:l.jsx(xu,{size:16})})]})})]},T.id))})]})})]})},_u=({isOpen:t,onClose:e,title:r,children:n,size:a="medium",className:o=""})=>(H.useEffect(()=>{const c=h=>{h.key==="Escape"&&t&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:`modal-content modal-${a} ${o}`,onClick:c=>c.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{className:"modal-title",children:r}),l.jsx("button",{className:"modal-close-button",onClick:e,"aria-label":"Fechar modal",children:""})]}),l.jsx("div",{className:"modal-body",children:n})]})}):null),Xt=({label:t,value:e,onChange:r,options:n,placeholder:a="Selecione uma opo",error:o,required:c=!1,disabled:h=!1,className:m=""})=>{const f=g=>{r(g.target.value)};return l.jsxs("div",{className:`select-field ${m}`,children:[l.jsxs("label",{className:"select-field__label",children:[t,c&&l.jsx("span",{className:"select-field__required",children:"*"})]}),l.jsxs("select",{className:`select-field__select ${o?"select-field__select--error":""}`,value:e,onChange:f,disabled:h,required:c,children:[l.jsx("option",{value:"",disabled:!0,children:a}),n.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))]}),o&&l.jsx("span",{className:"select-field__error",children:o})]})},PT={name:"",cpf:"",birthDate:new Date,instagram:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},profession:"",maritalStatus:"single",phone:"",email:"",status:"active"},mM=({isOpen:t,onClose:e,onSave:r,client:n,mode:a})=>{const[o,c]=H.useState(PT),[h,m]=H.useState(!1),[f,g]=H.useState({}),x=a==="view",y=a==="edit",E=a==="create";H.useEffect(()=>{t&&(c(n&&(y||a==="view")?{name:n.name,cpf:n.cpf,birthDate:n.birthDate,instagram:n.instagram,address:{street:n.address.street,number:n.address.number,complement:n.address.complement||"",neighborhood:n.address.neighborhood,city:n.address.city,state:n.address.state,zipCode:n.address.zipCode},profession:n.profession,maritalStatus:n.maritalStatus,phone:n.phone,email:n.email,status:n.status}:PT),g({}))},[t,n,y,a]);const w=()=>{const Q={};return o.name.trim()||(Q.name="Nome  obrigatrio"),o.cpf.trim()||(Q.cpf="CPF  obrigatrio"),o.instagram.trim()||(Q.instagram="Instagram  obrigatrio"),o.birthDate||(Q.birthDate="Data de nascimento  obrigatria"),o.profession.trim()||(Q.profession="Profisso  obrigatria"),o.phone.trim()||(Q.phone="Telefone  obrigatrio"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(Q.email="Email invlido"):Q.email="Email  obrigatrio",o.address.street.trim()||(Q["address.street"]="Rua  obrigatria"),o.address.number.trim()||(Q["address.number"]="Nmero  obrigatrio"),o.address.neighborhood.trim()||(Q["address.neighborhood"]="Bairro  obrigatrio"),o.address.city.trim()||(Q["address.city"]="Cidade  obrigatria"),o.address.state.trim()||(Q["address.state"]="Estado  obrigatrio"),o.address.zipCode.trim()||(Q["address.zipCode"]="CEP  obrigatrio"),g(Q),Object.keys(Q).length===0},T=async Q=>{if(Q.preventDefault(),!x&&w())try{m(!0),E?await fo.create(o):y&&n&&await fo.update({id:n.id,...o}),r()}catch(I){g({submit:I instanceof Error?I.message:"Erro ao salvar cliente"})}finally{m(!1)}},b=(Q,I)=>{x||(c(A=>{if(Q.includes(".")){const[C,P]=Q.split(".");return C==="address"?{...A,address:{...A.address,[P]:I}}:A}return{...A,[Q]:I}}),f[Q]&&g(A=>{const C={...A};return delete C[Q],C}))},D=Q=>Q.toISOString().split("T")[0],k=Q=>Q?new Date(Q):void 0,V=[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"prospect",label:"Prospect"}],W=[{value:"single",label:"Solteiro(a)"},{value:"married",label:"Casado(a)"},{value:"divorced",label:"Divorciado(a)"},{value:"widowed",label:"Vivo(a)"},{value:"separated",label:"Separado(a)"}],z=()=>{switch(a){case"create":return"Novo Cliente";case"edit":return"Editar Cliente";case"view":return"Visualizar Cliente";default:return"Cliente"}};return l.jsx(_u,{isOpen:t,onClose:e,title:z(),size:"large",className:"client-modal",children:l.jsxs("form",{onSubmit:T,className:"client-form",children:[h&&l.jsx(Dr,{text:"Salvando cliente..."}),f.submit&&l.jsx("div",{className:"error-message",children:f.submit}),l.jsxs("div",{className:"form-sections",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informaes Bsicas"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Status",value:o.status,onChange:Q=>b("status",Q),options:V,disabled:x,error:f.status})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Cdigo",value:n?.code||"Gerado automaticamente",placeholder:"Cdigo ser gerado automaticamente",onChange:()=>{}})})]}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Nome Completo",value:o.name,onChange:Q=>b("name",Q),placeholder:"Digite o nome completo",error:f.name,required:!0})})}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"CPF",value:o.cpf,onChange:Q=>b("cpf",Q),placeholder:"000.000.000-00",error:f.cpf,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Instagram",value:o.instagram,onChange:Q=>b("instagram",Q),placeholder:"Digite o Instagram",error:f.instagram,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Data de Nascimento",type:"date",value:o.birthDate?D(o.birthDate):"",onChange:Q=>b("birthDate",k(Q)),error:f.birthDate,required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Profisso",value:o.profession,onChange:Q=>b("profession",Q),placeholder:"Digite a profisso",error:f.profession,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Estado Civil",value:o.maritalStatus,onChange:Q=>b("maritalStatus",Q),options:W,disabled:x,error:f.maritalStatus})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Telefone",value:o.phone,onChange:Q=>b("phone",Q),placeholder:"Digite o telefone",error:f.phone,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Email",type:"email",value:o.email,onChange:Q=>b("email",Q),placeholder:"Digite o email",error:f.email,required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Endereo"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"CEP",value:o.address.zipCode,onChange:Q=>b("address.zipCode",Q),placeholder:"00000-000",error:f["address.zipCode"],required:!0})}),l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Rua",value:o.address.street,onChange:Q=>b("address.street",Q),placeholder:"Digite o nome da rua",error:f["address.street"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Nmero",value:o.address.number,onChange:Q=>b("address.number",Q),placeholder:"123",error:f["address.number"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Complemento",value:o.address.complement||"",onChange:Q=>b("address.complement",Q),placeholder:"Apto, sala, etc. (opcional)",error:f["address.complement"]})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Bairro",value:o.address.neighborhood,onChange:Q=>b("address.neighborhood",Q),placeholder:"Digite o bairro",error:f["address.neighborhood"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Cidade",value:o.address.city,onChange:Q=>b("address.city",Q),placeholder:"Digite a cidade",error:f["address.city"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Estado",value:o.address.state,onChange:Q=>b("address.state",Q),placeholder:"SP",error:f["address.state"],required:!0})})]})]})]}),!x&&l.jsxs("div",{className:"form-actions",children:[l.jsx(Ke,{type:"button",variant:"secondary",onClick:e,disabled:h,children:"Cancelar"}),l.jsx(Ke,{type:"submit",disabled:h,children:h?"Salvando...":E?"Criar Cliente":"Salvar Alteraes"})]}),x&&l.jsx("div",{className:"form-actions",children:l.jsx(Ke,{type:"button",onClick:e,children:"Fechar"})})]})})},pM=({filters:t,onFiltersChange:e,onClearFilters:r,clientCount:n,totalCount:a})=>{const[o,c]=H.useState(!1),h=(x,y)=>{const E={...t,[x]:y||void 0};Object.keys(E).forEach(w=>{E[w]||delete E[w]}),e(E)},m=Object.keys(t).length>0,f=[{value:"",label:"Todos os status"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"prospect",label:"Prospect"}],g=[{value:"",label:"Todos os estados civis"},{value:"single",label:"Solteiro(a)"},{value:"married",label:"Casado(a)"},{value:"divorced",label:"Divorciado(a)"},{value:"widowed",label:"Vivo(a)"},{value:"separated",label:"Separado(a)"}];return l.jsxs("div",{className:"client-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-info",children:[l.jsx("h3",{children:"Filtros"}),l.jsx("span",{className:"results-count",children:n===a?`${a} clientes`:`${n} de ${a} clientes`})]}),l.jsxs("div",{className:"filters-actions",children:[m&&l.jsx(Ke,{onClick:r,variant:"secondary",size:"small",children:"Limpar Filtros"}),l.jsx(Ke,{onClick:()=>c(!o),variant:"secondary",size:"small",className:"toggle-filters-btn",children:o?" Ocultar":" Expandir"})]})]}),l.jsxs("div",{className:`filters-content ${o?"expanded":""}`,children:[l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Buscar",placeholder:"Nome, email, telefone, CPF, CNPJ...",value:t.search||"",onChange:x=>h("search",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Status",value:t.status||"",onChange:x=>h("status",x),options:f})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Profisso",placeholder:"Digite a profisso",value:t.profession||"",onChange:x=>h("profession",x)})})]}),o&&l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Cidade",placeholder:"Digite a cidade",value:t.city||"",onChange:x=>h("city",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Estado",placeholder:"Digite o estado",value:t.state||"",onChange:x=>h("state",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Estado Civil",value:t.maritalStatus||"",onChange:x=>h("maritalStatus",x),options:g})})]})]}),m&&l.jsxs("div",{className:"active-filters",children:[l.jsx("span",{className:"active-filters-label",children:"Filtros ativos:"}),l.jsxs("div",{className:"filter-tags",children:[t.search&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',t.search,'"',l.jsx("button",{onClick:()=>h("search",""),children:""})]}),t.status&&l.jsxs("span",{className:"filter-tag",children:["Status:"," ",f.find(x=>x.value===t.status)?.label,l.jsx("button",{onClick:()=>h("status",""),children:""})]}),t.profession&&l.jsxs("span",{className:"filter-tag",children:["Profisso: ",t.profession,l.jsx("button",{onClick:()=>h("profession",""),children:""})]}),t.city&&l.jsxs("span",{className:"filter-tag",children:["Cidade: ",t.city,l.jsx("button",{onClick:()=>h("city",""),children:""})]}),t.state&&l.jsxs("span",{className:"filter-tag",children:["Estado: ",t.state,l.jsx("button",{onClick:()=>h("state",""),children:""})]}),t.maritalStatus&&l.jsxs("span",{className:"filter-tag",children:["Estado Civil:"," ",g.find(x=>x.value===t.maritalStatus)?.label,l.jsx("button",{onClick:()=>h("maritalStatus",""),children:""})]})]})]})]})},gM=({stats:t})=>{const e=[{title:"Total de Clientes",value:t.total,icon:jn,color:"blue",description:"Total de clientes cadastrados"},{title:"Clientes Ativos",value:t.active,icon:la,color:"green",description:"Clientes com status ativo"},{title:"Prospects",value:t.prospects,icon:pl,color:"yellow",description:"Clientes em prospeco"},{title:"Inativos",value:t.inactive,icon:Md,color:"gray",description:"Clientes inativos"}];return l.jsx("div",{className:"client-stats",children:l.jsx("div",{className:"stats-grid",children:e.map(r=>{const n=r.icon;return l.jsxs("div",{className:`stat-card stat-card-${r.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(n,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:r.value}),l.jsx("div",{className:"stat-title",children:r.title}),l.jsx("div",{className:"stat-description",children:r.description})]})]},r.title)})})})},Fl=({message:t,onClose:e,type:r="error"})=>l.jsxs("div",{className:`error-message error-message-${r}`,children:[l.jsxs("div",{className:"error-content",children:[l.jsxs("span",{className:"error-icon",children:[r==="error"&&l.jsx(Z1,{size:16}),r==="warning"&&l.jsx(em,{size:16}),r==="info"&&l.jsx(ZP,{size:16})]}),l.jsx("span",{className:"error-text",children:t})]}),e&&l.jsx("button",{className:"error-close",onClick:e,children:""})]}),vM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState(null),[g,x]=H.useState("create"),[y,E]=H.useState({}),[w,T]=H.useState({total:0,active:0,inactive:0,prospects:0}),b=async()=>{try{n(!0),o(null);const N=await fo.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar clientes")}finally{n(!1)}},D=async()=>{try{const N=await fo.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N)}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.name.toLowerCase().includes(O)||L.email.toLowerCase().includes(O)||L.phone.includes(O)||L.cpf.includes(O)||L.profession.toLowerCase().includes(O))}return y.status&&(N=N.filter(O=>O.status===y.status)),y.profession&&(N=N.filter(O=>O.profession.toLowerCase().includes(y.profession.toLowerCase()))),y.maritalStatus&&(N=N.filter(O=>O.maritalStatus===y.maritalStatus)),y.city&&(N=N.filter(O=>O.address.city.toLowerCase().includes(y.city.toLowerCase()))),y.state&&(N=N.filter(O=>O.address.state.toLowerCase().includes(y.state.toLowerCase()))),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{Object.keys(y).length>0&&b()},[y]);const V=()=>{f(null),x("create"),h(!0)},W=N=>{f(N),x("edit"),h(!0)},z=N=>{f(N),x("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{await fo.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir cliente")}},I=()=>{h(!1),f(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando clientes...",fullScreen:!0}):l.jsxs("div",{className:"client-management",children:[l.jsx("div",{className:"client-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Clientes"}),l.jsx(Ke,{onClick:V,className:"create-client-btn",children:"+ Novo Cliente"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(gM,{stats:w}),l.jsxs("div",{className:"client-management-content",children:[l.jsx(pM,{filters:y,onFiltersChange:C,onClearFilters:P,clientCount:k.length,totalCount:t.length}),l.jsx(fM,{clients:k,loading:r,onEdit:W,onView:z,onDelete:Q})]}),l.jsx(mM,{isOpen:c,onClose:I,onSave:A,client:m,mode:g})]})},Ac="owners",MT=t=>{const e=t.data();if(!e)throw new Error("Document data is undefined");return{id:t.id,code:e.code||"",name:e.name||"",cpf:e.cpf||"",address:e.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},profession:e.profession||"",maritalStatus:e.maritalStatus||"single",phone:e.phone||"",bankData:e.bankData||{bank:"",agency:"",account:"",accountType:"checking"},pix:e.pix||"",commission:e.commission||0,status:e.status||"active",createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},FT=t=>{const e={...t};return"birthDate"in e&&e.birthDate&&(e.birthDate=nt.fromDate(e.birthDate)),e},gl={async getAll(t){try{let e=St(Lr(ct,Ac),mi("name","asc"));t?.status&&(e=St(e,It("status","==",t.status))),t?.city&&(e=St(e,It("address.city","==",t.city))),t?.state&&(e=St(e,It("address.state","==",t.state))),t?.bank&&(e=St(e,It("bankData.bank","==",t.bank)));let n=(await ja(e)).docs.map(MT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(a)||o.phone.includes(a)||o.cpf.includes(a)||o.pix.toLowerCase().includes(a)||o.profession.toLowerCase().includes(a))}return n}catch(e){throw console.error("Erro ao buscar proprietrios:",e),new Error("Falha ao carregar lista de proprietrios")}},async getById(t){try{const e=ar(ct,Ac,t),r=await _o(e);return r.exists()?MT(r):null}catch(e){throw console.error("Erro ao buscar proprietrio:",e),new Error("Falha ao carregar dados do proprietrio")}},async create(t){try{const e=await this.generateOwnerCode(),r={...FT(t),code:e,createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,Ac),r)).id}catch(e){throw console.error("Erro ao criar proprietrio:",e),new Error("Falha ao criar proprietrio")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,Ac,e);await Ol(n,{...FT(r),updatedAt:nt.now()})}catch(e){throw console.error("Erro ao atualizar proprietrio:",e),new Error("Falha ao atualizar proprietrio")}},async delete(t){try{const e=ar(ct,Ac,t);await fu(e)}catch(e){throw console.error("Erro ao deletar proprietrio:",e),new Error("Falha ao deletar proprietrio")}},async checkCpfExists(t,e){try{const r=St(Lr(ct,Ac),It("cpf","==",t)),n=await ja(r);return e?n.docs.some(a=>a.id!==e):!n.empty}catch(r){return console.error("Erro ao verificar CPF:",r),!1}},async generateOwnerCode(){try{const e=(await this.getAll()).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())[0];return!e||!e.code?"PRO001":`PRO${(parseInt(e.code.replace("PRO",""))+1).toString().padStart(3,"0")}`}catch(t){return console.error("Erro ao gerar cdigo:",t),"PRO001"}},async getStats(){try{const t=await this.getAll();return{total:t.length,active:t.filter(e=>e.status==="active").length,inactive:t.filter(e=>e.status==="inactive").length,suspended:t.filter(e=>e.status==="suspended").length}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}}},xM=({owners:t,loading:e,onEdit:r,onView:n,onDelete:a})=>{const[o,c]=H.useState("name"),[h,m]=H.useState("asc"),f=k=>{o===k?m(h==="asc"?"desc":"asc"):(c(k),m("asc"))},g=[...t].sort((k,V)=>{let W=k[o],z=V[o];return o==="address"&&(W=k.address.city,z=V.address.city),o==="bankData"&&(W=k.bankData.bank,z=V.bankData.bank),W instanceof Date&&z instanceof Date?h==="asc"?W.getTime()-z.getTime():z.getTime()-W.getTime():typeof W=="number"&&typeof z=="number"?h==="asc"?W-z:z-W:typeof W=="string"&&typeof z=="string"?h==="asc"?W.localeCompare(z):z.localeCompare(W):0}),x=k=>new Intl.DateTimeFormat("pt-BR").format(k),y=k=>{const V=k.replace(/\D/g,"");return V.length===11?`(${V.slice(0,2)}) ${V.slice(2,7)}-${V.slice(7)}`:V.length===10?`(${V.slice(0,2)}) ${V.slice(2,6)}-${V.slice(6)}`:k},E=k=>{const V=k.replace(/\D/g,"");return V.length===11?`${V.slice(0,3)}.${V.slice(3,6)}.${V.slice(6,9)}-${V.slice(9)}`:k},w=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),T=k=>{const W={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},suspended:{label:"Suspenso",class:"status-suspended"}}[k]||{label:k,class:"status-default"};return l.jsx("span",{className:`status-badge ${W.class}`,children:W.label})},b=k=>({checking:"Conta Corrente",savings:"Poupana",business:"Empresarial"})[k]||k,D=({field:k,children:V})=>l.jsxs("button",{className:`sort-button ${o===k?"active":""}`,onClick:()=>f(k),children:[V,o===k&&l.jsx("span",{className:"sort-indicator",children:h==="asc"?"":""})]});return e?l.jsx("div",{className:"owner-list-loading",children:l.jsx(Dr,{text:"Carregando proprietrios..."})}):t.length===0?l.jsx("div",{className:"owner-list-empty",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(wo,{size:48})}),l.jsx("h3",{children:"Nenhum proprietrio encontrado"}),l.jsx("p",{children:"No h proprietrios cadastrados ou que correspondam aos filtros aplicados."})]})}):l.jsxs("div",{className:"owner-list",children:[l.jsx("div",{className:"owner-list-header",children:l.jsxs("h3",{children:["Lista de Proprietrios (",t.length,")"]})}),l.jsx("div",{className:"owner-table-container",children:l.jsxs("table",{className:"owner-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(D,{field:"name",children:"Nome"})}),l.jsx("th",{children:l.jsx(D,{field:"phone",children:"Contato"})}),l.jsx("th",{children:l.jsx(D,{field:"profession",children:"Profisso"})}),l.jsx("th",{children:l.jsx(D,{field:"status",children:"Status"})}),l.jsx("th",{children:l.jsx(D,{field:"address",children:"Cidade"})}),l.jsx("th",{children:l.jsx(D,{field:"commission",children:"Comisso"})}),l.jsx("th",{children:l.jsx(D,{field:"bankData",children:"Banco"})}),l.jsx("th",{children:l.jsx(D,{field:"createdAt",children:"Data Cadastro"})}),l.jsx("th",{className:"actions-column",children:"Aes"})]})}),l.jsx("tbody",{children:g.map(k=>l.jsxs("tr",{className:"owner-row",children:[l.jsx("td",{className:"owner-name",children:l.jsxs("div",{className:"name-info",children:[l.jsx("span",{className:"name",children:k.name}),l.jsxs("span",{className:"code",children:["Cdigo: ",k.code]})]})}),l.jsx("td",{className:"owner-contact",children:l.jsxs("div",{className:"contact-info",children:[l.jsx("span",{className:"phone",children:y(k.phone)}),l.jsxs("span",{className:"cpf",children:["CPF: ",E(k.cpf)]})]})}),l.jsx("td",{className:"owner-profession",children:l.jsx("span",{className:"profession",children:k.profession})}),l.jsx("td",{className:"owner-status",children:T(k.status)}),l.jsx("td",{className:"owner-location",children:l.jsxs("div",{className:"location-info",children:[l.jsx("span",{className:"city",children:k.address.city}),l.jsx("span",{className:"state",children:k.address.state})]})}),l.jsx("td",{className:"owner-commission",children:l.jsxs("div",{className:"commission-info",children:[l.jsx("span",{className:"commission-value",children:w(k.commission)}),l.jsx("span",{className:"commission-label",children:"por venda"})]})}),l.jsx("td",{className:"owner-bank",children:l.jsxs("div",{className:"bank-info",children:[l.jsx("span",{className:"bank-name",children:k.bankData.bank}),l.jsx("span",{className:"account-type",children:b(k.bankData.accountType)})]})}),l.jsx("td",{className:"owner-date",children:x(k.createdAt)}),l.jsx("td",{className:"owner-actions",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx(Ke,{onClick:()=>n(k),variant:"secondary",size:"small",className:"action-btn view-btn",children:l.jsx(To,{size:16})}),l.jsx(Ke,{onClick:()=>r(k),variant:"secondary",size:"small",className:"action-btn edit-btn",children:l.jsx(Ml,{size:16})}),l.jsx(Ke,{onClick:()=>a(k.id),variant:"secondary",size:"small",className:"action-btn delete-btn",children:l.jsx(xu,{size:16})})]})})]},k.id))})]})})]})},LT={name:"",cpf:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},profession:"",maritalStatus:"single",phone:"",bankData:{bank:"",agency:"",account:"",accountType:"checking"},pix:"",commission:0,status:"active"},yM=({isOpen:t,onClose:e,onSave:r,owner:n,mode:a})=>{const[o,c]=H.useState(LT),[h,m]=H.useState(!1),[f,g]=H.useState({}),x=a==="view",y=a==="edit",E=a==="create";H.useEffect(()=>{t&&(c(n&&(y||a==="view")?{name:n.name,cpf:n.cpf,address:{street:n.address.street,number:n.address.number,complement:n.address.complement||"",neighborhood:n.address.neighborhood,city:n.address.city,state:n.address.state,zipCode:n.address.zipCode},profession:n.profession,maritalStatus:n.maritalStatus,phone:n.phone,bankData:{bank:n.bankData.bank,agency:n.bankData.agency,account:n.bankData.account,accountType:n.bankData.accountType},pix:n.pix,commission:n.commission,status:n.status}:LT),g({}))},[t,n,y,a]);const w=()=>{const z={};return o.name.trim()||(z.name="Nome  obrigatrio"),o.cpf.trim()||(z.cpf="CPF  obrigatrio"),o.profession.trim()||(z.profession="Profisso  obrigatria"),o.phone.trim()||(z.phone="Telefone  obrigatrio"),o.pix.trim()||(z.pix="PIX  obrigatrio"),o.commission<=0&&(z.commission="Comisso deve ser maior que zero"),o.address.street.trim()||(z["address.street"]="Rua  obrigatria"),o.address.number.trim()||(z["address.number"]="Nmero  obrigatrio"),o.address.neighborhood.trim()||(z["address.neighborhood"]="Bairro  obrigatrio"),o.address.city.trim()||(z["address.city"]="Cidade  obrigatria"),o.address.state.trim()||(z["address.state"]="Estado  obrigatrio"),o.address.zipCode.trim()||(z["address.zipCode"]="CEP  obrigatrio"),o.bankData.bank.trim()||(z["bankData.bank"]="Banco  obrigatrio"),o.bankData.agency.trim()||(z["bankData.agency"]="Agncia  obrigatria"),o.bankData.account.trim()||(z["bankData.account"]="Conta  obrigatria"),g(z),Object.keys(z).length===0},T=async z=>{if(z.preventDefault(),!x&&w())try{m(!0),E?await gl.create(o):y&&n&&await gl.update({id:n.id,...o}),r()}catch(Q){g({submit:Q instanceof Error?Q.message:"Erro ao salvar proprietrio"})}finally{m(!1)}},b=(z,Q)=>{x||(c(I=>{if(z.includes(".")){const[A,C]=z.split(".");return A==="address"?{...I,address:{...I.address,[C]:Q}}:A==="bankData"?{...I,bankData:{...I.bankData,[C]:Q}}:I}return{...I,[z]:Q}}),f[z]&&g(I=>{const A={...I};return delete A[z],A}))},D=[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}],k=[{value:"single",label:"Solteiro(a)"},{value:"married",label:"Casado(a)"},{value:"divorced",label:"Divorciado(a)"},{value:"widowed",label:"Vivo(a)"},{value:"separated",label:"Separado(a)"}],V=[{value:"checking",label:"Conta Corrente"},{value:"savings",label:"Poupana"},{value:"business",label:"Conta Empresarial"}],W=()=>{switch(a){case"create":return"Novo Proprietrio";case"edit":return"Editar Proprietrio";case"view":return"Visualizar Proprietrio";default:return"Proprietrio"}};return l.jsx(_u,{isOpen:t,onClose:e,title:W(),size:"large",className:"owner-modal",children:l.jsxs("form",{onSubmit:T,className:"owner-form",children:[h&&l.jsx(Dr,{text:"Salvando proprietrio..."}),f.submit&&l.jsx("div",{className:"error-message",children:f.submit}),l.jsxs("div",{className:"form-sections",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informaes Bsicas"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Status",value:o.status,onChange:z=>b("status",z),options:D,disabled:x,error:f.status})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Cdigo",value:n?.code||"Gerado automaticamente",placeholder:"Cdigo ser gerado automaticamente",onChange:()=>{}})})]}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Nome Completo",value:o.name,onChange:z=>b("name",z),placeholder:"Digite o nome completo",error:f.name,required:!0})})}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"CPF",value:o.cpf,onChange:z=>b("cpf",z),placeholder:"000.000.000-00",error:f.cpf,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Profisso",value:o.profession,onChange:z=>b("profession",z),placeholder:"Digite a profisso",error:f.profession,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Estado Civil",value:o.maritalStatus,onChange:z=>b("maritalStatus",z),options:k,disabled:x,error:f.maritalStatus})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Telefone",value:o.phone,onChange:z=>b("phone",z),placeholder:"Digite o telefone",error:f.phone,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"PIX",value:o.pix,onChange:z=>b("pix",z),placeholder:"Digite a chave PIX",error:f.pix,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Comisso (R$)",type:"number",value:o.commission.toString(),onChange:z=>b("commission",parseFloat(z)||0),placeholder:"0.00",error:f.commission,required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Endereo"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"CEP",value:o.address.zipCode,onChange:z=>b("address.zipCode",z),placeholder:"00000-000",error:f["address.zipCode"],required:!0})}),l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Rua",value:o.address.street,onChange:z=>b("address.street",z),placeholder:"Digite o nome da rua",error:f["address.street"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Nmero",value:o.address.number,onChange:z=>b("address.number",z),placeholder:"123",error:f["address.number"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Complemento",value:o.address.complement||"",onChange:z=>b("address.complement",z),placeholder:"Apto, sala, etc. (opcional)",error:f["address.complement"]})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Bairro",value:o.address.neighborhood,onChange:z=>b("address.neighborhood",z),placeholder:"Digite o bairro",error:f["address.neighborhood"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Cidade",value:o.address.city,onChange:z=>b("address.city",z),placeholder:"Digite a cidade",error:f["address.city"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Estado",value:o.address.state,onChange:z=>b("address.state",z),placeholder:"SP",error:f["address.state"],required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Dados Bancrios"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Banco",value:o.bankData.bank,onChange:z=>b("bankData.bank",z),placeholder:"Nome do banco",error:f["bankData.bank"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Agncia",value:o.bankData.agency,onChange:z=>b("bankData.agency",z),placeholder:"0000",error:f["bankData.agency"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Conta",value:o.bankData.account,onChange:z=>b("bankData.account",z),placeholder:"00000-0",error:f["bankData.account"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Tipo de Conta",value:o.bankData.accountType,onChange:z=>b("bankData.accountType",z),options:V,disabled:x,error:f["bankData.accountType"]})})]})]})]}),!x&&l.jsxs("div",{className:"form-actions",children:[l.jsx(Ke,{type:"button",variant:"secondary",onClick:e,disabled:h,children:"Cancelar"}),l.jsx(Ke,{type:"submit",disabled:h,children:h?"Salvando...":E?"Criar Proprietrio":"Salvar Alteraes"})]}),x&&l.jsx("div",{className:"form-actions",children:l.jsx(Ke,{type:"button",onClick:e,children:"Fechar"})})]})})},_M=({filters:t,onFiltersChange:e,onClearFilters:r,ownerCount:n,totalCount:a})=>{const[o,c]=H.useState(!1),h=(x,y)=>{const E={...t,[x]:y||void 0};Object.keys(E).forEach(w=>{E[w]||delete E[w]}),e(E)},m=Object.keys(t).length>0,f=[{value:"",label:"Todos os status"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}],g=[{value:"",label:"Todos os estados civis"},{value:"single",label:"Solteiro(a)"},{value:"married",label:"Casado(a)"},{value:"divorced",label:"Divorciado(a)"},{value:"widowed",label:"Vivo(a)"}];return l.jsxs("div",{className:"owner-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-info",children:[l.jsx("h3",{children:"Filtros"}),l.jsx("span",{className:"results-count",children:n===a?`${a} proprietrios`:`${n} de ${a} proprietrios`})]}),l.jsxs("div",{className:"filters-actions",children:[m&&l.jsx(Ke,{onClick:r,variant:"secondary",size:"small",children:"Limpar filtros"}),l.jsx(Ke,{onClick:()=>c(!o),variant:"secondary",size:"small",children:o?" Ocultar":" Expandir"})]})]}),l.jsxs("div",{className:`filters-content ${o?"expanded":""}`,children:[l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Buscar",placeholder:"Nome, CPF, telefone, banco...",value:t.search||"",onChange:x=>h("search",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Status",value:t.status||"",onChange:x=>h("status",x),options:f})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Profisso",placeholder:"Digite a profisso",value:t.profession||"",onChange:x=>h("profession",x)})})]}),o&&l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Cidade",placeholder:"Digite a cidade",value:t.city||"",onChange:x=>h("city",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Estado",placeholder:"Digite o estado",value:t.state||"",onChange:x=>h("state",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Estado Civil",value:t.maritalStatus||"",onChange:x=>h("maritalStatus",x),options:g})})]}),o&&l.jsx("div",{className:"filters-row",children:l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Banco",placeholder:"Digite o banco",value:t.bank||"",onChange:x=>h("bank",x)})})})]}),m&&l.jsxs("div",{className:"active-filters",children:[l.jsx("span",{className:"active-filters-label",children:"Filtros ativos:"}),l.jsxs("div",{className:"filter-tags",children:[t.search&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',t.search,'"',l.jsx("button",{onClick:()=>h("search",""),children:""})]}),t.status&&l.jsxs("span",{className:"filter-tag",children:["Status:"," ",f.find(x=>x.value===t.status)?.label,l.jsx("button",{onClick:()=>h("status",""),children:""})]}),t.profession&&l.jsxs("span",{className:"filter-tag",children:["Profisso: ",t.profession,l.jsx("button",{onClick:()=>h("profession",""),children:""})]}),t.city&&l.jsxs("span",{className:"filter-tag",children:["Cidade: ",t.city,l.jsx("button",{onClick:()=>h("city",""),children:""})]}),t.state&&l.jsxs("span",{className:"filter-tag",children:["Estado: ",t.state,l.jsx("button",{onClick:()=>h("state",""),children:""})]}),t.maritalStatus&&l.jsxs("span",{className:"filter-tag",children:["Estado Civil:"," ",g.find(x=>x.value===t.maritalStatus)?.label,l.jsx("button",{onClick:()=>h("maritalStatus",""),children:""})]}),t.bank&&l.jsxs("span",{className:"filter-tag",children:["Banco: ",t.bank,l.jsx("button",{onClick:()=>h("bank",""),children:""})]})]})]})]})},EM=({stats:t})=>{const e=[{title:"Total de Proprietrios",value:t.total,icon:jn,color:"blue",description:"Total de proprietrios cadastrados"},{title:"Proprietrios Ativos",value:t.active,icon:la,color:"green",description:"Total de proprietrios ativos"},{title:"Suspensos",value:t.suspended,icon:pl,color:"yellow",description:"Total de proprietrios suspensos"},{title:"Inativos",value:t.inactive,icon:Md,color:"red",description:"Total de proprietrios inativos"}];return l.jsx("div",{className:"owner-stats",children:l.jsx("div",{className:"stats-grid",children:e.map(r=>{const n=r.icon;return l.jsxs("div",{className:`stat-card stat-card-${r.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(n,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:r.value}),l.jsx("div",{className:"stat-title",children:r.title}),l.jsx("div",{className:"stat-description",children:r.description})]})]},r.title)})})})},TM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState(null),[g,x]=H.useState("create"),[y,E]=H.useState({}),[w,T]=H.useState({total:0,active:0,inactive:0,suspended:0}),b=async()=>{try{n(!0),o(null);const N=await gl.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar proprietrios")}finally{n(!1)}},D=async()=>{try{const N=await gl.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N)}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.name.toLowerCase().includes(O)||L.cpf.includes(O)||L.phone.includes(O)||L.bankData.bank.toLowerCase().includes(O)||L.profession.toLowerCase().includes(O))}return y.status&&(N=N.filter(O=>O.status===y.status)),y.profession&&(N=N.filter(O=>O.profession.toLowerCase().includes(y.profession.toLowerCase()))),y.maritalStatus&&(N=N.filter(O=>O.maritalStatus===y.maritalStatus)),y.city&&(N=N.filter(O=>O.address.city.toLowerCase().includes(y.city.toLowerCase()))),y.state&&(N=N.filter(O=>O.address.state.toLowerCase().includes(y.state.toLowerCase()))),y.bank&&(N=N.filter(O=>O.bankData.bank.toLowerCase().includes(y.bank.toLowerCase()))),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{Object.keys(y).length>0&&b()},[y]);const V=()=>{f(null),x("create"),h(!0)},W=N=>{f(N),x("edit"),h(!0)},z=N=>{f(N),x("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir este proprietrio?"))try{await gl.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir proprietrio")}},I=()=>{h(!1),f(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando proprietrios...",fullScreen:!0}):l.jsxs("div",{className:"owner-management",children:[l.jsx("div",{className:"owner-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Proprietrios"}),l.jsx(Ke,{onClick:V,className:"create-owner-btn",children:"+ Novo Proprietrio"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(EM,{stats:w}),l.jsxs("div",{className:"owner-management-content",children:[l.jsx(_M,{filters:y,onFiltersChange:C,onClearFilters:P,ownerCount:k.length,totalCount:t.length}),l.jsx(xM,{owners:k,loading:r,onEdit:W,onView:z,onDelete:Q})]}),l.jsx(yM,{isOpen:c,onClose:I,onSave:A,onDelete:()=>Q(m?.id||""),owner:m||void 0,mode:g})]})},Cc="suppliers",VT=t=>{const e=t.data();if(!e)throw new Error("Document data is undefined");return{id:t.id,code:e.code||"",establishmentName:e.establishmentName||"",serviceType:e.serviceType||"",bankData:e.bankData||{bank:"",agency:"",account:"",accountType:"checking"},pix:e.pix||"",commissionPercentage:e.commissionPercentage||0,status:e.status||"active",createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},BT=t=>({...t}),Yh={async getAll(t){try{let e=St(Lr(ct,Cc),mi("establishmentName"));t?.status&&(e=St(e,It("status","==",t.status))),t?.serviceType&&(e=St(e,It("serviceType","==",t.serviceType))),t?.bank&&(e=St(e,It("bankData.bank","==",t.bank)));let n=(await ja(e)).docs.map(VT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.establishmentName.toLowerCase().includes(a)||o.serviceType.toLowerCase().includes(a)||o.bankData.bank.toLowerCase().includes(a))}return n}catch(e){throw console.error("Erro ao buscar fornecedores:",e),new Error("Falha ao carregar lista de fornecedores")}},async getById(t){try{const e=ar(ct,Cc,t),r=await _o(e);return r.exists()?VT(r):null}catch(e){throw console.error("Erro ao buscar fornecedor:",e),new Error("Falha ao carregar dados do fornecedor")}},async create(t){try{const e=await this.generateSupplierCode(),r={...BT(t),code:e,createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,Cc),r)).id}catch(e){throw console.error("Erro ao criar fornecedor:",e),new Error("Falha ao criar fornecedor")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,Cc,e),a={...BT(r),updatedAt:nt.now()};await Ol(n,a)}catch(e){throw console.error("Erro ao atualizar fornecedor:",e),new Error("Falha ao atualizar fornecedor")}},async delete(t){try{const e=ar(ct,Cc,t);await fu(e)}catch(e){throw console.error("Erro ao deletar fornecedor:",e),new Error("Falha ao deletar fornecedor")}},async searchByName(t,e=10){try{return(await this.getAll()).filter(a=>a.establishmentName.toLowerCase().includes(t.toLowerCase())).slice(0,e)}catch(r){throw console.error("Erro ao buscar fornecedores por nome:",r),new Error("Falha na busca de fornecedores")}},async pixExists(t,e){try{const r=St(Lr(ct,Cc),It("pix","==",t)),n=await ja(r);return e?n.docs.some(a=>a.id!==e):!n.empty}catch(r){return console.error("Erro ao verificar PIX:",r),!1}},async generateSupplierCode(){try{const e=(await this.getAll()).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())[0];return!e||!e.code?"FOR001":`FOR${(parseInt(e.code.replace("FOR",""))+1).toString().padStart(3,"0")}`}catch(t){return console.error("Erro ao gerar cdigo:",t),"FOR001"}},async getStats(){try{const t=await this.getAll();return{total:t.length,active:t.filter(e=>e.status==="active").length,inactive:t.filter(e=>e.status==="inactive").length,suspended:t.filter(e=>e.status==="suspended").length}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}}},wM=({suppliers:t,loading:e,onEdit:r,onView:n,onDelete:a})=>{const[o,c]=H.useState("establishmentName"),[h,m]=H.useState("asc"),f=D=>{o===D?m(h==="asc"?"desc":"asc"):(c(D),m("asc"))},g=[...t].sort((D,k)=>{let V=D[o],W=k[o];return o==="bankData"&&(V=D.bankData.bank,W=k.bankData.bank),V instanceof Date&&W instanceof Date?h==="asc"?V.getTime()-W.getTime():W.getTime()-V.getTime():typeof V=="number"&&typeof W=="number"?h==="asc"?V-W:W-V:typeof V=="string"&&typeof W=="string"?h==="asc"?V.localeCompare(W):W.localeCompare(V):0}),x=D=>new Intl.DateTimeFormat("pt-BR").format(D),y=D=>`${D}%`,E=D=>{const V={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},suspended:{label:"Suspenso",class:"status-suspended"}}[D]||{label:D,class:"status-default"};return l.jsx("span",{className:`status-badge ${V.class}`,children:V.label})},w=D=>({catering:"Buffet/Catering",decoration:"Decorao",photography:"Fotografia",music:"Msica/Som",transport:"Transporte",cleaning:"Limpeza",security:"Segurana",flowers:"Flores",other:"Outros"})[D]||D,T=D=>({checking:"Conta Corrente",savings:"Poupana",business:"Empresarial"})[D]||D,b=({field:D,children:k})=>l.jsxs("button",{className:`sort-button ${o===D?"active":""}`,onClick:()=>f(D),children:[k,o===D&&l.jsx("span",{className:"sort-indicator",children:h==="asc"?"":""})]});return e?l.jsx("div",{className:"supplier-list-loading",children:l.jsx(Dr,{text:"Carregando fornecedores..."})}):t.length===0?l.jsx("div",{className:"supplier-list-empty",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(wo,{size:48})}),l.jsx("h3",{children:"Nenhum fornecedor encontrado"}),l.jsx("p",{children:"No h fornecedores cadastrados ou que correspondam aos filtros aplicados."})]})}):l.jsxs("div",{className:"supplier-list",children:[l.jsx("div",{className:"supplier-list-header",children:l.jsxs("h3",{children:["Lista de Fornecedores (",t.length,")"]})}),l.jsx("div",{className:"supplier-table-container",children:l.jsxs("table",{className:"supplier-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(b,{field:"establishmentName",children:"Nome do Estabelecimento"})}),l.jsx("th",{children:l.jsx(b,{field:"serviceType",children:"Tipo de Servio"})}),l.jsx("th",{children:l.jsx(b,{field:"status",children:"Status"})}),l.jsx("th",{children:l.jsx(b,{field:"commissionPercentage",children:"Comisso"})}),l.jsx("th",{children:l.jsx(b,{field:"bankData",children:"Banco"})}),l.jsx("th",{children:l.jsx(b,{field:"createdAt",children:"Data Cadastro"})}),l.jsx("th",{className:"actions-column",children:"Aes"})]})}),l.jsx("tbody",{children:g.map(D=>l.jsxs("tr",{className:"supplier-row",children:[l.jsx("td",{className:"supplier-name",children:l.jsxs("div",{className:"name-info",children:[l.jsx("span",{className:"name",children:D.establishmentName}),l.jsxs("span",{className:"code",children:["Cdigo: ",D.code]})]})}),l.jsx("td",{className:"supplier-service",children:l.jsx("span",{className:"service-type",children:w(D.serviceType)})}),l.jsx("td",{className:"supplier-status",children:E(D.status)}),l.jsx("td",{className:"supplier-commission",children:l.jsxs("div",{className:"commission-info",children:[l.jsx("span",{className:"commission-value",children:y(D.commissionPercentage)}),l.jsx("span",{className:"commission-label",children:"comisso"})]})}),l.jsx("td",{className:"supplier-bank",children:l.jsxs("div",{className:"bank-info",children:[l.jsx("span",{className:"bank-name",children:D.bankData.bank}),l.jsx("span",{className:"account-type",children:T(D.bankData.accountType)})]})}),l.jsx("td",{className:"supplier-date",children:x(D.createdAt)}),l.jsx("td",{className:"supplier-actions",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx(Ke,{onClick:()=>n(D),variant:"secondary",size:"small",className:"action-btn view-btn",children:l.jsx(To,{size:16})}),l.jsx(Ke,{onClick:()=>r(D),variant:"secondary",size:"small",className:"action-btn edit-btn",children:l.jsx(Ml,{size:16})}),l.jsx(Ke,{onClick:()=>a(D.id),variant:"secondary",size:"small",className:"action-btn delete-btn",children:l.jsx(xu,{size:16})})]})})]},D.id))})]})})]})},UT={establishmentName:"",serviceType:"",bankData:{bank:"",agency:"",account:"",accountType:"checking"},pix:"",commissionPercentage:0,status:"active"},SM=({isOpen:t,onClose:e,onSave:r,supplier:n,mode:a})=>{const[o,c]=H.useState(UT),[h,m]=H.useState(!1),[f,g]=H.useState({}),x=a==="view",y=a==="edit",E=a==="create";H.useEffect(()=>{t&&(c(n&&(y||a==="view")?{establishmentName:n.establishmentName,serviceType:n.serviceType,bankData:{bank:n.bankData.bank,agency:n.bankData.agency,account:n.bankData.account,accountType:n.bankData.accountType},pix:n.pix,commissionPercentage:n.commissionPercentage,status:n.status}:UT),g({}))},[t,n,y,a]);const w=()=>{const z={};return o.establishmentName.trim()||(z.establishmentName="Nome do estabelecimento  obrigatrio"),o.serviceType.trim()||(z.serviceType="Tipo de servio  obrigatrio"),o.pix.trim()||(z.pix="PIX  obrigatrio"),o.commissionPercentage<=0&&(z.commissionPercentage="Percentual de comisso deve ser maior que zero"),o.commissionPercentage>100&&(z.commissionPercentage="Percentual de comisso no pode ser maior que 100%"),o.bankData.bank.trim()||(z["bankData.bank"]="Banco  obrigatrio"),o.bankData.agency.trim()||(z["bankData.agency"]="Agncia  obrigatria"),o.bankData.account.trim()||(z["bankData.account"]="Conta  obrigatria"),g(z),Object.keys(z).length===0},T=async z=>{if(z.preventDefault(),!x&&w())try{m(!0),E?await Yh.create(o):y&&n&&await Yh.update({id:n.id,...o}),r()}catch(Q){g({submit:Q instanceof Error?Q.message:"Erro ao salvar fornecedor"})}finally{m(!1)}},b=(z,Q)=>{x||(c(I=>{if(z.includes(".")){const[A,C]=z.split(".");return A==="bankData"?{...I,bankData:{...I.bankData,[C]:Q}}:I}return{...I,[z]:Q}}),f[z]&&g(I=>{const A={...I};return delete A[z],A}))},D=[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}],k=[{value:"catering",label:"Buffet/Catering"},{value:"decoration",label:"Decorao"},{value:"photography",label:"Fotografia"},{value:"music",label:"Msica/Som"},{value:"transport",label:"Transporte"},{value:"cleaning",label:"Limpeza"},{value:"security",label:"Segurana"},{value:"flowers",label:"Flores"},{value:"other",label:"Outros"}],V=[{value:"checking",label:"Conta Corrente"},{value:"savings",label:"Poupana"},{value:"business",label:"Conta Empresarial"}],W=()=>{switch(a){case"create":return"Novo Fornecedor";case"edit":return"Editar Fornecedor";case"view":return"Visualizar Fornecedor";default:return"Fornecedor"}};return l.jsx(_u,{isOpen:t,onClose:e,title:W(),size:"large",className:"supplier-modal",children:l.jsxs("form",{onSubmit:T,className:"supplier-form",children:[h&&l.jsx(Dr,{text:"Salvando fornecedor..."}),f.submit&&l.jsx("div",{className:"error-message",children:f.submit}),l.jsxs("div",{className:"form-sections",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informaes Bsicas"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Status",value:o.status,onChange:z=>b("status",z),options:D,disabled:x,error:f.status})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Cdigo",value:n?.code||"Gerado automaticamente",placeholder:"Cdigo ser gerado automaticamente",onChange:()=>{}})})]}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Nome do Estabelecimento",value:o.establishmentName,onChange:z=>b("establishmentName",z),placeholder:"Digite o nome do estabelecimento",error:f.establishmentName,required:!0})})}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Tipo de Servio",value:o.serviceType,onChange:z=>b("serviceType",z),options:k,disabled:x,error:f.serviceType,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"PIX",value:o.pix,onChange:z=>b("pix",z),placeholder:"Digite a chave PIX",error:f.pix,required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Percentual de Comisso (%)",type:"number",value:o.commissionPercentage.toString(),onChange:z=>b("commissionPercentage",parseFloat(z)||0),placeholder:"0.00",min:0,max:100,step:.01,error:f.commissionPercentage,required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Dados Bancrios"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Banco",value:o.bankData.bank,onChange:z=>b("bankData.bank",z),placeholder:"Nome do banco",error:f["bankData.bank"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Agncia",value:o.bankData.agency,onChange:z=>b("bankData.agency",z),placeholder:"0000",error:f["bankData.agency"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Conta",value:o.bankData.account,onChange:z=>b("bankData.account",z),placeholder:"00000-0",error:f["bankData.account"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Tipo de Conta",value:o.bankData.accountType,onChange:z=>b("bankData.accountType",z),options:V,disabled:x,error:f["bankData.accountType"]})})]})]})]}),!x&&l.jsxs("div",{className:"form-actions",children:[l.jsx(Ke,{type:"button",variant:"secondary",onClick:e,disabled:h,children:"Cancelar"}),l.jsx(Ke,{type:"submit",disabled:h,children:h?"Salvando...":E?"Criar Fornecedor":"Salvar Alteraes"})]}),x&&l.jsx("div",{className:"form-actions",children:l.jsx(Ke,{type:"button",onClick:e,children:"Fechar"})})]})})},bM=({filters:t,onFiltersChange:e,onClearFilters:r,supplierCount:n,totalCount:a})=>{const[o,c]=H.useState(!1),h=(x,y)=>{const E={...t,[x]:y||void 0};Object.keys(E).forEach(w=>{E[w]||delete E[w]}),e(E)},m=Object.keys(t).length>0,f=[{value:"",label:"Todos os status"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}],g=[{value:"",label:"Todos os tipos de servio"},{value:"catering",label:"Buffet/Catering"},{value:"decoration",label:"Decorao"},{value:"photography",label:"Fotografia"},{value:"music",label:"Msica/Som"},{value:"transport",label:"Transporte"},{value:"cleaning",label:"Limpeza"},{value:"security",label:"Segurana"},{value:"flowers",label:"Flores"},{value:"other",label:"Outros"}];return l.jsxs("div",{className:"supplier-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-info",children:[l.jsx("h3",{children:"Filtros"}),l.jsx("span",{className:"results-count",children:n===a?`${a} fornecedores`:`${n} de ${a} fornecedores`})]}),l.jsxs("div",{className:"filters-actions",children:[m&&l.jsx(Ke,{onClick:r,variant:"secondary",size:"small",children:"Limpar Filtros"}),l.jsx(Ke,{onClick:()=>c(!o),variant:"secondary",size:"small",className:"toggle-filters-btn",children:o?" Ocultar":" Expandir"})]})]}),l.jsxs("div",{className:`filters-content ${o?"expanded":""}`,children:[l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Buscar",placeholder:"Nome, tipo de servio, banco...",value:t.search||"",onChange:x=>h("search",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Status",value:t.status||"",onChange:x=>h("status",x),options:f})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Tipo de Servio",value:t.serviceType||"",onChange:x=>h("serviceType",x),options:g})})]}),o&&l.jsx("div",{className:"filters-row",children:l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Banco",placeholder:"Digite o banco",value:t.bank||"",onChange:x=>h("bank",x)})})})]}),m&&l.jsxs("div",{className:"active-filters",children:[l.jsx("span",{className:"active-filters-label",children:"Filtros ativos:"}),l.jsxs("div",{className:"filter-tags",children:[t.search&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',t.search,'"',l.jsx("button",{onClick:()=>h("search",""),children:""})]}),t.status&&l.jsxs("span",{className:"filter-tag",children:["Status:"," ",f.find(x=>x.value===t.status)?.label,l.jsx("button",{onClick:()=>h("status",""),children:""})]}),t.serviceType&&l.jsxs("span",{className:"filter-tag",children:["Tipo:"," ",g.find(x=>x.value===t.serviceType)?.label,l.jsx("button",{onClick:()=>h("serviceType",""),children:""})]}),t.bank&&l.jsxs("span",{className:"filter-tag",children:["Banco: ",t.bank,l.jsx("button",{onClick:()=>h("bank",""),children:""})]})]})]})]})},NM=({stats:t})=>{const e=[{title:"Total de Fornecedores",value:t.total,icon:oM,color:"blue",description:"Total de fornecedores cadastrados"},{title:"Fornecedores Ativos",value:t.active,icon:la,color:"green",description:"Fornecedores com status ativo"},{title:"Suspensos",value:t.suspended,icon:zm,color:"yellow",description:"Fornecedores suspensos"},{title:"Inativos",value:t.inactive,icon:Md,color:"gray",description:"Fornecedores inativos"}];return l.jsx("div",{className:"supplier-stats",children:l.jsx("div",{className:"stats-grid",children:e.map(r=>{const n=r.icon;return l.jsxs("div",{className:`stat-card stat-card-${r.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(n,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:r.value}),l.jsx("div",{className:"stat-title",children:r.title}),l.jsx("div",{className:"stat-description",children:r.description})]})]},r.title)})})})},AM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState(null),[g,x]=H.useState("create"),[y,E]=H.useState({}),[w,T]=H.useState({total:0,active:0,inactive:0,suspended:0}),b=async()=>{try{n(!0),o(null);const N=await Yh.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar fornecedores")}finally{n(!1)}},D=async()=>{try{const N=await Yh.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N)}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.establishmentName.toLowerCase().includes(O)||L.serviceType.toLowerCase().includes(O)||L.bankData.bank.toLowerCase().includes(O))}return y.status&&(N=N.filter(O=>O.status===y.status)),y.serviceType&&(N=N.filter(O=>O.serviceType===y.serviceType)),y.bank&&(N=N.filter(O=>O.bankData.bank.toLowerCase().includes(y.bank.toLowerCase()))),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{Object.keys(y).length>0&&b()},[y]);const V=()=>{f(null),x("create"),h(!0)},W=N=>{f(N),x("edit"),h(!0)},z=N=>{f(N),x("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir este fornecedor?"))try{await Yh.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir fornecedor")}},I=()=>{h(!1),f(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando fornecedores...",fullScreen:!0}):l.jsxs("div",{className:"supplier-management",children:[l.jsx("div",{className:"supplier-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Fornecedores"}),l.jsx(Ke,{onClick:V,className:"create-supplier-btn",children:"+ Novo Fornecedor"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(NM,{stats:w}),l.jsxs("div",{className:"supplier-management-content",children:[l.jsx(bM,{filters:y,onFiltersChange:C,onClearFilters:P,supplierCount:k.length,totalCount:t.length}),l.jsx(wM,{suppliers:k,loading:r,onEdit:W,onView:z,onDelete:Q})]}),l.jsx(SM,{isOpen:c,onClose:I,onSave:A,supplier:m,mode:g})]})},Rh="employees",zT=t=>{const e=t.data();if(!e)throw new Error("Document data is undefined");return{id:t.id,name:e.name||"",rentalCommissionPercentage:e.rentalCommissionPercentage||0,supplierCommissionPercentage:e.supplierCommissionPercentage||0,status:e.status||"active",createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},HT=t=>({...t}),vl={async getAll(t){try{let e=St(Lr(ct,Rh),mi("name"));t?.status&&(e=St(e,It("status","==",t.status)));let n=(await ja(e)).docs.map(zT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(a))}return n}catch(e){throw console.error("Erro ao buscar colaboradores:",e),new Error("Falha ao carregar lista de colaboradores")}},async getById(t){try{const e=ar(ct,Rh,t),r=await _o(e);return r.exists()?zT(r):null}catch(e){throw console.error("Erro ao buscar colaborador:",e),new Error("Falha ao carregar dados do colaborador")}},async create(t){try{const e={...HT(t),createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,Rh),e)).id}catch(e){throw console.error("Erro ao criar colaborador:",e),new Error("Falha ao criar colaborador")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,Rh,e),a={...HT(r),updatedAt:nt.now()};await Ol(n,a)}catch(e){throw console.error("Erro ao atualizar colaborador:",e),new Error("Falha ao atualizar colaborador")}},async delete(t){try{const e=ar(ct,Rh,t);await fu(e)}catch(e){throw console.error("Erro ao deletar colaborador:",e),new Error("Falha ao deletar colaborador")}},async searchByName(t,e=10){try{return(await this.getAll()).filter(a=>a.name.toLowerCase().includes(t.toLowerCase())).slice(0,e)}catch(r){throw console.error("Erro ao buscar colaboradores por nome:",r),new Error("Falha na busca de colaboradores")}},async getStats(){try{const t=await this.getAll();return{total:t.length,active:t.filter(e=>e.status==="active").length,inactive:t.filter(e=>e.status==="inactive").length,suspended:t.filter(e=>e.status==="suspended").length}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}}},CM=({employees:t,loading:e,onEdit:r,onView:n,onDelete:a})=>{const[o,c]=H.useState("name"),[h,m]=H.useState("asc"),f=T=>{o===T?m(h==="asc"?"desc":"asc"):(c(T),m("asc"))},g=[...t].sort((T,b)=>{const D=T[o],k=b[o];return D instanceof Date&&k instanceof Date?h==="asc"?D.getTime()-k.getTime():k.getTime()-D.getTime():typeof D=="number"&&typeof k=="number"?h==="asc"?D-k:k-D:typeof D=="string"&&typeof k=="string"?h==="asc"?D.localeCompare(k):k.localeCompare(D):0}),x=T=>new Intl.DateTimeFormat("pt-BR").format(T),y=T=>`${T}%`,E=T=>{const D={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},suspended:{label:"Suspenso",class:"status-suspended"}}[T]||{label:T,class:"status-default"};return l.jsx("span",{className:`status-badge ${D.class}`,children:D.label})},w=({field:T,children:b})=>l.jsxs("button",{className:`sort-button ${o===T?"active":""}`,onClick:()=>f(T),children:[b,o===T&&l.jsx("span",{className:"sort-indicator",children:h==="asc"?"":""})]});return e?l.jsx("div",{className:"employee-list-loading",children:l.jsx(Dr,{text:"Carregando colaboradores..."})}):t.length===0?l.jsx("div",{className:"employee-list-empty",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(wo,{size:48})}),l.jsx("h3",{children:"Nenhum colaborador encontrado"}),l.jsx("p",{children:"No h colaboradores cadastrados ou que correspondam aos filtros aplicados."})]})}):l.jsxs("div",{className:"employee-list",children:[l.jsx("div",{className:"employee-list-header",children:l.jsxs("h3",{children:["Lista de Colaboradores (",t.length,")"]})}),l.jsx("div",{className:"employee-table-container",children:l.jsxs("table",{className:"employee-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(w,{field:"name",children:"Nome"})}),l.jsx("th",{children:l.jsx(w,{field:"rentalCommissionPercentage",children:"Comisso Locaes"})}),l.jsx("th",{children:l.jsx(w,{field:"supplierCommissionPercentage",children:"Comisso Fornecedores"})}),l.jsx("th",{children:l.jsx(w,{field:"status",children:"Status"})}),l.jsx("th",{children:l.jsx(w,{field:"createdAt",children:"Data Cadastro"})}),l.jsx("th",{className:"actions-column",children:"Aes"})]})}),l.jsx("tbody",{children:g.map(T=>l.jsxs("tr",{className:"employee-row",children:[l.jsx("td",{className:"employee-name",children:l.jsx("span",{className:"name",children:T.name})}),l.jsx("td",{className:"employee-commission",children:l.jsxs("div",{className:"commission-info",children:[l.jsx("span",{className:"commission-value",children:y(T.rentalCommissionPercentage)}),l.jsx("span",{className:"commission-label",children:"do lquido"}),l.jsx("span",{className:"commission-description",children:"(Faturamento - Despesas)"})]})}),l.jsx("td",{className:"employee-commission",children:l.jsxs("div",{className:"commission-info",children:[l.jsx("span",{className:"commission-value",children:y(T.supplierCommissionPercentage)}),l.jsx("span",{className:"commission-label",children:"do lquido"}),l.jsx("span",{className:"commission-description",children:"(Faturamento - Impostos)"})]})}),l.jsx("td",{className:"employee-status",children:E(T.status)}),l.jsx("td",{className:"employee-date",children:x(T.createdAt)}),l.jsx("td",{className:"employee-actions",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx(Ke,{onClick:()=>n(T),variant:"secondary",size:"small",className:"action-btn view-btn",children:l.jsx(To,{size:16})}),l.jsx(Ke,{onClick:()=>r(T),variant:"secondary",size:"small",className:"action-btn edit-btn",children:l.jsx(Ml,{size:16})}),l.jsx(Ke,{onClick:()=>a(T.id),variant:"secondary",size:"small",className:"action-btn delete-btn",children:l.jsx(xu,{size:16})})]})})]},T.id))})]})})]})},qT={name:"",rentalCommissionPercentage:10,supplierCommissionPercentage:10,status:"active"},RM=({isOpen:t,onClose:e,onSave:r,employee:n,mode:a})=>{const[o,c]=H.useState(qT),[h,m]=H.useState(!1),[f,g]=H.useState({}),x=a==="view",y=a==="edit",E=a==="create";H.useEffect(()=>{t&&(c(n&&(y||a==="view")?{name:n.name,rentalCommissionPercentage:n.rentalCommissionPercentage,supplierCommissionPercentage:n.supplierCommissionPercentage,status:n.status}:qT),g({}))},[t,n,y,a]);const w=()=>{const V={};return o.name.trim()||(V.name="Nome  obrigatrio"),o.rentalCommissionPercentage<=0&&(V.rentalCommissionPercentage="Percentual de comisso de locaes deve ser maior que zero"),o.rentalCommissionPercentage>100&&(V.rentalCommissionPercentage="Percentual de comisso de locaes no pode ser maior que 100%"),o.supplierCommissionPercentage<=0&&(V.supplierCommissionPercentage="Percentual de comisso de fornecedores deve ser maior que zero"),o.supplierCommissionPercentage>100&&(V.supplierCommissionPercentage="Percentual de comisso de fornecedores no pode ser maior que 100%"),g(V),Object.keys(V).length===0},T=async V=>{if(V.preventDefault(),!x&&w())try{m(!0),E?await vl.create(o):y&&n&&await vl.update({id:n.id,...o}),r()}catch(W){g({submit:W instanceof Error?W.message:"Erro ao salvar colaborador"})}finally{m(!1)}},b=(V,W)=>{x||(c(z=>({...z,[V]:W})),f[V]&&g(z=>{const Q={...z};return delete Q[V],Q}))},D=[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}],k=()=>{switch(a){case"create":return"Novo Colaborador";case"edit":return"Editar Colaborador";case"view":return"Visualizar Colaborador";default:return"Colaborador"}};return l.jsx(_u,{isOpen:t,onClose:e,title:k(),size:"medium",className:"employee-modal",children:l.jsxs("form",{onSubmit:T,className:"employee-form",children:[h&&l.jsx(Dr,{text:"Salvando colaborador..."}),f.submit&&l.jsx("div",{className:"error-message",children:f.submit}),l.jsxs("div",{className:"form-sections",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informaes Bsicas"}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Status",value:o.status,onChange:V=>b("status",V),options:D,disabled:x,error:f.status})})}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Nome do Colaborador",value:o.name,onChange:V=>b("name",V),placeholder:"Digite o nome completo",error:f.name,required:!0})})})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Percentuais de Comisso"}),l.jsx("div",{className:"commission-info",children:l.jsx("p",{className:"info-text",children:"Os percentuais so aplicados sobre o valor lquido (faturamento - despesas/impostos)"})}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx(je,{label:"Comisso Locaes (%)",type:"number",value:o.rentalCommissionPercentage.toString(),onChange:V=>b("rentalCommissionPercentage",parseFloat(V)||0),placeholder:"10.00",min:0,max:100,step:.01,error:f.rentalCommissionPercentage,required:!0}),l.jsx("div",{className:"field-description",children:l.jsx("small",{children:"10% do lquido (Faturamento - Despesas)"})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx(je,{label:"Comisso Fornecedores (%)",type:"number",value:o.supplierCommissionPercentage.toString(),onChange:V=>b("supplierCommissionPercentage",parseFloat(V)||0),placeholder:"10.00",min:0,max:100,step:.01,error:f.supplierCommissionPercentage,required:!0}),l.jsx("div",{className:"field-description",children:l.jsx("small",{children:"10% do lquido (Faturamento - Impostos)"})})]})]})]})]}),!x&&l.jsxs("div",{className:"form-actions",children:[l.jsx(Ke,{type:"button",variant:"secondary",onClick:e,disabled:h,children:"Cancelar"}),l.jsx(Ke,{type:"submit",disabled:h,children:h?"Salvando...":E?"Criar Colaborador":"Salvar Alteraes"})]}),x&&l.jsx("div",{className:"form-actions",children:l.jsx(Ke,{type:"button",onClick:e,children:"Fechar"})})]})})},jM=({filters:t,onFiltersChange:e,onClearFilters:r,employeeCount:n,totalCount:a})=>{const[o,c]=H.useState(!1),h=(g,x)=>{const y={...t,[g]:x||void 0};Object.keys(y).forEach(E=>{y[E]||delete y[E]}),e(y)},m=Object.keys(t).length>0,f=[{value:"",label:"Todos os status"},{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"suspended",label:"Suspenso"}];return l.jsxs("div",{className:"employee-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-info",children:[l.jsx("h3",{children:"Filtros"}),l.jsx("span",{className:"results-count",children:n===a?`${a} colaboradores`:`${n} de ${a} colaboradores`})]}),l.jsxs("div",{className:"filters-actions",children:[m&&l.jsx(Ke,{onClick:r,variant:"secondary",size:"small",children:"Limpar Filtros"}),l.jsx(Ke,{onClick:()=>c(!o),variant:"secondary",size:"small",className:"toggle-filters-btn",children:o?" Ocultar":" Expandir"})]})]}),l.jsx("div",{className:`filters-content ${o?"expanded":""}`,children:l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Buscar",placeholder:"Nome do colaborador...",value:t.search||"",onChange:g=>h("search",g)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Status",value:t.status||"",onChange:g=>h("status",g),options:f})})]})}),m&&l.jsxs("div",{className:"active-filters",children:[l.jsx("span",{className:"active-filters-label",children:"Filtros ativos:"}),l.jsxs("div",{className:"filter-tags",children:[t.search&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',t.search,'"',l.jsx("button",{onClick:()=>h("search",""),children:""})]}),t.status&&l.jsxs("span",{className:"filter-tag",children:["Status:"," ",f.find(g=>g.value===t.status)?.label,l.jsx("button",{onClick:()=>h("status",""),children:""})]})]})]})]})},DM=({stats:t})=>{const e=[{title:"Total de Colaboradores",value:t.total,icon:jn,color:"blue",description:"Total de colaboradores cadastrados"},{title:"Colaboradores Ativos",value:t.active,icon:la,color:"green",description:"Colaboradores com status ativo"},{title:"Suspensos",value:t.suspended,icon:zm,color:"yellow",description:"Colaboradores suspensos"},{title:"Inativos",value:t.inactive,icon:Md,color:"gray",description:"Colaboradores inativos"}];return l.jsx("div",{className:"employee-stats",children:l.jsx("div",{className:"stats-grid",children:e.map(r=>{const n=r.icon;return l.jsxs("div",{className:`stat-card stat-card-${r.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(n,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:r.value}),l.jsx("div",{className:"stat-title",children:r.title}),l.jsx("div",{className:"stat-description",children:r.description})]})]},r.title)})})})},IM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState(null),[g,x]=H.useState("create"),[y,E]=H.useState({}),[w,T]=H.useState({total:0,active:0,inactive:0,suspended:0}),b=async()=>{try{n(!0),o(null);const N=await vl.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar colaboradores")}finally{n(!1)}},D=async()=>{try{const N=await vl.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N)}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.name.toLowerCase().includes(O))}return y.status&&(N=N.filter(O=>O.status===y.status)),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{Object.keys(y).length>0&&b()},[y]);const V=()=>{f(null),x("create"),h(!0)},W=N=>{f(N),x("edit"),h(!0)},z=N=>{f(N),x("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir este colaborador?"))try{await vl.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir colaborador")}},I=()=>{h(!1),f(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando colaboradores...",fullScreen:!0}):l.jsxs("div",{className:"employee-management",children:[l.jsx("div",{className:"employee-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Colaboradores"}),l.jsx(Ke,{onClick:V,className:"create-employee-btn",children:"+ Novo Colaborador"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(DM,{stats:w}),l.jsxs("div",{className:"employee-management-content",children:[l.jsx(jM,{filters:y,onFiltersChange:C,onClearFilters:P,employeeCount:k.length,totalCount:t.length}),l.jsx(CM,{employees:k,loading:r,onEdit:W,onView:z,onDelete:Q})]}),l.jsx(RM,{isOpen:c,onClose:I,onSave:A,employee:m,mode:g})]})},jh="houses",GT=t=>{const e=t.data();if(!e)throw new Error("Data not found");return{id:t.id,code:e.code||"",houseName:e.houseName||"",address:e.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:""},internetPassword:e.internetPassword||"",photos:e.photos||[],description:e.description||"",observations:e.observations||"",pricing:e.pricing||{lowSeason:0,midSeason:0,highSeason:0,carnivalPackage:0,newYearPackage:0},status:e.status||"available",occupiedDates:Array.isArray(e.occupiedDates)?e.occupiedDates.map(r=>r.toDate()):[],createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},$T=t=>{const e={...t};return"occupiedDates"in e&&e.occupiedDates&&(Array.isArray(e.occupiedDates)&&e.occupiedDates.length>0?e.occupiedDates=e.occupiedDates.map(r=>nt.fromDate(r)):e.occupiedDates=[]),e},Ka={async getAll(t){try{let e=St(Lr(ct,jh),mi("houseName"));t?.status&&(e=St(e,It("status","==",t.status))),t?.city&&(e=St(e,It("address.city","==",t.city))),t?.state&&(e=St(e,It("address.state","==",t.state)));let n=(await ja(e)).docs.map(GT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.houseName.toLowerCase().includes(a)||o.address.city.toLowerCase().includes(a)||o.address.neighborhood.toLowerCase().includes(a)||o.description.toLowerCase().includes(a))}return t?.priceRange&&(n=n.filter(a=>{const o=t.priceRange.min,c=t.priceRange.max;return a.pricing.lowSeason>=o&&a.pricing.lowSeason<=c})),n}catch(e){throw console.error("Erro ao buscar casas:",e),new Error("Falha ao carregar lista de casas")}},async getById(t){try{const e=ar(ct,jh,t),r=await _o(e);return r.exists()?GT(r):null}catch(e){throw console.error("Erro ao buscar casa:",e),new Error("Falha ao carregar dados da casa")}},async create(t){try{const e=await this.generateHouseCode(),r={...$T(t),code:e,createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,jh),r)).id}catch(e){throw console.error("Erro ao criar casa:",e),new Error("Falha ao criar casa")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,jh,e),a={...$T(r),updatedAt:nt.now()};await Ol(n,a)}catch(e){throw console.error("Erro ao atualizar casa:",e),new Error("Falha ao atualizar casa")}},async delete(t){try{const e=ar(ct,jh,t);await fu(e)}catch(e){throw console.error("Erro ao deletar casa:",e),new Error("Falha ao deletar casa")}},async generateHouseCode(){try{const e=(await this.getAll()).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())[0];return!e||!e.code?"CASA001":`CASA${(parseInt(e.code.replace("CASA",""))+1).toString().padStart(3,"0")}`}catch(t){return console.error("Erro ao gerar cdigo:",t),"CASA001"}},async getStats(){try{const t=await this.getAll();return{total:t.length,available:t.filter(e=>e.status==="available").length,occupied:t.filter(e=>e.status==="occupied").length,maintenance:t.filter(e=>e.status==="maintenance").length,inactive:t.filter(e=>e.status==="inactive").length}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}}},kM=({houses:t,loading:e,onEdit:r,onDelete:n,onView:a})=>{const[o,c]=H.useState(""),[h,m]=H.useState("asc"),f=T=>{o===T?m(h==="asc"?"desc":"asc"):(c(T),m("asc"))},g=[...t].sort((T,b)=>{let D=T[o],k=b[o];return o==="address"&&(D=T.address.city,k=b.address.city),o==="pricing"&&(D=T.pricing.lowSeason,k=b.pricing.lowSeason),D instanceof Date&&k instanceof Date?h==="asc"?D.getTime()-k.getTime():k.getTime()-D.getTime():typeof D=="number"&&typeof k=="number"?h==="asc"?D-k:k-D:typeof D=="string"&&typeof k=="string"?h==="asc"?D.localeCompare(k):k.localeCompare(D):0}),x=T=>new Intl.DateTimeFormat("pt-BR").format(T),y=T=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T),E=T=>{const D={available:{label:"Disponvel",class:"status-available"},occupied:{label:"Ocupada",class:"status-occupied"},maintenance:{label:"Manuteno",class:"status-maintenance"},inactive:{label:"Inativa",class:"status-inactive"}}[T]||{label:T,class:"status-default"};return l.jsx("span",{className:`status-badge ${D.class}`,children:D.label})},w=({field:T,children:b})=>l.jsxs("button",{className:`sort-button ${o===T?"active":""}`,onClick:()=>f(T),children:[b,o===T&&l.jsx("span",{className:"sort-indicator",children:h==="asc"?"":""})]});return e?l.jsx("div",{className:"house-list-loading",children:l.jsx(Dr,{text:"Carregando casas..."})}):t.length===0?l.jsx("div",{className:"house-list-empty",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(yn,{size:48})}),l.jsx("h3",{children:"Nenhuma casa encontrada"}),l.jsx("p",{children:"No h casas cadastradas ou que correspondam aos filtros aplicados."})]})}):l.jsxs("div",{className:"house-list",children:[l.jsx("div",{className:"house-list-header",children:l.jsxs("h3",{children:["Lista de Casas (",t.length,")"]})}),l.jsx("div",{className:"house-table-container",children:l.jsxs("table",{className:"house-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(w,{field:"houseName",children:"Nome da Casa"})}),l.jsx("th",{children:l.jsx(w,{field:"address",children:"Localizao"})}),l.jsx("th",{children:l.jsx(w,{field:"status",children:"Status"})}),l.jsx("th",{children:l.jsx(w,{field:"pricing",children:"Preo (Baixa temporada)"})}),l.jsx("th",{children:l.jsx(w,{field:"createdAt",children:"Data Cadastro"})}),l.jsx("th",{className:"actions-column",children:"Aes"})]})}),l.jsx("tbody",{children:g.map(T=>l.jsxs("tr",{className:"house-row",children:[l.jsx("td",{className:"house-name",children:l.jsxs("div",{className:"name-info",children:[l.jsx("span",{className:"name",children:T.houseName}),l.jsxs("span",{className:"code",children:["Cdigo: ",T.code]})]})}),l.jsx("td",{className:"house-location",children:l.jsxs("div",{className:"location-info",children:[l.jsx("span",{className:"neighborhood",children:T.address.neighborhood}),l.jsxs("span",{className:"city-state",children:[T.address.city," - ",T.address.state]})]})}),l.jsx("td",{className:"house-status",children:E(T.status)}),l.jsx("td",{className:"house-pricing",children:l.jsxs("div",{className:"pricing-info",children:[l.jsx("span",{className:"main-price",children:y(T.pricing.lowSeason)}),l.jsx("span",{className:"price-label",children:"baixa temporada"})]})}),l.jsx("td",{className:"house-date",children:x(T.createdAt)}),l.jsx("td",{className:"house-actions",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx(Ke,{onClick:()=>a(T),variant:"secondary",size:"small",className:"action-btn view-btn",children:l.jsx(To,{size:16})}),l.jsx(Ke,{onClick:()=>r(T),variant:"secondary",size:"small",className:"action-btn edit-btn",children:l.jsx(Ml,{size:16})}),l.jsx(Ke,{onClick:()=>n(T.id),variant:"secondary",size:"small",className:"action-btn delete-btn",children:l.jsx(xu,{size:16})})]})})]},T.id))})]})})]})},WT={houseName:"",ownerId:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},internetPassword:"",photos:[],description:"",observations:"",pricing:{lowSeason:0,midSeason:0,highSeason:0,carnivalPackage:0,newYearPackage:0},status:"available"},OM=({isOpen:t,onClose:e,onSave:r,house:n,mode:a})=>{const[o,c]=H.useState(WT),[h,m]=H.useState(!1),[f,g]=H.useState({}),[x,y]=H.useState([]),E=a==="view",w=a==="edit",T=a==="create";H.useEffect(()=>{t&&(n&&(w||a==="view")?(c({houseName:n.houseName,ownerId:n.ownerId||"",address:{street:n.address.street,number:n.address.number,complement:n.address.complement||"",neighborhood:n.address.neighborhood,city:n.address.city,state:n.address.state,zipCode:n.address.zipCode||""},internetPassword:n.internetPassword,photos:n.photos,description:n.description,observations:n.observations,pricing:{lowSeason:n.pricing.lowSeason,midSeason:n.pricing.midSeason,highSeason:n.pricing.highSeason,carnivalPackage:n.pricing.carnivalPackage,newYearPackage:n.pricing.newYearPackage},status:n.status}),y(n.photos)):(c(WT),y([])),g({}))},[t,n,w,a]);const b=()=>{const A={};return o.houseName.trim()||(A.houseName="Nome da casa  obrigatrio"),o.internetPassword.trim()||(A.internetPassword="Senha da internet  obrigatria"),o.description.trim()||(A.description="Descrio  obrigatria"),o.address.street.trim()||(A["address.street"]="Rua  obrigatria"),o.address.number.trim()||(A["address.number"]="Nmero  obrigatrio"),o.address.neighborhood.trim()||(A["address.neighborhood"]="Bairro  obrigatrio"),o.address.city.trim()||(A["address.city"]="Cidade  obrigatria"),o.address.state.trim()||(A["address.state"]="Estado  obrigatrio"),o.address.zipCode.trim()||(A["address.zipCode"]="CEP  obrigatrio"),o.pricing.lowSeason<=0&&(A["pricing.lowSeason"]="Preo da baixa temporada deve ser maior que zero"),o.pricing.midSeason<=0&&(A["pricing.midSeason"]="Preo da mdia temporada deve ser maior que zero"),o.pricing.highSeason<=0&&(A["pricing.highSeason"]="Preo da alta temporada deve ser maior que zero"),o.pricing.carnivalPackage<=0&&(A["pricing.carnivalPackage"]="Preo do pacote de carnaval deve ser maior que zero"),o.pricing.newYearPackage<=0&&(A["pricing.newYearPackage"]="Preo do pacote de rveillon deve ser maior que zero"),g(A),Object.keys(A).length===0},D=async A=>{if(A.preventDefault(),!E&&b())try{m(!0);const C={...o,photos:x};T?await Ka.create(C):w&&n&&await Ka.update({id:n.id,...C}),r()}catch(C){g({submit:C instanceof Error?C.message:"Erro ao salvar casa"})}finally{m(!1)}},k=(A,C)=>{E||(c(P=>{if(A.includes(".")){const[N,O]=A.split(".");return N==="address"?{...P,address:{...P.address,[O]:C}}:N==="pricing"?{...P,pricing:{...P.pricing,[O]:C}}:P}return{...P,[A]:C}}),f[A]&&g(P=>{const N={...P};return delete N[A],N}))},V=(A,C)=>{const P=[...x];P[A]=C,y(P)},W=()=>{y([...x,""])},z=A=>{const C=x.filter((P,N)=>N!==A);y(C)},Q=[{value:"available",label:"Disponvel"},{value:"occupied",label:"Ocupada"},{value:"maintenance",label:"Em Manuteno"},{value:"inactive",label:"Inativa"}],I=()=>{switch(a){case"create":return"Nova Casa";case"edit":return"Editar Casa";case"view":return"Visualizar Casa";default:return"Casa"}};return l.jsx(_u,{isOpen:t,onClose:e,title:I(),size:"large",className:"house-modal",children:l.jsxs("form",{onSubmit:D,className:"house-form",children:[h&&l.jsx(Dr,{text:"Salvando casa..."}),f.submit&&l.jsx("div",{className:"error-message",children:f.submit}),l.jsxs("div",{className:"form-sections",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informaes Bsicas"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(Xt,{label:"Status",value:o.status,onChange:A=>k("status",A),options:Q,disabled:E,error:f.status})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Cdigo",value:n?.code||"Gerado automaticamente",placeholder:"Cdigo ser gerado automaticamente",onChange:()=>{}})})]}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Nome da Casa",value:o.houseName,onChange:A=>k("houseName",A),placeholder:"Digite o nome da casa",error:f.houseName,required:!0})})}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Senha da Internet",value:o.internetPassword,onChange:A=>k("internetPassword",A),placeholder:"Digite a senha da internet",error:f.internetPassword,required:!0})})})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Endereo"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"CEP",value:o.address.zipCode,onChange:A=>k("address.zipCode",A),placeholder:"00000-000",error:f["address.zipCode"],required:!0})}),l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Rua",value:o.address.street,onChange:A=>k("address.street",A),placeholder:"Digite o nome da rua",error:f["address.street"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Nmero",value:o.address.number,onChange:A=>k("address.number",A),placeholder:"123",error:f["address.number"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Complemento",value:o.address.complement||"",onChange:A=>k("address.complement",A),placeholder:"Apto, sala, etc. (opcional)",error:f["address.complement"]})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Bairro",value:o.address.neighborhood,onChange:A=>k("address.neighborhood",A),placeholder:"Digite o bairro",error:f["address.neighborhood"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group flex-2",children:l.jsx(je,{label:"Cidade",value:o.address.city,onChange:A=>k("address.city",A),placeholder:"Digite a cidade",error:f["address.city"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Estado",value:o.address.state,onChange:A=>k("address.state",A),placeholder:"SP",error:f["address.state"],required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Valores das Dirias"}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Baixa Temporada (R$)",type:"number",value:o.pricing.lowSeason.toString(),onChange:A=>k("pricing.lowSeason",parseFloat(A)||0),placeholder:"0.00",error:f["pricing.lowSeason"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Mdia Temporada (R$)",type:"number",value:o.pricing.midSeason.toString(),onChange:A=>k("pricing.midSeason",parseFloat(A)||0),placeholder:"0.00",error:f["pricing.midSeason"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Alta Temporada (R$)",type:"number",value:o.pricing.highSeason.toString(),onChange:A=>k("pricing.highSeason",parseFloat(A)||0),placeholder:"0.00",error:f["pricing.highSeason"],required:!0})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Pacote de Carnaval (R$)",type:"number",value:o.pricing.carnivalPackage.toString(),onChange:A=>k("pricing.carnivalPackage",parseFloat(A)||0),placeholder:"0.00",error:f["pricing.carnivalPackage"],required:!0})}),l.jsx("div",{className:"form-group",children:l.jsx(je,{label:"Pacote de Rveillon (R$)",type:"number",value:o.pricing.newYearPackage.toString(),onChange:A=>k("pricing.newYearPackage",parseFloat(A)||0),placeholder:"0.00",error:f["pricing.newYearPackage"],required:!0})})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Fotos"}),l.jsxs("div",{className:"photos-container",children:[x.map((A,C)=>l.jsxs("div",{className:"photo-input-group",children:[l.jsx(je,{label:`Foto ${C+1}`,value:A,onChange:P=>V(C,P),placeholder:"URL da foto",disabled:E}),!E&&l.jsx(Ke,{type:"button",variant:"secondary",size:"small",onClick:()=>z(C),className:"remove-photo-btn",children:"Remover"})]},C)),!E&&l.jsx(Ke,{type:"button",variant:"secondary",onClick:W,className:"add-photo-btn",children:"+ Adicionar Foto"})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Descrio e Observaes"}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Descrio da Casa",value:o.description,onChange:A=>k("description",A),placeholder:"Descreva a casa, comodidades, etc.",error:f.description,required:!0})})}),l.jsx("div",{className:"form-row",children:l.jsx("div",{className:"form-group full-width",children:l.jsx(je,{label:"Observaes",value:o.observations,onChange:A=>k("observations",A),placeholder:"Observaes adicionais (opcional)",error:f.observations})})})]})]}),!E&&l.jsxs("div",{className:"form-actions",children:[l.jsx(Ke,{type:"button",variant:"secondary",onClick:e,disabled:h,children:"Cancelar"}),l.jsx(Ke,{type:"submit",disabled:h,children:h?"Salvando...":T?"Criar Casa":"Salvar Alteraes"})]}),E&&l.jsx("div",{className:"form-actions",children:l.jsx(Ke,{type:"button",onClick:e,children:"Fechar"})})]})})},PM=({filters:t,onFiltersChange:e,onClearFilters:r,houseCount:n,totalCount:a})=>{const[o,c]=H.useState(!1),h=(x,y)=>{const E={...t,[x]:y||void 0};Object.keys(E).forEach(w=>{E[w]||delete E[w]}),e(E)},m=(x,y)=>{const E=parseFloat(y)||0,w={...t.priceRange,[x]:E};if(!w.min&&!w.max){const{priceRange:T,...b}=t;e(b)}else e({...t,priceRange:{min:w.min||0,max:w.max||0}})},f=Object.keys(t).length>0,g=[{value:"",label:"Todos os status"},{value:"available",label:"Disponveis"},{value:"occupied",label:"Ocupadas"},{value:"maintenance",label:"Em manuteno"},{value:"inactive",label:"Inativas"}];return l.jsxs("div",{className:"house-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-info",children:[l.jsx("h3",{children:"Filtros"}),l.jsx("span",{className:"results-count",children:n===a?`${a} casas`:`${n} de ${a} casas`})]}),l.jsxs("div",{className:"filters-actions",children:[f&&l.jsx(Ke,{onClick:r,variant:"secondary",size:"small",children:"Limpar Filtros"}),l.jsx(Ke,{onClick:()=>c(!o),variant:"secondary",size:"small",className:"toggle-filters-btn",children:o?" Ocultar":" Expandir"})]})]}),l.jsxs("div",{className:`filters-content ${o?"expanded":""}`,children:[l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Buscar",placeholder:"Nome da casa, cidade, bairro, descrio...",value:t.search||"",onChange:x=>h("search",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(Xt,{label:"Status",value:t.status||"",onChange:x=>h("status",x),options:g})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Cidade",placeholder:"Digite a cidade",value:t.city||"",onChange:x=>h("city",x)})})]}),o&&l.jsxs("div",{className:"filters-row",children:[l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Estado",placeholder:"Digite o estado",value:t.state||"",onChange:x=>h("state",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Preo Mnimo (R$)",type:"number",placeholder:"0",value:t.priceRange?.min?.toString()||"",onChange:x=>m("min",x)})}),l.jsx("div",{className:"filter-group",children:l.jsx(je,{label:"Preo Mximo (R$)",type:"number",placeholder:"999999",value:t.priceRange?.max?.toString()||"",onChange:x=>m("max",x)})})]})]}),f&&l.jsxs("div",{className:"active-filters",children:[l.jsx("span",{className:"active-filters-label",children:"Filtros ativos:"}),l.jsxs("div",{className:"filter-tags",children:[t.search&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',t.search,'"',l.jsx("button",{onClick:()=>h("search",""),children:""})]}),t.status&&l.jsxs("span",{className:"filter-tag",children:["Status:"," ",g.find(x=>x.value===t.status)?.label,l.jsx("button",{onClick:()=>h("status",""),children:""})]}),t.city&&l.jsxs("span",{className:"filter-tag",children:["Cidade: ",t.city,l.jsx("button",{onClick:()=>h("city",""),children:""})]}),t.state&&l.jsxs("span",{className:"filter-tag",children:["Estado: ",t.state,l.jsx("button",{onClick:()=>h("state",""),children:""})]}),t.priceRange&&l.jsxs("span",{className:"filter-tag",children:["Preo: R$ ",t.priceRange.min," - R$ ",t.priceRange.max,l.jsx("button",{onClick:()=>h("priceRange",""),children:""})]})]})]})]})},MM=({stats:t})=>{const e=[{title:"Total de Casas",value:t.total,icon:yn,color:"blue",description:"Total de casas cadastradas"},{title:"Disponveis",value:t.available,icon:la,color:"green",description:"Casas disponveis para alocao"},{title:"Ocupadas",value:t.occupied,icon:jn,color:"orange",description:"Casas atualmente ocupadas"},{title:"Em Manuteno",value:t.maintenance,icon:iM,color:"yellow",description:"Casas em manuteno"},{title:"Inativas",value:t.inactive,icon:Md,color:"red",description:"Casas inativas"}];return l.jsx("div",{className:"house-stats",children:l.jsx("div",{className:"stats-grid",children:e.map(r=>{const n=r.icon;return l.jsxs("div",{className:`stat-card stat-card-${r.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(n,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:r.value}),l.jsx("div",{className:"stat-title",children:r.title}),l.jsx("div",{className:"stat-description",children:r.description})]})]},r.title)})})})},FM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState("create"),[g,x]=H.useState(null),[y,E]=H.useState({}),[w,T]=H.useState({total:0,available:0,occupied:0,maintenance:0,inactive:0}),b=async()=>{try{n(!0),o(null);const N=await Ka.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar casas")}finally{n(!1)}},D=async()=>{try{const N=await Ka.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N),o(N instanceof Error?N.message:"Erro ao carregar estatsticas")}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.houseName.toLowerCase().includes(O)||L.address.neighborhood.toLowerCase().includes(O)||L.address.city.toLowerCase().includes(O)||L.description.toLowerCase().includes(O))}return y.status&&(N=N.filter(O=>O.status===y.status)),y.city&&(N=N.filter(O=>O.address.city.toLowerCase().includes(y.city.toLowerCase()))),y.state&&(N=N.filter(O=>O.address.state.toLowerCase().includes(y.state.toLowerCase()))),y.priceRange&&(N=N.filter(O=>{const L=y.priceRange.min,We=y.priceRange.max;return O.pricing.lowSeason>=L&&O.pricing.lowSeason<=We})),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{b()},[y]);const V=()=>{x(null),f("create"),h(!0)},W=N=>{x(N),f("edit"),h(!0)},z=N=>{x(N),f("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir esta casa?"))try{await Ka.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir casa")}},I=()=>{h(!1),x(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando casas...",fullScreen:!0}):l.jsxs("div",{className:"house-management",children:[l.jsx("div",{className:"house-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Casas"}),l.jsx(Ke,{onClick:V,className:"create-house-btn",children:"+ Nova Casa"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(MM,{stats:w}),l.jsxs("div",{className:"house-management-content",children:[l.jsx(PM,{filters:y,onFiltersChange:C,onClearFilters:P,houseCount:k.length,totalCount:t.length}),l.jsx(kM,{houses:k,loading:r,onEdit:W,onView:z,onDelete:Q})]}),l.jsx(OM,{isOpen:c,onClose:I,onSave:A,house:g,mode:m})]})},Dh="sales",LM=(t,e)=>{const r=Math.abs(e.getTime()-t.getTime());return Math.ceil(r/(1e3*60*60*24))},ON=(t,e,r,n=0,a=0,o=0,c={})=>{const h=LM(t,e),m=r-n,f=m*.1,g=(c.supermarket||0)+(c.seafood||0)+(c.seafoodMeat||0)+(c.transfer||0)+(c.vegetables||0)+(c.coconuts||0),x=m+o+g,y=m-f-a-g;return{numberOfNights:h,netValue:m,salesCommission:f,totalAdditionalSales:g,totalRevenue:x,contributionMargin:y}},YT=t=>{const e=t.data();if(!e)throw new Error("Document data is undefined");return{id:t.id,code:e.code||"",company:e.company||"exclusive",clientId:e.clientId||"",clientName:e.clientName||"",clientCpf:e.clientCpf||"",clientPhone:e.clientPhone||"",clientEmail:e.clientEmail||"",clientGender:e.clientGender||"",employeeId:e.employeeId||"",employeeName:e.employeeName||"",employeeCommission:e.employeeCommission||0,saleOrigin:e.saleOrigin||"instagram",houseId:e.houseId||"",houseName:e.houseName||"",houseAddress:e.houseAddress||"",ownerId:e.ownerId||"",ownerName:e.ownerName||"",ownerPhone:e.ownerPhone||"",checkInDate:e.checkInDate?.toDate()||new Date,checkOutDate:e.checkOutDate?.toDate()||new Date,numberOfNights:e.numberOfNights||0,numberOfGuests:e.numberOfGuests||0,contractValue:e.contractValue||0,discount:e.discount||0,netValue:e.netValue||0,salesCommission:e.salesCommission||0,housekeeperValue:e.housekeeperValue||0,conciergeValue:e.conciergeValue||0,additionalSales:e.additionalSales||{supermarket:0,seafood:0,seafoodMeat:0,transfer:0,vegetables:0,coconuts:0},totalAdditionalSales:e.totalAdditionalSales||0,totalRevenue:e.totalRevenue||0,contributionMargin:e.contributionMargin||0,status:e.status||"pending",createdAt:e.createdAt?.toDate()||new Date,updatedAt:e.updatedAt?.toDate()||new Date}},KT=async t=>{const e={...t};if("clientId"in e&&e.clientId){const r=await fo.getById(e.clientId);r&&(e.clientName=r.name,e.clientCpf=r.cpf,e.clientPhone=r.phone,e.clientEmail=r.email,e.clientGender="")}if("employeeId"in e&&e.employeeId){const r=await vl.getById(e.employeeId);r&&(e.employeeName=r.name,e.employeeCommission=r.rentalCommissionPercentage)}if("houseId"in e&&e.houseId){const r=await Ka.getById(e.houseId);if(r&&(e.houseName=r.houseName,e.houseAddress=`${r.address.street}, ${r.address.number} - ${r.address.city}/${r.address.state}`,r.ownerId)){const n=await gl.getById(r.ownerId);n&&(e.ownerName=n.name,e.ownerId=n.id)}}if("checkInDate"in e&&"checkOutDate"in e&&"contractValue"in e){const r=ON(e.checkInDate,e.checkOutDate,e.contractValue,e.discount||0,e.housekeeperValue||0,e.conciergeValue||0,e.additionalSales||{});e.numberOfNights=r.numberOfNights,e.netValue=r.netValue,e.salesCommission=r.salesCommission,e.totalAdditionalSales=r.totalAdditionalSales,e.totalRevenue=r.totalRevenue,e.contributionMargin=r.contributionMargin}return"checkInDate"in e&&e.checkInDate&&(e.checkInDate=nt.fromDate(e.checkInDate)),"checkOutDate"in e&&e.checkOutDate&&(e.checkOutDate=nt.fromDate(e.checkOutDate)),e.additionalSales||(e.additionalSales={supermarket:0,seafood:0,seafoodMeat:0,transfer:0,vegetables:0,coconuts:0}),e},$r={async getAll(t){try{let e=St(Lr(ct,Dh),mi("createdAt","desc"));t?.company&&(e=St(e,It("company","==",t.company))),t?.status&&(e=St(e,It("status","==",t.status))),t?.saleOrigin&&(e=St(e,It("saleOrigin","==",t.saleOrigin)));let n=(await ja(e)).docs.map(YT);if(t?.search){const a=t.search.toLowerCase();n=n.filter(o=>o.code.toLowerCase().includes(a)||o.clientName.toLowerCase().includes(a)||o.houseName.toLowerCase().includes(a)||o.clientCpf.includes(a))}return t?.dateRange&&(n=n.filter(a=>a.checkInDate>=t.dateRange.start&&a.checkInDate<=t.dateRange.end)),n}catch(e){throw console.error("Erro ao buscar vendas:",e),new Error("Falha ao carregar lista de vendas")}},async getById(t){try{const e=ar(ct,Dh,t),r=await _o(e);return r.exists()?YT(r):null}catch(e){throw console.error("Erro ao buscar venda:",e),new Error("Falha ao carregar dados da venda")}},async create(t){try{const e=await this.generateSaleCode(),n={...await KT(t),code:e,status:t.status||"pending",createdAt:nt.now(),updatedAt:nt.now()};return(await Pl(Lr(ct,Dh),n)).id}catch(e){throw console.error("Erro ao criar venda:",e),new Error("Falha ao criar venda")}},async update(t){try{const{id:e,...r}=t,n=ar(ct,Dh,e),o={...await KT(r),updatedAt:nt.now()};await Ol(n,o)}catch(e){throw console.error("Erro ao atualizar venda:",e),new Error("Falha ao atualizar venda")}},async delete(t){try{const e=ar(ct,Dh,t);await fu(e)}catch(e){throw console.error("Erro ao deletar venda:",e),new Error("Falha ao deletar venda")}},async generateSaleCode(){try{const e=(await this.getAll()).sort((a,o)=>o.createdAt.getTime()-a.createdAt.getTime())[0];return!e||!e.code?"VND001":`VND${(parseInt(e.code.replace("VND",""))+1).toString().padStart(3,"0")}`}catch(t){return console.error("Erro ao gerar cdigo:",t),"VND001"}},async getStats(){try{const t=await this.getAll(),e=t.reduce((a,o)=>a+o.totalRevenue,0),r=t.reduce((a,o)=>a+o.salesCommission+o.totalAdditionalSales,0),n=t.reduce((a,o)=>a+o.contributionMargin,0);return{total:t.length,totalRevenue:e,pending:t.filter(a=>a.status==="pending").length,confirmed:t.filter(a=>a.status==="confirmed").length,cancelled:t.filter(a=>a.status==="cancelled").length,completed:t.filter(a=>a.status==="completed").length,averageTicket:t.length>0?e/t.length:0,totalCommissions:r,totalMargin:n}}catch(t){throw console.error("Erro ao obter estatsticas:",t),new Error("Falha ao carregar estatsticas")}},async checkHouseAvailability(t,e,r,n){try{return(await this.getAll()).filter(c=>n&&c.id===n||c.houseId!==t||c.status==="cancelled"?!1:e>=c.checkInDate&&e<c.checkOutDate||r>c.checkInDate&&r<=c.checkOutDate||e<=c.checkInDate&&r>=c.checkOutDate).length===0}catch(a){return console.error("Erro ao verificar disponibilidade:",a),!1}}},VM=({sales:t,loading:e,onEdit:r,onView:n,onDelete:a,filters:o,onFiltersChange:c,onClearFilters:h})=>{const[m,f]=H.useState("createdAt"),[g,x]=H.useState("desc"),[y,E]=H.useState(!1),w=A=>{m===A?x(g==="asc"?"desc":"asc"):(f(A),x("asc"))},T=[...t].sort((A,C)=>{const P=A[m],N=C[m];return P instanceof Date&&N instanceof Date?g==="asc"?P.getTime()-N.getTime():N.getTime()-P.getTime():typeof P=="string"&&typeof N=="string"?g==="asc"?P.localeCompare(N):N.localeCompare(P):typeof P=="number"&&typeof N=="number"?g==="asc"?P-N:N-P:0}),b=A=>new Intl.DateTimeFormat("pt-BR").format(A),D=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),k=A=>{const P={pending:{label:"Pendente",class:"status-pending"},confirmed:{label:"Confirmada",class:"status-confirmed"},cancelled:{label:"Cancelada",class:"status-cancelled"},completed:{label:"Concluda",class:"status-completed"}}[A];return l.jsx("span",{className:`status-badge ${P.class}`,children:P.label})},V=A=>{const P={exclusive:{label:"Exclusive",class:"company-exclusive"},giogio:{label:"Giogio",class:"company-giogio"},direta:{label:"Direta",class:"company-direta"}}[A];return l.jsx("span",{className:`company-badge ${P.class}`,children:P.label})},W=(A,C)=>{c({...o,[A]:C||void 0})},z=[{value:"",label:"Todas"},{value:"exclusive",label:"Exclusive"},{value:"giogio",label:"Giogio"},{value:"direta",label:"Direta"}],Q=[{value:"",label:"Todos"},{value:"pending",label:"Pendente"},{value:"confirmed",label:"Confirmada"},{value:"completed",label:"Concluda"},{value:"cancelled",label:"Cancelada"}],I=[{value:"",label:"Todas"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"google",label:"Google"},{value:"indicacao",label:"Indicao"},{value:"whatsapp",label:"WhatsApp"},{value:"site",label:"Site"},{value:"outros",label:"Outros"}];return e&&t.length===0?l.jsx(Dr,{text:"Carregando vendas..."}):l.jsxs("div",{className:"sale-list",children:[l.jsxs("div",{className:"sale-list-header",children:[l.jsxs("div",{className:"list-info",children:[l.jsx("h2",{children:"Lista de Vendas"}),l.jsxs("span",{className:"list-count",children:[t.length," ",t.length===1?"venda":"vendas"]})]}),l.jsxs(Ke,{onClick:()=>E(!y),className:"filter-toggle-btn",children:[l.jsx(J1,{size:16}),y?"Ocultar Filtros":"Mostrar Filtros"]})]}),y&&l.jsxs("div",{className:"sale-filters",children:[l.jsx(je,{label:"Buscar",type:"text",placeholder:"Buscar por cdigo, cliente, casa...",value:o.search||"",onChange:A=>W("search",A)}),l.jsx(Xt,{label:"Empresa",value:o.company||"",onChange:A=>W("company",A),options:z}),l.jsx(Xt,{label:"Status",value:o.status||"",onChange:A=>W("status",A),options:Q}),l.jsx(Xt,{label:"Origem da Venda",value:o.saleOrigin||"",onChange:A=>W("saleOrigin",A),options:I}),l.jsxs(Ke,{onClick:h,className:"clear-filters-btn",children:[l.jsx(Zi,{size:16}),"Limpar Filtros"]})]}),t.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx(Eo,{size:48}),l.jsx("h3",{children:"Nenhuma venda encontrada"}),l.jsx("p",{children:"Comece criando sua primeira venda ou ajuste os filtros."})]}):l.jsx("div",{className:"sale-table-container",children:l.jsxs("table",{className:"sale-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>w("code"),children:["Cdigo"," ",m==="code"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("company"),children:["Empresa"," ",m==="company"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("clientName"),children:["Cliente"," ",m==="clientName"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("employeeName"),children:["Vendedor/Colaborador"," ",m==="employeeName"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("houseName"),children:["Casa"," ",m==="houseName"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("checkInDate"),children:["Check-in"," ",m==="checkInDate"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("numberOfNights"),children:["Noites"," ",m==="numberOfNights"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("totalRevenue"),children:["Faturamento"," ",m==="totalRevenue"&&(g==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>w("status"),children:["Status"," ",m==="status"&&(g==="asc"?"":"")]}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:T.map(A=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:A.code})}),l.jsx("td",{children:V(A.company)}),l.jsx("td",{children:l.jsxs("div",{className:"client-info",children:[l.jsx("span",{className:"client-name",children:A.clientName}),l.jsx("span",{className:"client-details",children:A.clientPhone})]})}),l.jsx("td",{children:l.jsx("div",{className:"employee-info",children:l.jsx("span",{className:"employee-name",children:A.employeeName})})}),l.jsx("td",{children:l.jsxs("div",{className:"house-info",children:[l.jsx(yn,{size:14}),l.jsx("span",{children:A.houseName})]})}),l.jsx("td",{children:l.jsxs("div",{className:"date-info",children:[l.jsx(Eo,{size:14}),l.jsx("span",{children:b(A.checkInDate)})]})}),l.jsx("td",{children:l.jsxs("span",{className:"nights-badge",children:[A.numberOfNights," noites"]})}),l.jsx("td",{children:l.jsx("strong",{className:"revenue-value",children:D(A.totalRevenue)})}),l.jsx("td",{children:k(A.status)}),l.jsx("td",{children:l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{className:"action-btn view-btn",onClick:()=>n(A),title:"Visualizar",children:l.jsx(To,{size:16})}),l.jsx("button",{className:"action-btn edit-btn",onClick:()=>r(A),title:"Editar",children:l.jsx(Ml,{size:16})}),l.jsx("button",{className:"action-btn delete-btn",onClick:()=>a(A.id),title:"Excluir",children:l.jsx(xu,{size:16})})]})})]},A.id))})]})}),e&&t.length>0&&l.jsx("div",{className:"loading-overlay",children:l.jsx(Dr,{text:"Atualizando..."})})]})},XT={company:"exclusive",clientId:"",saleOrigin:"instagram",houseId:"",checkInDate:new Date,checkOutDate:new Date,numberOfGuests:1,contractValue:0,discount:0,housekeeperValue:0,conciergeValue:0,additionalSales:{supermarket:0,seafood:0,seafoodMeat:0,transfer:0,vegetables:0,coconuts:0},status:"pending",employeeId:""},BM=({isOpen:t,onClose:e,onSave:r,sale:n,mode:a})=>{const[o,c]=H.useState(XT),[h,m]=H.useState(!1),[f,g]=H.useState({}),[x,y]=H.useState([]),[E,w]=H.useState([]),[T,b]=H.useState(null),[D,k]=H.useState(null),[V,W]=H.useState([]),[z,Q]=H.useState(null),[I,A]=H.useState({numberOfNights:0,netValue:0,salesCommission:0,totalAdditionalSales:0,totalRevenue:0,contributionMargin:0}),C=a==="view",P=a==="edit";H.useEffect(()=>{t&&(N(),L(),O())},[t]);const N=async()=>{try{const ae=await fo.getAll();y(ae)}catch(ae){console.error("Erro ao carregar clientes:",ae)}},O=async()=>{try{const ae=await vl.getAll();W(ae)}catch(ae){console.error("Erro ao carregar funcionrios:",ae)}},L=async()=>{try{const ae=await Ka.getAll();w(ae)}catch(ae){console.error("Erro ao carregar casas:",ae)}};H.useEffect(()=>{t&&(n&&(P||a==="view")?(c({company:n.company,clientId:n.clientId,saleOrigin:n.saleOrigin,houseId:n.houseId,checkInDate:n.checkInDate,checkOutDate:n.checkOutDate,numberOfGuests:n.numberOfGuests,contractValue:n.contractValue,discount:n.discount,housekeeperValue:n.housekeeperValue,conciergeValue:n.conciergeValue,additionalSales:n.additionalSales,status:n.status,employeeId:n.employeeId}),fo.getById(n.clientId).then(b),Ka.getById(n.houseId).then(k)):(c(XT),b(null),k(null)),g({}))},[t,n,P,a]),H.useEffect(()=>{const ae=ON(o.checkInDate,o.checkOutDate,o.contractValue,o.discount||0,o.housekeeperValue||0,o.conciergeValue||0,o.additionalSales||{});A(ae)},[o.checkInDate,o.checkOutDate,o.contractValue,o.discount,o.housekeeperValue,o.conciergeValue,o.additionalSales]),H.useEffect(()=>{if(o.clientId){const ae=x.find(De=>De.id===o.clientId);b(ae||null)}else b(null)},[o.clientId,x]),H.useEffect(()=>{if(o.employeeId){const ae=V.find(De=>De.id===o.employeeId);Q(ae||null)}else Q(null)},[o.employeeId,V]),H.useEffect(()=>{if(o.houseId){const ae=E.find(De=>De.id===o.houseId);k(ae||null)}else k(null)},[o.houseId,E]),H.useEffect(()=>{D?.ownerId&&gl.getById(D.ownerId).then(ae=>{ae&&c(De=>({...De,ownerId:ae.id,ownerName:ae.name,ownerPhone:ae.phone}))})},[D]);const We=()=>{const ae={};return o.clientId||(ae.clientId="Cliente  obrigatrio"),o.employeeId||(ae.employeeId="Funcionrio  obrigatrio"),o.houseId||(ae.houseId="Casa  obrigatria"),o.checkInDate>=o.checkOutDate&&(ae.checkOutDate="Data de sada deve ser aps a data de entrada"),o.contractValue<=0&&(ae.contractValue="Valor do contrato deve ser maior que zero"),o.numberOfGuests<=0&&(ae.numberOfGuests="Nmero de hspedes deve ser maior que zero"),g(ae),Object.keys(ae).length===0},He=async ae=>{if(ae.preventDefault(),C){e();return}if(We())try{if(m(!0),!await $r.checkHouseAvailability(o.houseId,o.checkInDate,o.checkOutDate,n?.id)){alert("Esta casa j possui uma reserva para as datas selecionadas!");return}P&&n?await $r.update({id:n.id,...o}):await $r.create(o),r(),e()}catch(De){console.error("Erro ao salvar venda:",De),alert(De instanceof Error?De.message:"Erro ao salvar venda. Tente novamente.")}finally{m(!1)}},de=(ae,De)=>{c(ke=>({...ke,[ae]:De})),f[ae]&&g(ke=>{const ft={...ke};return delete ft[ae],ft})},Ce=(ae,De)=>{c(ke=>({...ke,additionalSales:{...ke.additionalSales||{},[ae]:De}}))},ze=ae=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ae),Je=ae=>{const De=ae.getFullYear(),ke=String(ae.getMonth()+1).padStart(2,"0"),ft=String(ae.getDate()).padStart(2,"0");return`${De}-${ke}-${ft}`},ee=ae=>new Date(ae+"T00:00:00"),Ee=()=>a==="view"?"Visualizar Venda":a==="edit"?"Editar Venda":"Nova Venda",K=[{value:"exclusive",label:"Exclusive"},{value:"giogio",label:"Giogio"},{value:"direta",label:"Direta"}],te=[{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"google",label:"Google"},{value:"indicacao",label:"Indicao"},{value:"whatsapp",label:"WhatsApp"},{value:"site",label:"Site"},{value:"outros",label:"Outros"}],Z=[{value:"pending",label:"Pendente"},{value:"confirmed",label:"Confirmada"},{value:"completed",label:"Concluda"},{value:"cancelled",label:"Cancelada"}],re=x.map(ae=>({value:ae.id,label:`${ae.name} - ${ae.cpf}`})),he=V.map(ae=>({value:ae.id,label:ae.name})),Fe=E.map(ae=>({value:ae.id,label:`${ae.houseName} - ${ae.address.city}`}));return l.jsx(_u,{isOpen:t,onClose:e,title:Ee(),size:"large",children:l.jsxs("form",{onSubmit:He,className:"sale-modal-form",children:[h&&l.jsx(Dr,{text:"Salvando..."}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Informaes Bsicas"}),l.jsx(Xt,{label:"Empresa",value:o.company,onChange:ae=>de("company",ae),options:K,disabled:C,error:f.company,required:!0}),l.jsx(Xt,{label:"Origem da Venda",value:o.saleOrigin,onChange:ae=>de("saleOrigin",ae),options:te,disabled:C,error:f.saleOrigin,required:!0}),l.jsx(Xt,{label:"Status",value:o.status||"pending",onChange:ae=>de("status",ae),options:Z,disabled:C})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Cliente"}),l.jsx(Xt,{label:"Cliente",value:o.clientId,onChange:ae=>de("clientId",ae),options:[{value:"",label:"Selecione um cliente"},...re],disabled:C,error:f.clientId,required:!0}),T&&l.jsxs("div",{className:"client-info-display",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"CPF:"}),l.jsx("span",{className:"info-value",children:T.cpf})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Telefone:"}),l.jsx("span",{className:"info-value",children:T.phone})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Email:"}),l.jsx("span",{className:"info-value",children:T.email})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Casa"}),l.jsx(Xt,{label:"Casa",value:o.houseId,onChange:ae=>de("houseId",ae),options:[{value:"",label:"Selecione uma casa"},...Fe],disabled:C,error:f.houseId,required:!0}),D&&l.jsxs("div",{className:"house-info-display",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Endereo:"}),l.jsxs("span",{className:"info-value",children:[D.address.street,","," ",D.address.number," -"," ",D.address.city,"/",D.address.state]})]}),D.ownerId&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"info-divider"}),l.jsx("div",{className:"info-subtitle",children:"Proprietrio"}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Nome:"}),l.jsx("span",{className:"info-value",children:D.ownerName})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Telefone:"}),l.jsx("span",{className:"info-value",children:D.ownerPhone})]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Colaborador Responsvel"}),l.jsx(Xt,{label:"Vendedor/Colaborador",value:o.employeeId||"",onChange:ae=>de("employeeId",ae),options:[{value:"",label:"Selecione um vendedor/colaborador"},...he],disabled:C,error:f.employeeId,required:!0}),z&&l.jsxs("div",{className:"employee-info-display",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Nome:"}),l.jsx("span",{className:"info-value",children:z.name})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Comisso:"}),l.jsxs("span",{className:"info-value",children:[z.rentalCommissionPercentage,"%"]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Informaes de Estadia"}),l.jsxs("div",{className:"form-row",children:[l.jsx(je,{label:"Data de Check-in",type:"date",value:Je(o.checkInDate),onChange:ae=>de("checkInDate",ee(ae)),disabled:C,error:f.checkInDate}),l.jsx(je,{label:"Data de Check-out",type:"date",value:Je(o.checkOutDate),onChange:ae=>de("checkOutDate",ee(ae)),disabled:C,error:f.checkOutDate})]}),l.jsxs("div",{className:"calculated-value",children:[l.jsx("span",{className:"calc-label",children:"Nmero de Pernoites:"}),l.jsxs("span",{className:"calc-value",children:[I.numberOfNights," noites"]})]}),l.jsx(je,{label:"Nmero de Hspedes",type:"number",value:String(o.numberOfGuests),onChange:ae=>de("numberOfGuests",parseInt(ae)||1),disabled:C,error:f.numberOfGuests})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{className:"section-title",children:"Valores Financeiros"}),l.jsx(je,{label:"Valor do Contrato",type:"number",value:String(o.contractValue),onChange:ae=>de("contractValue",parseFloat(ae)||0),disabled:C,error:f.contractValue}),l.jsx(je,{label:"Desconto",type:"number",value:String(o.discount||0),onChange:ae=>de("discount",parseFloat(ae)||0),disabled:C}),l.jsxs("div",{className:"calculated-value",children:[l.jsx("span",{className:"calc-label",children:"Valor Lquido:"}),l.jsx("span",{className:"calc-value highlight",children:ze(I.netValue)})]}),l.jsxs("div",{className:"calculated-value",children:[l.jsx("span",{className:"calc-label",children:"Comisso de Venda (10%):"}),l.jsx("span",{className:"calc-value",children:ze(I.salesCommission)})]}),l.jsx(je,{label:"Valor da Governanta",type:"number",value:String(o.housekeeperValue||0),onChange:ae=>de("housekeeperValue",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Valor do Concierge",type:"number",value:String(o.conciergeValue||0),onChange:ae=>de("conciergeValue",parseFloat(ae)||0),disabled:C})]}),l.jsxs("div",{className:"form-section full-width",children:[l.jsx("h3",{className:"section-title",children:"Vendas Adicionais (Comisses de Fornecedores)"}),l.jsxs("div",{className:"additional-sales-grid",children:[l.jsx(je,{label:"Supermercado",type:"number",value:String(o.additionalSales?.supermarket||0),onChange:ae=>Ce("supermarket",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Pescados",type:"number",value:String(o.additionalSales?.seafood||0),onChange:ae=>Ce("seafood",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Pescados/Carne",type:"number",value:String(o.additionalSales?.seafoodMeat||0),onChange:ae=>Ce("seafoodMeat",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Transfer",type:"number",value:String(o.additionalSales?.transfer||0),onChange:ae=>Ce("transfer",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Hortalias",type:"number",value:String(o.additionalSales?.vegetables||0),onChange:ae=>Ce("vegetables",parseFloat(ae)||0),disabled:C}),l.jsx(je,{label:"Cocos",type:"number",value:String(o.additionalSales?.coconuts||0),onChange:ae=>Ce("coconuts",parseFloat(ae)||0),disabled:C})]}),l.jsxs("div",{className:"calculated-value",children:[l.jsx("span",{className:"calc-label",children:"Total de Vendas Adicionais:"}),l.jsx("span",{className:"calc-value",children:ze(I.totalAdditionalSales)})]})]}),l.jsxs("div",{className:"form-section full-width totals-section",children:[l.jsx("h3",{className:"section-title",children:"Resumo Financeiro"}),l.jsxs("div",{className:"totals-grid",children:[l.jsxs("div",{className:"total-card",children:[l.jsx("span",{className:"total-label",children:"Total de Faturamento"}),l.jsx("span",{className:"total-value primary",children:ze(I.totalRevenue)})]}),l.jsxs("div",{className:"total-card",children:[l.jsx("span",{className:"total-label",children:"Margem de Contribuio"}),l.jsx("span",{className:"total-value success",children:ze(I.contributionMargin)})]})]})]})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx(Ke,{type:"button",onClick:e,className:"cancel-btn",children:C?"Fechar":"Cancelar"}),!C&&l.jsx(Ke,{type:"submit",disabled:h,className:"save-btn",children:h?"Salvando...":P?"Salvar Alteraes":"Criar Venda"})]})]})})},UM=({stats:t})=>{const e=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),r=[{title:"Total de Vendas",value:t.total,icon:kN,color:"blue",description:"Nmero total de contratos",format:"number"},{title:"Faturamento Total",value:t.totalRevenue,icon:Ra,color:"green",description:"Receita total gerada",format:"currency"},{title:"Ticket Mdio",value:t.averageTicket,icon:pl,color:"purple",description:"Valor mdio por venda",format:"currency"},{title:"Margem de Contribuio",value:t.totalMargin,icon:bs,color:"cyan",description:"Margem total aps custos",format:"currency"},{title:"Vendas Confirmadas",value:t.confirmed,icon:la,color:"success",description:"Contratos confirmados",format:"number"},{title:"Vendas Pendentes",value:t.pending,icon:Pd,color:"yellow",description:"Aguardando confirmao",format:"number"},{title:"Vendas Concludas",value:t.completed,icon:la,color:"green",description:"Contratos finalizados",format:"number"},{title:"Total de Comisses",value:t.totalCommissions,icon:sM,color:"orange",description:"Comisses pagas",format:"currency"}],n=(a,o)=>o==="currency"?e(a):a;return l.jsx("div",{className:"sale-stats",children:l.jsx("div",{className:"stats-grid",children:r.map(a=>{const o=a.icon;return l.jsxs("div",{className:`stat-card stat-card-${a.color}`,children:[l.jsx("div",{className:"stat-icon",children:l.jsx(o,{size:24})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:n(a.value,a.format)}),l.jsx("div",{className:"stat-title",children:a.title}),l.jsx("div",{className:"stat-description",children:a.description})]})]},a.title)})})})},zM=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,o]=H.useState(null),[c,h]=H.useState(!1),[m,f]=H.useState(null),[g,x]=H.useState("create"),[y,E]=H.useState({}),[w,T]=H.useState({total:0,totalRevenue:0,pending:0,confirmed:0,cancelled:0,completed:0,averageTicket:0,totalCommissions:0,totalMargin:0}),b=async()=>{try{n(!0),o(null);const N=await $r.getAll(y);e(N)}catch(N){o(N instanceof Error?N.message:"Erro ao carregar vendas")}finally{n(!1)}},D=async()=>{try{const N=await $r.getStats();T(N)}catch(N){console.error("Erro ao carregar estatsticas:",N)}},k=H.useMemo(()=>{let N=[...t];if(y.search){const O=y.search.toLowerCase();N=N.filter(L=>L.code.toLowerCase().includes(O)||L.clientName.toLowerCase().includes(O)||L.houseName.toLowerCase().includes(O)||L.clientCpf.includes(O))}return y.company&&(N=N.filter(O=>O.company===y.company)),y.status&&(N=N.filter(O=>O.status===y.status)),y.saleOrigin&&(N=N.filter(O=>O.saleOrigin===y.saleOrigin)),y.dateRange&&(N=N.filter(O=>O.checkInDate>=y.dateRange.start&&O.checkInDate<=y.dateRange.end)),N},[t,y]);H.useEffect(()=>{b(),D()},[]),H.useEffect(()=>{Object.keys(y).length>0&&b()},[y]);const V=()=>{f(null),x("create"),h(!0)},W=N=>{f(N),x("edit"),h(!0)},z=N=>{f(N),x("view"),h(!0)},Q=async N=>{if(confirm("Tem certeza que deseja excluir esta venda?"))try{await $r.delete(N),e(t.filter(O=>O.id!==N)),D()}catch(O){o(O instanceof Error?O.message:"Erro ao excluir venda")}},I=()=>{h(!1),f(null)},A=()=>{b(),D(),I()},C=N=>{E(N)},P=()=>{E({})};return r&&t.length===0?l.jsx(Dr,{text:"Carregando vendas...",fullScreen:!0}):l.jsxs("div",{className:"sales-management",children:[l.jsx("div",{className:"sales-management-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Gesto de Vendas e Contratos"}),l.jsx(Ke,{onClick:V,className:"create-sale-btn",children:"+ Nova Venda"})]})}),a&&l.jsx(Fl,{message:a,onClose:()=>o(null)}),l.jsx(UM,{stats:w}),l.jsx("div",{className:"sales-management-content",children:l.jsx(VM,{sales:k,loading:r,onEdit:W,onView:z,onDelete:Q,filters:y,onFiltersChange:C,onClearFilters:P})}),l.jsx(BM,{isOpen:c,onClose:I,onSave:A,sale:m,mode:g})]})},HM=({onFilterChange:t,onExport:e})=>{const[r,n]=H.useState([]),[a,o]=H.useState({startDate:"",endDate:"",company:"all",houseId:"",reportType:"summary",groupBy:"month",demographicType:"house"});H.useEffect(()=>{c()},[]);const c=async()=>{try{const g=await Ka.getAll();n(g)}catch(g){console.error("Erro ao carregar casas:",g)}},h=(g,x)=>{const y={...a,[g]:x};o(y),t(y)},m=()=>{const g={startDate:"",endDate:"",company:"all",houseId:"",reportType:"summary",groupBy:"month",demographicType:"house"};o(g),t(g)},f=()=>{switch(a.reportType){case"summary":return"Exportar Resumo";case"revenue-by-house":return"Exportar Receitas";case"cash-flow":return"Exportar Fluxo de Caixa";case"contracts":return"Exportar Contratos";case"breakdown":return"Exportar Breakdown";case"demographic":return"Exportar Demogrfico";case"comparative":return"Exportar Comparativo";case"tax":return"Exportar Impostos";default:return"Exportar Excel"}};return l.jsxs("div",{className:"financial-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsx("h3",{children:"Filtros de Relatrio"}),l.jsxs("div",{className:"filters-actions",children:[l.jsx("button",{className:"btn-clear-filters",onClick:m,title:"Limpar filtros",children:"Limpar Filtros"}),l.jsxs("button",{className:"btn-export-excel",onClick:()=>e(a.reportType),title:"Exportar para Excel",children:[l.jsx(DN,{size:18})," ",f()]})]})]}),l.jsxs("div",{className:"filters-grid",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"reportType",children:"Tipo de Relatrio"}),l.jsxs("select",{id:"reportType",value:a.reportType,onChange:g=>h("reportType",g.target.value),children:[l.jsx("option",{value:"summary",children:"Resumo Geral"}),l.jsx("option",{value:"revenue-by-house",children:"Receitas por Casa"}),l.jsx("option",{value:"cash-flow",children:"Fluxo de Caixa"}),l.jsx("option",{value:"contracts",children:"Contratos Ativos/Concludos"}),l.jsx("option",{value:"breakdown",children:"Breakdown de Receitas"}),l.jsx("option",{value:"demographic",children:"Anlise Demogrfica"}),l.jsx("option",{value:"comparative",children:"Comparativo entre Perodos"}),l.jsx("option",{value:"tax",children:"Impostos por Empresa"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"startDate",children:"Data Incio"}),l.jsx("input",{id:"startDate",type:"date",value:a.startDate,onChange:g=>h("startDate",g.target.value)})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"endDate",children:"Data Fim"}),l.jsx("input",{id:"endDate",type:"date",value:a.endDate,onChange:g=>h("endDate",g.target.value)})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"company",children:"Empresa"}),l.jsxs("select",{id:"company",value:a.company,onChange:g=>h("company",g.target.value),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"exclusive",children:"Exclusive Imveis"}),l.jsx("option",{value:"giogio",children:"Gio Gio Temporadas"}),l.jsx("option",{value:"direta",children:"Venda Direta"})]})]}),(a.reportType==="revenue-by-house"||a.reportType==="summary")&&l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"houseId",children:"Casa Especfica (opcional)"}),l.jsxs("select",{id:"houseId",value:a.houseId,onChange:g=>h("houseId",g.target.value),children:[l.jsx("option",{value:"",children:"Todas as casas"}),r.map(g=>l.jsx("option",{value:g.id,children:g.houseName},g.id))]})]}),a.reportType==="cash-flow"&&l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"groupBy",children:"Agrupar por"}),l.jsxs("select",{id:"groupBy",value:a.groupBy,onChange:g=>h("groupBy",g.target.value),children:[l.jsx("option",{value:"day",children:"Dia"}),l.jsx("option",{value:"month",children:"Ms"}),l.jsx("option",{value:"quarter",children:"Trimestre"}),l.jsx("option",{value:"year",children:"Ano"})]})]}),a.reportType==="demographic"&&l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"demographicType",children:"Analisar por"}),l.jsxs("select",{id:"demographicType",value:a.demographicType,onChange:g=>h("demographicType",g.target.value),children:[l.jsx("option",{value:"house",children:"Casa"}),l.jsx("option",{value:"gender",children:"Gnero"}),l.jsx("option",{value:"location",children:"Localidade"}),l.jsx("option",{value:"origin",children:"Origem da Venda"})]})]})]}),a.reportType==="comparative"&&l.jsx("div",{className:"comparative-notice",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Relatrio Comparativo:"})," Ser comparado o perodo selecionado com o perodo anterior de mesma durao."]})})]})},qM=({data:t})=>{const e=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n),r=n=>`${n.toFixed(2)}%`;return l.jsxs("div",{className:"financial-summary",children:[l.jsx("h2",{children:"Resumo Financeiro"}),l.jsxs("div",{className:"summary-cards",children:[l.jsxs("div",{className:"summary-card main-card",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ra,{size:40,style:{color:"#667eea"}})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Receita Total"}),l.jsx("p",{className:"card-value",children:e(t.totalRevenue)})]})]}),l.jsxs("div",{className:"summary-card expense-card",children:[l.jsx("div",{className:"card-icon",children:l.jsx(yu,{size:40,style:{color:"#667eea"}})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Despesas Totais"}),l.jsx("p",{className:"card-value",children:e(t.totalExpenses)})]})]}),l.jsxs("div",{className:"summary-card profit-card",children:[l.jsx("div",{className:"card-icon",children:l.jsx(bs,{size:40,style:{color:"#667eea"}})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Lucro Lquido"}),l.jsx("p",{className:"card-value profit",children:e(t.netProfit)})]})]}),l.jsxs("div",{className:"summary-card margin-card",children:[l.jsx("div",{className:"card-icon",children:l.jsx(nu,{size:40,style:{color:"#667eea"}})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Margem de Lucro"}),l.jsx("p",{className:"card-value",children:r(t.profitMargin)})]})]})]}),l.jsxs("div",{className:"revenue-breakdown",children:[l.jsx("h3",{children:"Breakdown de Receitas (Trs Fontes)"}),l.jsxs("div",{className:"breakdown-grid",children:[l.jsxs("div",{className:"breakdown-item",children:[l.jsxs("div",{className:"breakdown-header",children:[l.jsx("span",{className:"breakdown-icon",children:l.jsx(yn,{size:28,style:{color:"#667eea"}})}),l.jsx("h4",{children:"Dirias"})]}),l.jsx("p",{className:"breakdown-value",children:e(t.dailyRatesRevenue)}),l.jsxs("p",{className:"breakdown-percentage",children:[(t.dailyRatesRevenue/t.totalRevenue*100).toFixed(1),"% do total"]})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsxs("div",{className:"breakdown-header",children:[l.jsx("span",{className:"breakdown-icon",children:l.jsx(Q1,{size:28})}),l.jsx("h4",{children:"Concierge"})]}),l.jsx("p",{className:"breakdown-value",children:e(t.conciergeRevenue)}),l.jsxs("p",{className:"breakdown-percentage",children:[(t.conciergeRevenue/t.totalRevenue*100).toFixed(1),"% do total"]})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsxs("div",{className:"breakdown-header",children:[l.jsx("span",{className:"breakdown-icon",children:l.jsx(jn,{size:28})}),l.jsx("h4",{children:"Comisses Fornecedores"})]}),l.jsx("p",{className:"breakdown-value",children:e(t.suppliersCommissionRevenue)}),l.jsxs("p",{className:"breakdown-percentage",children:[(t.suppliersCommissionRevenue/t.totalRevenue*100).toFixed(1),"% do total"]})]})]})]}),l.jsxs("div",{className:"additional-metrics",children:[l.jsxs("div",{className:"metric-item",children:[l.jsx("span",{className:"metric-label",children:"Nmero de Vendas"}),l.jsx("span",{className:"metric-value",children:t.numberOfSales})]}),l.jsxs("div",{className:"metric-item",children:[l.jsx("span",{className:"metric-label",children:"Ticket Mdio"}),l.jsx("span",{className:"metric-value",children:e(t.averageTicket)})]})]})]})},GM=({data:t})=>{const e=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),n=t.reduce((a,o)=>({dailyRatesRevenue:a.dailyRatesRevenue+o.dailyRatesRevenue,conciergeRevenue:a.conciergeRevenue+o.conciergeRevenue,suppliersCommission:a.suppliersCommission+o.suppliersCommission,grossRevenue:a.grossRevenue+o.grossRevenue,expenses:a.expenses+o.expenses,netRevenue:a.netRevenue+o.netRevenue,numberOfSales:a.numberOfSales+o.numberOfSales,numberOfNights:a.numberOfNights+o.numberOfNights}),{dailyRatesRevenue:0,conciergeRevenue:0,suppliersCommission:0,grossRevenue:0,expenses:0,netRevenue:0,numberOfSales:0,numberOfNights:0});return t.length===0?l.jsxs("div",{className:"revenue-by-house-report",children:[l.jsx("h2",{children:"Receitas e Despesas por Casa"}),l.jsx("div",{className:"no-data",children:l.jsx("p",{children:"Nenhum dado encontrado para o perodo selecionado."})})]}):l.jsxs("div",{className:"revenue-by-house-report",children:[l.jsx("h2",{children:"Receitas e Despesas por Casa"}),l.jsx("p",{className:"report-subtitle",children:"Anlise detalhada das trs fontes de receita por propriedade"}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"revenue-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Casa"}),l.jsx("th",{children:"Vendas"}),l.jsx("th",{children:"Noites"}),l.jsx("th",{children:"Dirias"}),l.jsx("th",{children:"Concierge"}),l.jsx("th",{children:"Comisses"}),l.jsx("th",{children:"Receita Bruta"}),l.jsx("th",{children:"Despesas"}),l.jsx("th",{children:"Receita Lquida"})]})}),l.jsx("tbody",{children:t.map(a=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"house-cell",children:[l.jsx("strong",{children:a.houseName}),l.jsx("small",{children:a.houseAddress})]})}),l.jsx("td",{className:"text-center",children:a.numberOfSales}),l.jsx("td",{className:"text-center",children:a.numberOfNights}),l.jsx("td",{className:"text-right revenue-daily",children:e(a.dailyRatesRevenue)}),l.jsx("td",{className:"text-right revenue-concierge",children:e(a.conciergeRevenue)}),l.jsx("td",{className:"text-right revenue-suppliers",children:e(a.suppliersCommission)}),l.jsx("td",{className:"text-right gross-revenue",children:e(a.grossRevenue)}),l.jsx("td",{className:"text-right expenses",children:e(a.expenses)}),l.jsx("td",{className:"text-right net-revenue",children:e(a.netRevenue)})]},a.houseId))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"totals-row",children:[l.jsx("td",{children:l.jsx("strong",{children:"TOTAL GERAL"})}),l.jsx("td",{className:"text-center",children:l.jsx("strong",{children:n.numberOfSales})}),l.jsx("td",{className:"text-center",children:l.jsx("strong",{children:n.numberOfNights})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.dailyRatesRevenue)})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.conciergeRevenue)})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.suppliersCommission)})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.grossRevenue)})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.expenses)})}),l.jsx("td",{className:"text-right",children:l.jsx("strong",{children:e(n.netRevenue)})})]})})]})}),l.jsxs("div",{className:"revenue-sources-legend",children:[l.jsx("h3",{children:"Trs Fontes de Receita"}),l.jsxs("div",{className:"legend-items",children:[l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color daily"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Dirias"}),l.jsx("p",{children:"Valor lquido das dirias (aps descontos)"})]})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color concierge"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Concierge"}),l.jsx("p",{children:"Servios de concierge prestados"})]})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color suppliers"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Comisses Fornecedores"}),l.jsx("p",{children:"Comisses de mercado, frutos do mar, transfer, verduras, cocos, etc."})]})]})]})]})]})},$M=({data:t})=>{const e=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),r=a=>a>0?"positive":a<0?"negative":"neutral";if(t.length===0)return l.jsxs("div",{className:"cash-flow-report",children:[l.jsx("h2",{children:"Fluxo de Caixa"}),l.jsx("div",{className:"no-data",children:l.jsx("p",{children:"Nenhum dado encontrado para o perodo selecionado."})})]});const n=t[t.length-1]?.accumulatedBalance||0;return l.jsxs("div",{className:"cash-flow-report",children:[l.jsxs("div",{className:"report-header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Fluxo de Caixa"}),l.jsx("p",{className:"report-subtitle",children:"Entradas e sadas financeiras por perodo"})]}),l.jsxs("div",{className:"final-balance-card",children:[l.jsx("span",{className:"balance-label",children:"Saldo Final"}),l.jsx("span",{className:`balance-value ${r(n)}`,children:e(n)})]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"cash-flow-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Perodo"}),l.jsx("th",{children:"Entradas"}),l.jsx("th",{children:"Sadas"}),l.jsx("th",{children:"Saldo do Perodo"}),l.jsx("th",{children:"Saldo Acumulado"})]})}),l.jsx("tbody",{children:t.map((a,o)=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:a.period})}),l.jsx("td",{className:"cash-in",children:e(a.cashIn)}),l.jsx("td",{className:"cash-out",children:e(a.cashOut)}),l.jsx("td",{className:`balance ${r(a.balance)}`,children:e(a.balance)}),l.jsx("td",{className:`accumulated ${r(a.accumulatedBalance)}`,children:e(a.accumulatedBalance)})]},o))})]})}),l.jsxs("div",{className:"cash-flow-summary",children:[l.jsxs("div",{className:"summary-item in",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(bs,{size:40})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Total de Entradas"}),l.jsx("span",{className:"summary-value",children:e(t.reduce((a,o)=>a+o.cashIn,0))})]})]}),l.jsxs("div",{className:"summary-item out",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(yu,{size:40})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Total de Sadas"}),l.jsx("span",{className:"summary-value",children:e(t.reduce((a,o)=>a+o.cashOut,0))})]})]}),l.jsxs("div",{className:"summary-item balance",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(Ra,{size:40})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Saldo Total"}),l.jsx("span",{className:`summary-value ${r(t.reduce((a,o)=>a+o.balance,0))}`,children:e(t.reduce((a,o)=>a+o.balance,0))})]})]})]})]})},WM=({data:t})=>{const e=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),r=t.active.count+t.completed.count+t.pending.count,n=t.active.totalRevenue+t.completed.totalRevenue+t.pending.totalRevenue;return l.jsxs("div",{className:"contracts-report",children:[l.jsx("h2",{children:"Relatrio de Contratos"}),l.jsx("p",{className:"report-subtitle",children:"Anlise de contratos ativos, concludos, pendentes e cancelados"}),l.jsxs("div",{className:"contracts-grid",children:[l.jsxs("div",{className:"contract-card active",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("span",{className:"card-icon",children:l.jsx(la,{size:28})}),l.jsx("h3",{children:"Ativos/Confirmados"})]}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Quantidade"}),l.jsx("span",{className:"metric-value",children:t.active.count})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Receita Total"}),l.jsx("span",{className:"metric-value",children:e(t.active.totalRevenue)})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Ticket Mdio"}),l.jsx("span",{className:"metric-value",children:e(t.active.averageValue)})]})]}),l.jsxs("div",{className:"card-footer",children:[l.jsx("div",{className:"percentage-bar",children:l.jsx("div",{className:"percentage-fill active-fill",style:{width:`${r>0?t.active.count/r*100:0}%`}})}),l.jsxs("span",{className:"percentage-text",children:[r>0?(t.active.count/r*100).toFixed(1):0,"% do total"]})]})]}),l.jsxs("div",{className:"contract-card completed",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("span",{className:"card-icon",children:l.jsx(JP,{size:28})}),l.jsx("h3",{children:"Concludos"})]}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Quantidade"}),l.jsx("span",{className:"metric-value",children:t.completed.count})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Receita Total"}),l.jsx("span",{className:"metric-value",children:e(t.completed.totalRevenue)})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Ticket Mdio"}),l.jsx("span",{className:"metric-value",children:e(t.completed.averageValue)})]})]}),l.jsxs("div",{className:"card-footer",children:[l.jsx("div",{className:"percentage-bar",children:l.jsx("div",{className:"percentage-fill completed-fill",style:{width:`${r>0?t.completed.count/r*100:0}%`}})}),l.jsxs("span",{className:"percentage-text",children:[r>0?(t.completed.count/r*100).toFixed(1):0,"% do total"]})]})]}),l.jsxs("div",{className:"contract-card pending",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("span",{className:"card-icon",children:l.jsx(Pd,{size:28})}),l.jsx("h3",{children:"Pendentes"})]}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Quantidade"}),l.jsx("span",{className:"metric-value",children:t.pending.count})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Receita Potencial"}),l.jsx("span",{className:"metric-value",children:e(t.pending.totalRevenue)})]})]}),l.jsxs("div",{className:"card-footer",children:[l.jsx("div",{className:"percentage-bar",children:l.jsx("div",{className:"percentage-fill pending-fill",style:{width:`${r>0?t.pending.count/r*100:0}%`}})}),l.jsxs("span",{className:"percentage-text",children:[r>0?(t.pending.count/r*100).toFixed(1):0,"% do total"]})]})]}),l.jsxs("div",{className:"contract-card cancelled",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("span",{className:"card-icon",children:l.jsx(Z1,{size:28})}),l.jsx("h3",{children:"Cancelados"})]}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Quantidade"}),l.jsx("span",{className:"metric-value",children:t.cancelled.count})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Receita Perdida"}),l.jsx("span",{className:"metric-value",children:e(t.cancelled.lostRevenue)})]})]})]})]}),l.jsxs("div",{className:"contracts-summary",children:[l.jsx("h3",{children:"Resumo Geral"}),l.jsxs("div",{className:"summary-grid",children:[l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Total de Contratos"}),l.jsx("span",{className:"summary-value",children:r})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Receita Total (Efetiva)"}),l.jsx("span",{className:"summary-value",children:e(n)})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Taxa de Cancelamento"}),l.jsxs("span",{className:"summary-value",children:[r+t.cancelled.count>0?(t.cancelled.count/(r+t.cancelled.count)*100).toFixed(1):0,"%"]})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Taxa de Concluso"}),l.jsxs("span",{className:"summary-value",children:[r>0?(t.completed.count/r*100).toFixed(1):0,"%"]})]})]})]})]})},YM=({data:t,type:e})=>{const r=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),n=()=>({house:"Casa",gender:"Gnero",location:"Localidade",origin:"Origem da Venda"})[e],a=()=>({house:l.jsx(yn,{size:24}),gender:l.jsx(jn,{size:24}),location:l.jsx(rM,{size:24}),origin:l.jsx(pl,{size:24})})[e];if(t.length===0)return l.jsxs("div",{className:"demographic-report",children:[l.jsxs("h2",{children:["Anlise Demogrfica - ",n()]}),l.jsx("div",{className:"no-data",children:l.jsx("p",{children:"Nenhum dado encontrado para o perodo selecionado."})})]});const o=t.reduce((h,m)=>h+m.totalRevenue,0),c=t.reduce((h,m)=>h+m.numberOfSales,0);return l.jsxs("div",{className:"demographic-report",children:[l.jsxs("div",{className:"report-header",children:[l.jsxs("div",{children:[l.jsxs("h2",{children:[a()," Anlise Demogrfica - ",n()]}),l.jsxs("p",{className:"report-subtitle",children:["Vendas e receitas segmentadas por ",n().toLowerCase()]})]}),l.jsxs("div",{className:"totals-card",children:[l.jsxs("div",{className:"total-item",children:[l.jsx("span",{className:"total-label",children:"Total de Vendas"}),l.jsx("span",{className:"total-value",children:c})]}),l.jsxs("div",{className:"total-item",children:[l.jsx("span",{className:"total-label",children:"Receita Total"}),l.jsx("span",{className:"total-value",children:r(o)})]})]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"demographic-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:n()}),l.jsx("th",{children:"N de Vendas"}),l.jsx("th",{children:"Receita Total"}),l.jsx("th",{children:"% do Total"}),l.jsx("th",{children:"Ticket Mdio"}),l.jsx("th",{children:"Participao"})]})}),l.jsx("tbody",{children:t.map((h,m)=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:h.value})}),l.jsx("td",{className:"text-center",children:h.numberOfSales}),l.jsx("td",{className:"text-right revenue",children:r(h.totalRevenue)}),l.jsxs("td",{className:"text-center percentage",children:[h.percentage.toFixed(1),"%"]}),l.jsx("td",{className:"text-right",children:r(h.averageTicket)}),l.jsx("td",{children:l.jsx("div",{className:"participation-bar",children:l.jsx("div",{className:"participation-fill",style:{width:`${h.percentage}%`}})})})]},m))})]})}),l.jsxs("div",{className:"highlights",children:[l.jsx("h3",{children:"Destaques"}),l.jsxs("div",{className:"highlights-grid",children:[t.length>0&&l.jsxs("div",{className:"highlight-card top-revenue",children:[l.jsx("div",{className:"highlight-icon",children:l.jsx(RN,{size:40})}),l.jsxs("div",{className:"highlight-content",children:[l.jsx("span",{className:"highlight-label",children:"Maior Receita"}),l.jsx("span",{className:"highlight-title",children:t[0].value}),l.jsx("span",{className:"highlight-value",children:r(t[0].totalRevenue)})]})]}),t.length>0&&l.jsxs("div",{className:"highlight-card top-volume",children:[l.jsx("div",{className:"highlight-icon",children:l.jsx(bl,{size:40})}),l.jsxs("div",{className:"highlight-content",children:[l.jsx("span",{className:"highlight-label",children:"Maior Volume"}),l.jsx("span",{className:"highlight-title",children:[...t].sort((h,m)=>m.numberOfSales-h.numberOfSales)[0].value}),l.jsxs("span",{className:"highlight-value",children:[[...t].sort((h,m)=>m.numberOfSales-h.numberOfSales)[0].numberOfSales," ","vendas"]})]})]}),t.length>0&&l.jsxs("div",{className:"highlight-card top-ticket",children:[l.jsx("div",{className:"highlight-icon",children:l.jsx(Ra,{size:40})}),l.jsxs("div",{className:"highlight-content",children:[l.jsx("span",{className:"highlight-label",children:"Maior Ticket Mdio"}),l.jsx("span",{className:"highlight-title",children:[...t].sort((h,m)=>m.averageTicket-h.averageTicket)[0].value}),l.jsx("span",{className:"highlight-value",children:r([...t].sort((h,m)=>m.averageTicket-h.averageTicket)[0].averageTicket)})]})]})]})]})]})},KM=({data:t})=>{const e=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),r=c=>`${c>0?"+":""}${c.toFixed(1)}%`,n=c=>c==="up"?l.jsx(bs,{size:16}):c==="down"?l.jsx(yu,{size:16}):l.jsx(Wv,{size:16}),a=c=>c==="up"?"trend-up":c==="down"?"trend-down":"trend-neutral",o=[{label:"Total de Vendas",key:"totalSales",format:c=>c.toString()},{label:"Receita Total",key:"totalRevenue",format:e},{label:"Receita Dirias",key:"dailyRates",format:e},{label:"Receita Concierge",key:"concierge",format:e},{label:"Comisses Fornecedores",key:"suppliersCommission",format:e},{label:"Ticket Mdio",key:"averageTicket",format:e},{label:"Noites Vendidas",key:"numberOfNights",format:c=>c.toString()}];return l.jsxs("div",{className:"comparative-report",children:[l.jsxs("h2",{children:[l.jsx(bl,{size:28,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Relatrio Comparativo entre Perodos"]}),l.jsx("p",{className:"report-subtitle",children:"Anlise comparativa das mtricas entre dois perodos"}),l.jsxs("div",{className:"periods-header",children:[l.jsxs("div",{className:"period-card period1",children:[l.jsx("span",{className:"period-label",children:"Perodo 1"}),l.jsx("span",{className:"period-value",children:t.period1.label})]}),l.jsx("div",{className:"versus",children:"VS"}),l.jsxs("div",{className:"period-card period2",children:[l.jsx("span",{className:"period-label",children:"Perodo 2"}),l.jsx("span",{className:"period-value",children:t.period2.label})]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"comparative-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Mtrica"}),l.jsx("th",{children:t.period1.label}),l.jsx("th",{children:t.period2.label}),l.jsx("th",{children:"Variao"}),l.jsx("th",{children:"Variao %"}),l.jsx("th",{children:"Tendncia"})]})}),l.jsx("tbody",{children:o.map(c=>{const h=t.comparison[c.key],m=t.period1.metrics[c.key],f=t.period2.metrics[c.key];return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:c.label})}),l.jsx("td",{className:"value-cell",children:c.format(m)}),l.jsx("td",{className:"value-cell",children:c.format(f)}),l.jsx("td",{className:`change-cell ${a(h.trend)}`,children:c.key==="totalSales"||c.key==="numberOfNights"?h.absoluteChange>0?`+${h.absoluteChange}`:h.absoluteChange.toString():e(h.absoluteChange)}),l.jsx("td",{className:`percentage-cell ${a(h.trend)}`,children:r(h.percentageChange)}),l.jsx("td",{className:"trend-cell",children:l.jsxs("span",{className:`trend-badge ${a(h.trend)}`,children:[n(h.trend)," ",h.trend==="up"?"Crescimento":h.trend==="down"?"Queda":"Estvel"]})})]},c.key)})})]})}),l.jsxs("div",{className:"revenue-sources-comparison",children:[l.jsx("h3",{children:"Comparao das Trs Fontes de Receita"}),l.jsxs("div",{className:"sources-grid",children:[l.jsxs("div",{className:"source-item",children:[l.jsxs("div",{className:"source-header",children:[l.jsx("span",{className:"source-icon",children:l.jsx(yn,{size:28})}),l.jsx("h4",{children:"Dirias"})]}),l.jsxs("div",{className:"source-values",children:[l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 1"}),l.jsx("span",{className:"period-value",children:e(t.period1.metrics.dailyRates)})]}),l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 2"}),l.jsx("span",{className:"period-value",children:e(t.period2.metrics.dailyRates)})]})]}),l.jsx("div",{className:`source-change ${a(t.comparison.dailyRates.trend)}`,children:r(t.comparison.dailyRates.percentageChange)})]}),l.jsxs("div",{className:"source-item",children:[l.jsxs("div",{className:"source-header",children:[l.jsx("span",{className:"source-icon",children:l.jsx(Q1,{size:28})}),l.jsx("h4",{children:"Concierge"})]}),l.jsxs("div",{className:"source-values",children:[l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 1"}),l.jsx("span",{className:"period-value",children:e(t.period1.metrics.concierge)})]}),l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 2"}),l.jsx("span",{className:"period-value",children:e(t.period2.metrics.concierge)})]})]}),l.jsx("div",{className:`source-change ${a(t.comparison.concierge.trend)}`,children:r(t.comparison.concierge.percentageChange)})]}),l.jsxs("div",{className:"source-item",children:[l.jsxs("div",{className:"source-header",children:[l.jsx("span",{className:"source-icon",children:l.jsx(jn,{size:28})}),l.jsx("h4",{children:"Comisses"})]}),l.jsxs("div",{className:"source-values",children:[l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 1"}),l.jsx("span",{className:"period-value",children:e(t.period1.metrics.suppliersCommission)})]}),l.jsxs("div",{className:"source-period",children:[l.jsx("span",{className:"period-label",children:"Perodo 2"}),l.jsx("span",{className:"period-value",children:e(t.period2.metrics.suppliersCommission)})]})]}),l.jsx("div",{className:`source-change ${a(t.comparison.suppliersCommission.trend)}`,children:r(t.comparison.suppliersCommission.percentageChange)})]})]})]})]})},XM=({data:t})=>{const e=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),r=c=>`${c.toFixed(2)}%`,n=t.reduce((c,h)=>c+h.grossRevenue,0),a=t.reduce((c,h)=>c+h.taxAmount,0),o=t.reduce((c,h)=>c+h.netRevenue,0);return l.jsxs("div",{className:"tax-report",children:[l.jsxs("h2",{children:[l.jsx(Ra,{size:28,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Relatrio de Impostos por Empresa"]}),l.jsx("p",{className:"report-subtitle",children:"Anlise de impostos pagos e receita lquida por empresa"}),l.jsx("div",{className:"companies-grid",children:t.map((c,h)=>l.jsxs("div",{className:"company-card",children:[l.jsxs("div",{className:"company-header",children:[l.jsx("h3",{children:c.companyName}),l.jsx("span",{className:"company-period",children:c.period})]}),l.jsxs("div",{className:"company-metrics",children:[l.jsxs("div",{className:"metric-row",children:[l.jsx("span",{className:"metric-label",children:"Receita Bruta"}),l.jsx("span",{className:"metric-value gross",children:e(c.grossRevenue)})]}),l.jsxs("div",{className:"metric-row",children:[l.jsx("span",{className:"metric-label",children:"Receita Tributvel"}),l.jsx("span",{className:"metric-value",children:e(c.taxableRevenue)})]}),l.jsxs("div",{className:"metric-row",children:[l.jsx("span",{className:"metric-label",children:"Alquota"}),l.jsx("span",{className:"metric-value tax-rate",children:r(c.taxRate)})]}),l.jsxs("div",{className:"metric-row highlight",children:[l.jsx("span",{className:"metric-label",children:"Valor do Imposto"}),l.jsx("span",{className:"metric-value tax",children:e(c.taxAmount)})]}),l.jsxs("div",{className:"metric-row highlight",children:[l.jsx("span",{className:"metric-label",children:"Receita Lquida"}),l.jsx("span",{className:"metric-value net",children:e(c.netRevenue)})]})]}),l.jsxs("div",{className:"tax-visualization",children:[l.jsxs("div",{className:"tax-bar",children:[l.jsx("div",{className:"tax-portion",style:{width:`${c.taxAmount/c.grossRevenue*100}%`},title:`Imposto: ${r(c.taxAmount/c.grossRevenue*100)}`}),l.jsx("div",{className:"net-portion",style:{width:`${c.netRevenue/c.grossRevenue*100}%`},title:`Lquido: ${r(c.netRevenue/c.grossRevenue*100)}`})]}),l.jsxs("div",{className:"tax-legend",children:[l.jsxs("span",{className:"legend-item",children:[l.jsx("span",{className:"legend-color tax-color"}),"Imposto"]}),l.jsxs("span",{className:"legend-item",children:[l.jsx("span",{className:"legend-color net-color"}),"Lquido"]})]})]})]},h))}),l.jsxs("div",{className:"tax-summary",children:[l.jsx("h3",{children:"Resumo Consolidado"}),l.jsxs("div",{className:"summary-grid",children:[l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(Ra,{size:32})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Receita Bruta Total"}),l.jsx("span",{className:"summary-value",children:e(n)})]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(wo,{size:32})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Total de Impostos Pagos"}),l.jsx("span",{className:"summary-value tax",children:e(a)})]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(Ra,{size:32})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Receita Lquida Total"}),l.jsx("span",{className:"summary-value net",children:e(o)})]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-icon",children:l.jsx(nu,{size:32})}),l.jsxs("div",{className:"summary-content",children:[l.jsx("span",{className:"summary-label",children:"Carga Tributria Mdia"}),l.jsx("span",{className:"summary-value",children:r(n>0?a/n*100:0)})]})]})]})]}),l.jsxs("div",{className:"tax-notes",children:[l.jsxs("h4",{children:[l.jsx(zm,{size:20,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Observaes"]}),l.jsxs("ul",{children:[l.jsx("li",{children:"Os valores de impostos so calculados com base na alquota configurada para cada empresa"}),l.jsx("li",{children:"A alquota padro  de 6% (Simples Nacional), mas pode ser ajustada no cdigo conforme necessrio"}),l.jsx("li",{children:"Valores consideram apenas vendas no canceladas no perodo"}),l.jsx("li",{children:"Para relatrios fiscais oficiais, consulte sempre um contador certificado"})]})]})]})},QM={exclusive:6,giogio:6,direta:6},JM={exclusive:"Exclusive Imveis",giogio:"Gio Gio Temporadas",direta:"Venda Direta"},Qs=(t,e,r)=>!e&&!r?t:t.filter(n=>{const a=n.checkInDate;return!(e&&a<e||r&&a>r)}),Yi=(t,e)=>!e||e==="all"?t:t.filter(r=>r.company===e),ZM=(t,e)=>{const r=new Map;return t.forEach(n=>{let a;const o=n.checkInDate;switch(e){case"day":a=o.toISOString().split("T")[0];break;case"month":a=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;break;case"quarter":{const c=Math.floor(o.getMonth()/3)+1;a=`${o.getFullYear()}-Q${c}`;break}case"year":a=o.getFullYear().toString();break;default:a=o.toISOString().split("T")[0]}r.has(a)||r.set(a,[]),r.get(a).push(n)}),r},eF=(t,e)=>{if(e==="day"){const[r,n,a]=t.split("-");return`${a}/${n}/${r}`}if(e==="month"){const[r,n]=t.split("-");return`${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(n)-1]}/${r}`}return t},Ki={async getRevenueByHouse(t){try{let e=await $r.getAll();e=Qs(e,t?.startDate,t?.endDate),e=Yi(e,t?.company),t?.houseId&&(e=e.filter(a=>a.houseId===t.houseId)),e=e.filter(a=>a.status!=="cancelled");const r=new Map;e.forEach(a=>{r.has(a.houseId)||r.set(a.houseId,[]),r.get(a.houseId).push(a)});const n=[];return r.forEach((a,o)=>{const c=a.reduce((E,w)=>E+w.netValue,0),h=a.reduce((E,w)=>E+w.conciergeValue,0),m=a.reduce((E,w)=>E+w.totalAdditionalSales,0),f=a.reduce((E,w)=>E+w.housekeeperValue+w.salesCommission,0),g=a.reduce((E,w)=>E+w.numberOfNights,0),x=c+h+m,y=x-f;n.push({houseId:o,houseName:a[0].houseName,houseAddress:a[0].houseAddress,dailyRatesRevenue:c,conciergeRevenue:h,suppliersCommission:m,grossRevenue:x,expenses:f,netRevenue:y,numberOfSales:a.length,numberOfNights:g})}),n.sort((a,o)=>o.netRevenue-a.netRevenue)}catch(e){throw console.error("Erro ao calcular receitas por casa:",e),new Error("Falha ao gerar relatrio de receitas por casa")}},async getCashFlow(t){try{let e=await $r.getAll();e=Qs(e,t?.startDate,t?.endDate),e=Yi(e,t?.company),e=e.filter(h=>h.status!=="cancelled");const r=t?.groupBy||"month",n=ZM(e,r),a=[];let o=0;return Array.from(n.keys()).sort().forEach(h=>{const m=n.get(h),f=m.reduce((T,b)=>T+b.totalRevenue,0),g=m.reduce((T,b)=>T+b.housekeeperValue+b.salesCommission,0),x=f-g;o+=x;const[y,E]=h.split("-"),w=new Date(parseInt(y),parseInt(E)-1,1);a.push({period:eF(h,r),date:w,cashIn:f,cashOut:g,balance:x,accumulatedBalance:o})}),a}catch(e){throw console.error("Erro ao calcular fluxo de caixa:",e),new Error("Falha ao gerar relatrio de fluxo de caixa")}},async getContractsReport(t){try{let e=await $r.getAll();e=Qs(e,t?.startDate,t?.endDate),e=Yi(e,t?.company);const r=e.filter(h=>h.status==="confirmed"||h.status==="pending"),n=e.filter(h=>h.status==="completed"),a=e.filter(h=>h.status==="pending"),o=e.filter(h=>h.status==="cancelled"),c=h=>{const m=h.reduce((g,x)=>g+x.totalRevenue,0),f=h.length>0?m/h.length:0;return{count:h.length,totalRevenue:m,averageValue:f}};return{active:c(r),completed:c(n),pending:{count:a.length,totalRevenue:a.reduce((h,m)=>h+m.totalRevenue,0)},cancelled:{count:o.length,lostRevenue:o.reduce((h,m)=>h+m.totalRevenue,0)}}}catch(e){throw console.error("Erro ao gerar relatrio de contratos:",e),new Error("Falha ao gerar relatrio de contratos")}},async getRevenueBreakdown(t){try{let e=await $r.getAll();e=Qs(e,t?.startDate,t?.endDate),e=Yi(e,t?.company),e=e.filter(c=>c.status!=="cancelled");const r=e.reduce((c,h)=>c+h.netValue,0),n=e.reduce((c,h)=>c+h.conciergeValue,0),a=e.reduce((c,h)=>c+h.totalAdditionalSales,0),o=r+n+a;return{dailyRates:{total:r,percentage:o>0?r/o*100:0},concierge:{total:n,percentage:o>0?n/o*100:0},suppliersCommission:{total:a,percentage:o>0?a/o*100:0},totalRevenue:o}}catch(e){throw console.error("Erro ao calcular breakdown de receitas:",e),new Error("Falha ao gerar relatrio de receitas")}},async getDemographicReport(t,e){try{let r=await $r.getAll();r=Qs(r,e?.startDate,e?.endDate),r=Yi(r,e?.company),r=r.filter(c=>c.status!=="cancelled");const n=new Map;r.forEach(c=>{let h;switch(t){case"house":h=c.houseName;break;case"gender":h=c.clientGender||"No informado";break;case"location":h=c.houseAddress.split(" - ")[1]||"No informado";break;case"origin":h=c.saleOrigin;break;default:h="Outros"}n.has(h)||n.set(h,[]),n.get(h).push(c)});const a=r.reduce((c,h)=>c+h.totalRevenue,0),o=[];return n.forEach((c,h)=>{const m=c.reduce((f,g)=>f+g.totalRevenue,0);o.push({category:t,value:h,numberOfSales:c.length,totalRevenue:m,percentage:a>0?m/a*100:0,averageTicket:c.length>0?m/c.length:0})}),o.sort((c,h)=>h.totalRevenue-c.totalRevenue)}catch(r){throw console.error("Erro ao gerar relatrio demogrfico:",r),new Error("Falha ao gerar relatrio demogrfico")}},async getComparativeReport(t,e,r,n,a){try{const o=await $r.getAll();let c=Qs(o,t,e),h=Qs(o,r,n);c=Yi(c,a),h=Yi(h,a),c=c.filter(y=>y.status!=="cancelled"),h=h.filter(y=>y.status!=="cancelled");const m=y=>{const E=y.reduce((w,T)=>w+T.totalRevenue,0);return{totalSales:y.length,totalRevenue:E,dailyRates:y.reduce((w,T)=>w+T.netValue,0),concierge:y.reduce((w,T)=>w+T.conciergeValue,0),suppliersCommission:y.reduce((w,T)=>w+T.totalAdditionalSales,0),averageTicket:y.length>0?E/y.length:0,numberOfNights:y.reduce((w,T)=>w+T.numberOfNights,0)}},f={label:`${t.toLocaleDateString("pt-BR")} - ${e.toLocaleDateString("pt-BR")}`,startDate:t,endDate:e,metrics:m(c)},g={label:`${r.toLocaleDateString("pt-BR")} - ${n.toLocaleDateString("pt-BR")}`,startDate:r,endDate:n,metrics:m(h)},x=(y,E)=>{const w=E-y,T=y!==0?w/y*100:0,b=w>0?"up":w<0?"down":"neutral";return{absoluteChange:w,percentageChange:T,trend:b}};return{period1:f,period2:g,comparison:{totalSales:x(f.metrics.totalSales,g.metrics.totalSales),totalRevenue:x(f.metrics.totalRevenue,g.metrics.totalRevenue),dailyRates:x(f.metrics.dailyRates,g.metrics.dailyRates),concierge:x(f.metrics.concierge,g.metrics.concierge),suppliersCommission:x(f.metrics.suppliersCommission,g.metrics.suppliersCommission),averageTicket:x(f.metrics.averageTicket,g.metrics.averageTicket),numberOfNights:x(f.metrics.numberOfNights,g.metrics.numberOfNights)}}}catch(o){throw console.error("Erro ao gerar relatrio comparativo:",o),new Error("Falha ao gerar relatrio comparativo")}},async getTaxReport(t){try{const e=await $r.getAll();let r=Qs(e,t?.startDate,t?.endDate);r=r.filter(o=>o.status!=="cancelled");const n=["exclusive","giogio","direta"],a=[];return n.forEach(o=>{const h=r.filter(x=>x.company===o).reduce((x,y)=>x+y.totalRevenue,0),m=QM[o],f=h*m/100,g=h-f;a.push({company:o,companyName:JM[o],period:t?.startDate&&t?.endDate?`${t.startDate.toLocaleDateString("pt-BR")} - ${t.endDate.toLocaleDateString("pt-BR")}`:"Todos os perodos",grossRevenue:h,taxableRevenue:h,taxRate:m,taxAmount:f,netRevenue:g})}),a}catch(e){throw console.error("Erro ao gerar relatrio de impostos:",e),new Error("Falha ao gerar relatrio de impostos")}},async getFinancialSummary(t){try{let e=await $r.getAll();e=Qs(e,t?.startDate,t?.endDate),e=Yi(e,t?.company),e=e.filter(c=>c.status!=="cancelled");const r=e.reduce((c,h)=>c+h.totalRevenue,0),n=e.reduce((c,h)=>c+h.housekeeperValue+h.salesCommission,0),a=r-n,o=r>0?a/r*100:0;return{totalRevenue:r,totalExpenses:n,netProfit:a,profitMargin:o,numberOfSales:e.length,averageTicket:e.length>0?r/e.length:0,dailyRatesRevenue:e.reduce((c,h)=>c+h.netValue,0),conciergeRevenue:e.reduce((c,h)=>c+h.conciergeValue,0),suppliersCommissionRevenue:e.reduce((c,h)=>c+h.totalAdditionalSales,0)}}catch(e){throw console.error("Erro ao calcular resumo financeiro:",e),new Error("Falha ao gerar resumo financeiro")}},formatCurrency(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)},formatPercentage(t){return`${t.toFixed(2)}%`}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var tm={};tm.version="0.18.5";var PN=1252,tF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MN=function(t){tF.indexOf(t)!=-1&&(PN=t)};function rF(){MN(1252)}var fd=function(t){MN(t)};function nF(){fd(1200),rF()}var d0=function(e){return String.fromCharCode(e)},QT=function(e){return String.fromCharCode(e)},rm,so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function md(t){for(var e="",r=0,n=0,a=0,o=0,c=0,h=0,m=0,f=0;f<t.length;)r=t.charCodeAt(f++),o=r>>2,n=t.charCodeAt(f++),c=(r&3)<<4|n>>4,a=t.charCodeAt(f++),h=(n&15)<<2|a>>6,m=a&63,isNaN(n)?h=m=64:isNaN(a)&&(m=64),e+=so.charAt(o)+so.charAt(c)+so.charAt(h)+so.charAt(m);return e}function hi(t){var e="",r=0,n=0,a=0,o=0,c=0,h=0,m=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=so.indexOf(t.charAt(f++)),c=so.indexOf(t.charAt(f++)),r=o<<2|c>>4,e+=String.fromCharCode(r),h=so.indexOf(t.charAt(f++)),n=(c&15)<<4|h>>2,h!==64&&(e+=String.fromCharCode(n)),m=so.indexOf(t.charAt(f++)),a=(h&3)<<6|m,m!==64&&(e+=String.fromCharCode(a));return e}var Dt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),gi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Nl(t){return Dt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function JT(t){return Dt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var $a=function(e){return Dt?gi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Hm(t){if(typeof ArrayBuffer>"u")return $a(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Fd(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function aF(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var on=Dt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:gi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function sF(t){for(var e=[],r=0,n=t.length+250,a=Nl(t.length+255),o=0;o<t.length;++o){var c=t.charCodeAt(o);if(c<128)a[r++]=c;else if(c<2048)a[r++]=192|c>>6&31,a[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var h=t.charCodeAt(++o)&1023;a[r++]=240|c>>8&7,a[r++]=128|c>>2&63,a[r++]=128|h>>6&15|(c&3)<<4,a[r++]=128|h&63}else a[r++]=224|c>>12&15,a[r++]=128|c>>6&63,a[r++]=128|c&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Nl(65535),n=65530)}return e.push(a.slice(0,r)),on(e)}var Kh=/\u0000/g,f0=/[\u0001-\u0006]/g;function $c(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ya(t,e){var r=""+t;return r.length>=e?r:mr("0",e-r.length)+r}function ex(t,e){var r=""+t;return r.length>=e?r:mr(" ",e-r.length)+r}function nm(t,e){var r=""+t;return r.length>=e?r:r+mr(" ",e-r.length)}function iF(t,e){var r=""+Math.round(t);return r.length>=e?r:mr("0",e-r.length)+r}function oF(t,e){var r=""+t;return r.length>=e?r:mr("0",e-r.length)+r}var ZT=Math.pow(2,32);function Rc(t,e){if(t>ZT||t<-ZT)return iF(t,e);var r=Math.round(t);return oF(r,e)}function am(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var ew=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],cv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var pr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},tw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sm(t,e,r){for(var n=t<0?-1:1,a=t*n,o=0,c=1,h=0,m=1,f=0,g=0,x=Math.floor(a);f<e&&(x=Math.floor(a),h=x*c+o,g=x*f+m,!(a-x<5e-8));)a=1/(a-x),o=c,c=h,m=f,f=g;if(g>e&&(f>e?(g=m,h=o):(g=f,h=c)),!r)return[0,n*h,g];var y=Math.floor(n*h/g);return[y,n*h-y*g,g]}function m0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),o=0,c=[],h={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(h.u)<1e-6&&(h.u=0),e&&e.date1904&&(n+=1462),h.u>.9999&&(h.u=0,++a==86400&&(h.T=a=0,++n,++h.D)),n===60)c=r?[1317,10,29]:[1900,2,29],o=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var m=new Date(1900,0,1);m.setDate(m.getDate()+n-1),c=[m.getFullYear(),m.getMonth()+1,m.getDate()],o=m.getDay(),n<60&&(o=(o+6)%7),r&&(o=gF(m,c))}return h.y=c[0],h.m=c[1],h.d=c[2],h.S=a%60,a=Math.floor(a/60),h.M=a%60,a=Math.floor(a/60),h.H=a,h.q=o,h}var FN=new Date(1899,11,31,0,0,0),uF=FN.getTime(),hF=new Date(1900,2,1,0,0,0);function LN(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=hF&&(r+=1440*60*1e3),(r-(uF+(t.getTimezoneOffset()-FN.getTimezoneOffset())*6e4))/(1440*60*1e3)}function tx(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fF(t){var e=t<0?12:11,r=tx(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function mF(t){var e=tx(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function pF(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=fF(t):e===10?r=t.toFixed(10).substr(0,12):r=mF(t),tx(dF(r.toUpperCase()))}function Yv(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):pF(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return So(14,LN(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gF(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function vF(t,e,r,n){var a="",o=0,c=0,h=r.y,m,f=0;switch(t){case 98:h=r.y+543;case 121:switch(e.length){case 1:case 2:m=h%100,f=2;break;default:m=h%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:m=r.m,f=e.length;break;case 3:return cv[r.m-1][1];case 5:return cv[r.m-1][0];default:return cv[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:m=r.d,f=e.length;break;case 3:return ew[r.q][0];default:return ew[r.q][1]}break;case 104:switch(e.length){case 1:case 2:m=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:m=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:m=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ya(r.S,e.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,o=Math.round(c*(r.S+r.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(a=Ya(o,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":m=r.D*24+r.H;break;case"[m]":case"[mm]":m=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":m=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:m=h,f=1;break}var g=f>0?Ya(m,f):"";return g}function io(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var VN=/%/g;function xF(t,e,r){var n=e.replace(VN,""),a=e.length-n.length;return ni(t,n,r*Math.pow(10,2*a))+mr("%",a)}function yF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ni(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function BN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+BN(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),r=(e/Math.pow(10,o)).toPrecision(n+1+(a+o)%a),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,m,f,g){return m+f+g.substr(0,(a+o)%a)+"."+g.substr(o)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var UN=/# (\?+)( ?)\/( ?)(\d+)/;function _F(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),o=Math.floor(a/n),c=a-o*n,h=n;return r+(o===0?"":""+o)+" "+(c===0?mr(" ",t[1].length+1+t[4].length):ex(c,t[1].length)+t[2]+"/"+t[3]+Ya(h,t[4].length))}function EF(t,e,r){return r+(e===0?"":""+e)+mr(" ",t[1].length+2+t[4].length)}var zN=/^#*0*\.([0#]+)/,HN=/\).*[0#]/,qN=/\(###\) ###\\?-####/;function Cn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function rw(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function nw(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function TF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function wF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Sa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(HN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Sa("n",n,r):"("+Sa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return yF(t,e,r);if(e.indexOf("%")!==-1)return xF(t,e,r);if(e.indexOf("E")!==-1)return BN(e,r);if(e.charCodeAt(0)===36)return"$"+Sa(t,e.substr(e.charAt(1)==" "?2:1),r);var a,o,c,h,m=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Rc(m,e.length);if(e.match(/^[#?]+$/))return a=Rc(r,0),a==="0"&&(a=""),a.length>e.length?a:Cn(e.substr(0,e.length-a.length))+a;if(o=e.match(UN))return _F(o,m,f);if(e.match(/^#+0+$/))return f+Rc(m,e.length-e.indexOf("0"));if(o=e.match(zN))return a=rw(r,o[1].length).replace(/^([^\.]+)$/,"$1."+Cn(o[1])).replace(/\.$/,"."+Cn(o[1])).replace(/\.(\d*)$/,function(w,T){return"."+T+mr("0",Cn(o[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+rw(m,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+io(Rc(m,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Sa(t,e,-r):io(""+(Math.floor(r)+TF(r,o[1].length)))+"."+Ya(nw(r,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Sa(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$c(Sa(t,e.replace(/[\\-]/g,""),r)),c=0,$c($c(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return c<a.length?a.charAt(c++):w==="0"?"0":""}));if(e.match(qN))return a=Sa(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=sm(m,Math.pow(10,c)-1,!1),a=""+f,g=ni("n",o[1],h[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+o[2]+"/"+o[3],g=nm(h[2],c),g.length<o[4].length&&(g=Cn(o[4].substr(o[4].length-g.length))+g),a+=g,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=sm(m,Math.pow(10,c)-1,!0),f+(h[0]||(h[1]?"":"0"))+" "+(h[1]?ex(h[1],c)+o[2]+"/"+o[3]+nm(h[2],c):mr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=Rc(r,0),e.length<=a.length?a:Cn(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var x=e.indexOf(".")-c,y=e.length-a.length-x;return Cn(e.substr(0,x)+a+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=nw(r,o[1].length),r<0?"-"+Sa(t,e,-r):io(wF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ya(0,3-w.length):"")+w})+"."+Ya(c,o[1].length);switch(e){case"###,##0.00":return Sa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var E=io(Rc(m,0));return E!=="0"?f+E:"";case"###,###.00":return Sa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Sa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function SF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ni(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function bF(t,e,r){var n=e.replace(VN,""),a=e.length-n.length;return ni(t,n,r*Math.pow(10,2*a))+mr("%",a)}function GN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+GN(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),r=(e/Math.pow(10,o)).toPrecision(n+1+(a+o)%a),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,m,f,g){return m+f+g.substr(0,(a+o)%a)+"."+g.substr(o)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(t,e,r){if(t.charCodeAt(0)===40&&!e.match(HN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return SF(t,e,r);if(e.indexOf("%")!==-1)return bF(t,e,r);if(e.indexOf("E")!==-1)return GN(e,r);if(e.charCodeAt(0)===36)return"$"+ps(t,e.substr(e.charAt(1)==" "?2:1),r);var a,o,c,h,m=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Ya(m,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:Cn(e.substr(0,e.length-a.length))+a;if(o=e.match(UN))return EF(o,m,f);if(e.match(/^#+0+$/))return f+Ya(m,e.length-e.indexOf("0"));if(o=e.match(zN))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Cn(o[1])).replace(/\.$/,"."+Cn(o[1])),a=a.replace(/\.(\d*)$/,function(w,T){return"."+T+mr("0",Cn(o[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+io(""+m);if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(t,e,-r):io(""+r)+"."+mr("0",o[1].length);if(o=e.match(/^#,#*,#0/))return ps(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$c(ps(t,e.replace(/[\\-]/g,""),r)),c=0,$c($c(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return c<a.length?a.charAt(c++):w==="0"?"0":""}));if(e.match(qN))return a=ps(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=sm(m,Math.pow(10,c)-1,!1),a=""+f,g=ni("n",o[1],h[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+o[2]+"/"+o[3],g=nm(h[2],c),g.length<o[4].length&&(g=Cn(o[4].substr(o[4].length-g.length))+g),a+=g,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=sm(m,Math.pow(10,c)-1,!0),f+(h[0]||(h[1]?"":"0"))+" "+(h[1]?ex(h[1],c)+o[2]+"/"+o[3]+nm(h[2],c):mr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:Cn(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var x=e.indexOf(".")-c,y=e.length-a.length-x;return Cn(e.substr(0,x)+a+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(t,e,-r):io(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Ya(0,3-w.length):"")+w})+"."+Ya(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=io(""+m);return E!=="0"?f+E:"";default:if(e.match(/\.[0#?]*$/))return ps(t,e.slice(0,e.lastIndexOf(".")),r)+Cn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ni(t,e,r){return(r|0)===r?ps(t,e,r):Sa(t,e,r)}function NF(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var $N=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WN(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":am(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match($N))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function AF(t,e,r,n){for(var a=[],o="",c=0,h="",m="t",f,g,x,y="H";c<t.length;)switch(h=t.charAt(c)){case"G":if(!am(t,c))throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(x=t.charCodeAt(++c))!==34&&c<t.length;)o+=String.fromCharCode(x);a[a.length]={t:"t",v:o},++c;break;case"\\":var E=t.charAt(++c),w=E==="("||E===")"?E:"t";a[a.length]={t:w,v:E},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(f==null&&(f=m0(e,r,t.charAt(c+1)==="2"),f==null))return"";a[a.length]={t:"X",v:t.substr(c,2)},m=h,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=m0(e,r),f==null))return"";for(o=h;++c<t.length&&t.charAt(c).toLowerCase()===h;)o+=h;h==="m"&&m.toLowerCase()==="h"&&(h="M"),h==="h"&&(h=y),a[a.length]={t:h,v:o},m=h;break;case"A":case"a":case"":var T={t:h,v:h};if(f==null&&(f=m0(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(f!=null&&(T.v=f.H>=12?"P":"A"),T.t="T",y="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(f!=null&&(T.v=f.H>=12?"PM":"AM"),T.t="T",c+=5,y="h"):t.substr(c,5).toUpperCase()==="/"?(f!=null&&(T.v=f.H>=12?"":""),T.t="T",c+=5,y="h"):(T.t="t",++c),f==null&&T.t==="T")return"";a[a.length]=T,m=h;break;case"[":for(o=h;t.charAt(c++)!=="]"&&c<t.length;)o+=t.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match($N)){if(f==null&&(f=m0(e,r),f==null))return"";a[a.length]={t:"Z",v:o.toLowerCase()},m=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",WN(t)||(a[a.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=h;++c<t.length&&(h=t.charAt(c))==="0";)o+=h;a[a.length]={t:"s",v:o};break}case"0":case"#":for(o=h;++c<t.length&&"0#?.,E+-%".indexOf(h=t.charAt(c))>-1;)o+=h;a[a.length]={t:"n",v:o};break;case"?":for(o=h;t.charAt(++c)===h;)o+=h;a[a.length]={t:h,v:o},m=h;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:n===1?"t":h,v:h},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=h;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)o+=t.charAt(c);a[a.length]={t:"D",v:o};break;case" ":a[a.length]={t:h,v:h},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(h)===-1)throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"t",v:h},++c;break}var b=0,D=0,k;for(c=a.length-1,m="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=y,m="h",b<1&&(b=1);break;case"s":(k=a[c].v.match(/\.0+$/))&&(D=Math.max(D,k[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":m=a[c].t;break;case"m":m==="s"&&(a[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[c].v.match(/[Hh]/)&&(b=1),b<2&&a[c].v.match(/[Mm]/)&&(b=2),b<3&&a[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var V="",W;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=vF(a[c].t.charCodeAt(0),a[c].v,f,D),a[c].t="t";break;case"n":case"?":for(W=c+1;a[W]!=null&&((h=a[W].t)==="?"||h==="D"||(h===" "||h==="t")&&a[W+1]!=null&&(a[W+1].t==="?"||a[W+1].t==="t"&&a[W+1].v==="/")||a[c].t==="("&&(h===" "||h==="n"||h===")")||h==="t"&&(a[W].v==="/"||a[W].v===" "&&a[W+1]!=null&&a[W+1].t=="?"));)a[c].v+=a[W].v,a[W]={v:"",t:";"},++W;V+=a[c].v,c=W-1;break;case"G":a[c].t="t",a[c].v=Yv(e,r);break}var z="",Q,I;if(V.length>0){V.charCodeAt(0)==40?(Q=e<0&&V.charCodeAt(0)===45?-e:e,I=ni("n",V,Q)):(Q=e<0&&n>1?-e:e,I=ni("n",V,Q),Q<0&&a[0]&&a[0].t=="t"&&(I=I.substr(1),a[0].v="-"+a[0].v)),W=I.length-1;var A=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){A=c;break}var C=a.length;if(A===a.length&&I.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(W>=a[c].v.length-1?(W-=a[c].v.length,a[c].v=I.substr(W+1,a[c].v.length)):W<0?a[c].v="":(a[c].v=I.substr(0,W+1),W=-1),a[c].t="t",C=c);W>=0&&C<a.length&&(a[C].v=I.substr(0,W+1)+a[C].v)}else if(A!==a.length&&I.indexOf("E")===-1){for(W=I.indexOf(".")-1,c=A;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(g=a[c].v.indexOf(".")>-1&&c===A?a[c].v.indexOf(".")-1:a[c].v.length-1,z=a[c].v.substr(g+1);g>=0;--g)W>=0&&(a[c].v.charAt(g)==="0"||a[c].v.charAt(g)==="#")&&(z=I.charAt(W--)+z);a[c].v=z,a[c].t="t",C=c}for(W>=0&&C<a.length&&(a[C].v=I.substr(0,W+1)+a[C].v),W=I.indexOf(".")+1,c=A;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==A)){for(g=a[c].v.indexOf(".")>-1&&c===A?a[c].v.indexOf(".")+1:0,z=a[c].v.substr(0,g);g<a[c].v.length;++g)W<I.length&&(z+=I.charAt(W++));a[c].v=z,a[c].t="t",C=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(Q=n>1&&e<0&&c>0&&a[c-1].v==="-"?-e:e,a[c].v=ni(a[c].t,a[c].v,Q),a[c].t="t");var P="";for(c=0;c!==a.length;++c)a[c]!=null&&(P+=a[c].v);return P}var aw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sw(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function CF(t,e){var r=NF(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var o=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,o];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(aw),h=r[1].match(aw);return sw(e,c)?[n,r[0]]:sw(e,h)?[n,r[1]]:[n,r[c!=null&&h!=null?2:1]]}return[n,o]}function So(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:pr)[t],n==null&&(n=r.table&&r.table[tw[t]]||pr[tw[t]]),n==null&&(n=cF[t]||"General");break}if(am(n,0))return Yv(e,r);e instanceof Date&&(e=LN(e,r.date1904));var a=CF(n,e);if(am(a[1]))return Yv(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return AF(a[1],e,r,a[0])}function YN(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(pr[r]==null){e<0&&(e=r);continue}if(pr[r]==t){e=r;break}}e<0&&(e=391)}return pr[e]=t,e}function qm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&YN(t[e],e)}function Gm(){pr=lF()}var KN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function RF(t){var e=typeof t=="number"?pr[t]:t;return e=e.replace(KN,"(\\d+)"),new RegExp("^"+e+"$")}function jF(t,e,r){var n=-1,a=-1,o=-1,c=-1,h=-1,m=-1;(e.match(KN)||[]).forEach(function(x,y){var E=parseInt(r[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=E;break;case"d":o=E;break;case"h":c=E;break;case"s":m=E;break;case"m":c>=0?h=E:a=E;break}}),m>=0&&h==-1&&a>=0&&(h=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var g=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return c==-1&&h==-1&&m==-1?f:n==-1&&a==-1&&o==-1?g:f+"T"+g}var DF=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,A=new Array(256),C=0;C!=256;++C)I=C,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,A[C]=I;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(I){var A=0,C=0,P=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)N[P]=I[P];for(P=0;P!=256;++P)for(C=I[P],A=256+P;A<4096;A+=256)C=N[A]=C>>>8^I[C&255];var O=[];for(P=1;P!=16;++P)O[P-1]=typeof Int32Array<"u"?N.subarray(P*256,P*256+256):N.slice(P*256,P*256+256);return O}var a=n(r),o=a[0],c=a[1],h=a[2],m=a[3],f=a[4],g=a[5],x=a[6],y=a[7],E=a[8],w=a[9],T=a[10],b=a[11],D=a[12],k=a[13],V=a[14];function W(I,A){for(var C=A^-1,P=0,N=I.length;P<N;)C=C>>>8^r[(C^I.charCodeAt(P++))&255];return~C}function z(I,A){for(var C=A^-1,P=I.length-15,N=0;N<P;)C=V[I[N++]^C&255]^k[I[N++]^C>>8&255]^D[I[N++]^C>>16&255]^b[I[N++]^C>>>24]^T[I[N++]]^w[I[N++]]^E[I[N++]]^y[I[N++]]^x[I[N++]]^g[I[N++]]^f[I[N++]]^m[I[N++]]^h[I[N++]]^c[I[N++]]^o[I[N++]]^r[I[N++]];for(P+=15;N<P;)C=C>>>8^r[(C^I[N++])&255];return~C}function Q(I,A){for(var C=A^-1,P=0,N=I.length,O=0,L=0;P<N;)O=I.charCodeAt(P++),O<128?C=C>>>8^r[(C^O)&255]:O<2048?(C=C>>>8^r[(C^(192|O>>6&31))&255],C=C>>>8^r[(C^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,L=I.charCodeAt(P++)&1023,C=C>>>8^r[(C^(240|O>>8&7))&255],C=C>>>8^r[(C^(128|O>>2&63))&255],C=C>>>8^r[(C^(128|L>>6&15|(O&3)<<4))&255],C=C>>>8^r[(C^(128|L&63))&255]):(C=C>>>8^r[(C^(224|O>>12&15))&255],C=C>>>8^r[(C^(128|O>>6&63))&255],C=C>>>8^r[(C^(128|O&63))&255]);return~C}return t.table=r,t.bstr=W,t.buf=z,t.str=Q,t})(),Yt=(function(){var e={};e.version="1.2.1";function r(M,G){for(var U=M.split("/"),q=G.split("/"),Y=0,X=0,ce=Math.min(U.length,q.length);Y<ce;++Y){if(X=U[Y].length-q[Y].length)return X;if(U[Y]!=q[Y])return U[Y]<q[Y]?-1:1}return U.length-q.length}function n(M){if(M.charAt(M.length-1)=="/")return M.slice(0,-1).indexOf("/")===-1?M:n(M.slice(0,-1));var G=M.lastIndexOf("/");return G===-1?M:M.slice(0,G+1)}function a(M){if(M.charAt(M.length-1)=="/")return a(M.slice(0,-1));var G=M.lastIndexOf("/");return G===-1?M:M.slice(G+1)}function o(M,G){typeof G=="string"&&(G=new Date(G));var U=G.getHours();U=U<<6|G.getMinutes(),U=U<<5|G.getSeconds()>>>1,M.write_shift(2,U);var q=G.getFullYear()-1980;q=q<<4|G.getMonth()+1,q=q<<5|G.getDate(),M.write_shift(2,q)}function c(M){var G=M.read_shift(2)&65535,U=M.read_shift(2)&65535,q=new Date,Y=U&31;U>>>=5;var X=U&15;U>>>=4,q.setMilliseconds(0),q.setFullYear(U+1980),q.setMonth(X-1),q.setDate(Y);var ce=G&31;G>>>=5;var xe=G&63;return G>>>=6,q.setHours(G),q.setMinutes(xe),q.setSeconds(ce<<1),q}function h(M){aa(M,0);for(var G={},U=0;M.l<=M.length-4;){var q=M.read_shift(2),Y=M.read_shift(2),X=M.l+Y,ce={};switch(q){case 21589:U=M.read_shift(1),U&1&&(ce.mtime=M.read_shift(4)),Y>5&&(U&2&&(ce.atime=M.read_shift(4)),U&4&&(ce.ctime=M.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}M.l=X,G[q]=ce}return G}var m;function f(){return m||(m={})}function g(M,G){if(M[0]==80&&M[1]==75)return ka(M,G);if((M[0]|32)==109&&(M[1]|32)==105)return bu(M,G);if(M.length<512)throw new Error("CFB file size "+M.length+" < 512");var U=3,q=512,Y=0,X=0,ce=0,xe=0,ie=0,fe=[],me=M.slice(0,512);aa(me,0);var Ae=x(me);switch(U=Ae[0],U){case 3:q=512;break;case 4:q=4096;break;case 0:if(Ae[1]==0)return ka(M,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}q!==512&&(me=M.slice(0,q),aa(me,28));var Ie=M.slice(0,q);y(me,U);var Be=me.read_shift(4,"i");if(U===3&&Be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Be);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),xe=me.read_shift(4,"i"),Y=me.read_shift(4,"i"),ie=me.read_shift(4,"i"),X=me.read_shift(4,"i");for(var Re=-1,Ve=0;Ve<109&&(Re=me.read_shift(4,"i"),!(Re<0));++Ve)fe[Ve]=Re;var st=E(M,q);b(ie,X,st,q,fe);var Ct=k(st,ce,fe,q);Ct[ce].name="!Directory",Y>0&&xe!==L&&(Ct[xe].name="!MiniFAT"),Ct[fe[0]].name="!FAT",Ct.fat_addrs=fe,Ct.ssz=q;var Rt={},Pt=[],Wn=[],fa=[];V(ce,Ct,st,Pt,Y,Rt,Wn,xe),w(Wn,fa,Pt),Pt.shift();var wn={FileIndex:Wn,FullPaths:fa};return G&&G.raw&&(wn.raw={header:Ie,sectors:st}),wn}function x(M){if(M[M.l]==80&&M[M.l+1]==75)return[0,0];M.chk(We,"Header Signature: "),M.l+=16;var G=M.read_shift(2,"u");return[M.read_shift(2,"u"),G]}function y(M,G){var U=9;switch(M.l+=2,U=M.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}M.chk("0600","Mini Sector Shift: "),M.chk("000000000000","Reserved: ")}function E(M,G){for(var U=Math.ceil(M.length/G)-1,q=[],Y=1;Y<U;++Y)q[Y-1]=M.slice(Y*G,(Y+1)*G);return q[U-1]=M.slice(U*G),q}function w(M,G,U){for(var q=0,Y=0,X=0,ce=0,xe=0,ie=U.length,fe=[],me=[];q<ie;++q)fe[q]=me[q]=q,G[q]=U[q];for(;xe<me.length;++xe)q=me[xe],Y=M[q].L,X=M[q].R,ce=M[q].C,fe[q]===q&&(Y!==-1&&fe[Y]!==Y&&(fe[q]=fe[Y]),X!==-1&&fe[X]!==X&&(fe[q]=fe[X])),ce!==-1&&(fe[ce]=q),Y!==-1&&q!=fe[q]&&(fe[Y]=fe[q],me.lastIndexOf(Y)<xe&&me.push(Y)),X!==-1&&q!=fe[q]&&(fe[X]=fe[q],me.lastIndexOf(X)<xe&&me.push(X));for(q=1;q<ie;++q)fe[q]===q&&(X!==-1&&fe[X]!==X?fe[q]=fe[X]:Y!==-1&&fe[Y]!==Y&&(fe[q]=fe[Y]));for(q=1;q<ie;++q)if(M[q].type!==0){if(xe=q,xe!=fe[xe])do xe=fe[xe],G[q]=G[xe]+"/"+G[q];while(xe!==0&&fe[xe]!==-1&&xe!=fe[xe]);fe[q]=-1}for(G[0]+="/",q=1;q<ie;++q)M[q].type!==2&&(G[q]+="/")}function T(M,G,U){for(var q=M.start,Y=M.size,X=[],ce=q;U&&Y>0&&ce>=0;)X.push(G.slice(ce*O,ce*O+O)),Y-=O,ce=hl(U,ce*4);return X.length===0?ye(0):on(X).slice(0,M.size)}function b(M,G,U,q,Y){var X=L;if(M===L){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(M!==-1){var ce=U[M],xe=(q>>>2)-1;if(!ce)return;for(var ie=0;ie<xe&&(X=hl(ce,ie*4))!==L;++ie)Y.push(X);b(hl(ce,q-4),G-1,U,q,Y)}}function D(M,G,U,q,Y){var X=[],ce=[];Y||(Y=[]);var xe=q-1,ie=0,fe=0;for(ie=G;ie>=0;){Y[ie]=!0,X[X.length]=ie,ce.push(M[ie]);var me=U[Math.floor(ie*4/q)];if(fe=ie*4&xe,q<4+fe)throw new Error("FAT boundary crossed: "+ie+" 4 "+q);if(!M[me])break;ie=hl(M[me],fe)}return{nodes:X,data:fw([ce])}}function k(M,G,U,q){var Y=M.length,X=[],ce=[],xe=[],ie=[],fe=q-1,me=0,Ae=0,Ie=0,Be=0;for(me=0;me<Y;++me)if(xe=[],Ie=me+G,Ie>=Y&&(Ie-=Y),!ce[Ie]){ie=[];var Re=[];for(Ae=Ie;Ae>=0;){Re[Ae]=!0,ce[Ae]=!0,xe[xe.length]=Ae,ie.push(M[Ae]);var Ve=U[Math.floor(Ae*4/q)];if(Be=Ae*4&fe,q<4+Be)throw new Error("FAT boundary crossed: "+Ae+" 4 "+q);if(!M[Ve]||(Ae=hl(M[Ve],Be),Re[Ae]))break}X[Ie]={nodes:xe,data:fw([ie])}}return X}function V(M,G,U,q,Y,X,ce,xe){for(var ie=0,fe=q.length?2:0,me=G[M].data,Ae=0,Ie=0,Be;Ae<me.length;Ae+=128){var Re=me.slice(Ae,Ae+128);aa(Re,64),Ie=Re.read_shift(2),Be=ix(Re,0,Ie-fe),q.push(Be);var Ve={name:Be,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},st=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);st!==0&&(Ve.ct=W(Re,Re.l-8));var Ct=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Ct!==0&&(Ve.mt=W(Re,Re.l-8)),Ve.start=Re.read_shift(4,"i"),Ve.size=Re.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=L,Ve.name=""),Ve.type===5?(ie=Ve.start,Y>0&&ie!==L&&(G[ie].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",G[Ve.start]===void 0&&(G[Ve.start]=D(U,Ve.start,G.fat_addrs,G.ssz)),G[Ve.start].name=Ve.name,Ve.content=G[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:ie!==L&&Ve.start!==L&&G[ie]&&(Ve.content=T(Ve,G[ie].data,(G[xe]||{}).data))),Ve.content&&aa(Ve.content,0),X[Be]=Ve,ce.push(Ve)}}function W(M,G){return new Date((ia(M,G+4)/1e7*Math.pow(2,32)+ia(M,G)/1e7-11644473600)*1e3)}function z(M,G){return f(),g(m.readFileSync(M),G)}function Q(M,G){var U=G&&G.type;switch(U||Dt&&Buffer.isBuffer(M)&&(U="buffer"),U||"base64"){case"file":return z(M,G);case"base64":return g($a(hi(M)),G);case"binary":return g($a(M),G)}return g(M,G)}function I(M,G){var U=G||{},q=U.root||"Root Entry";if(M.FullPaths||(M.FullPaths=[]),M.FileIndex||(M.FileIndex=[]),M.FullPaths.length!==M.FileIndex.length)throw new Error("inconsistent CFB structure");M.FullPaths.length===0&&(M.FullPaths[0]=q+"/",M.FileIndex[0]={name:q,type:5}),U.CLSID&&(M.FileIndex[0].clsid=U.CLSID),A(M)}function A(M){var G="Sh33tJ5";if(!Yt.find(M,"/"+G)){var U=ye(4);U[0]=55,U[1]=U[3]=50,U[2]=54,M.FileIndex.push({name:G,type:2,content:U,size:4,L:69,R:69,C:69}),M.FullPaths.push(M.FullPaths[0]+G),C(M)}}function C(M,G){I(M);for(var U=!1,q=!1,Y=M.FullPaths.length-1;Y>=0;--Y){var X=M.FileIndex[Y];switch(X.type){case 0:q?U=!0:(M.FileIndex.pop(),M.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(X.R*X.L*X.C)&&(U=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!G)){var ce=new Date(1987,1,19),xe=0,ie=Object.create?Object.create(null):{},fe=[];for(Y=0;Y<M.FullPaths.length;++Y)ie[M.FullPaths[Y]]=!0,M.FileIndex[Y].type!==0&&fe.push([M.FullPaths[Y],M.FileIndex[Y]]);for(Y=0;Y<fe.length;++Y){var me=n(fe[Y][0]);q=ie[me],q||(fe.push([me,{name:a(me).replace("/",""),type:1,clsid:de,ct:ce,mt:ce,content:null}]),ie[me]=!0)}for(fe.sort(function(Be,Re){return r(Be[0],Re[0])}),M.FullPaths=[],M.FileIndex=[],Y=0;Y<fe.length;++Y)M.FullPaths[Y]=fe[Y][0],M.FileIndex[Y]=fe[Y][1];for(Y=0;Y<fe.length;++Y){var Ae=M.FileIndex[Y],Ie=M.FullPaths[Y];if(Ae.name=a(Ie).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||de,Y===0)Ae.C=fe.length>1?1:-1,Ae.size=0,Ae.type=5;else if(Ie.slice(-1)=="/"){for(xe=Y+1;xe<fe.length&&n(M.FullPaths[xe])!=Ie;++xe);for(Ae.C=xe>=fe.length?-1:xe,xe=Y+1;xe<fe.length&&n(M.FullPaths[xe])!=n(Ie);++xe);Ae.R=xe>=fe.length?-1:xe,Ae.type=1}else n(M.FullPaths[Y+1]||"")==n(Ie)&&(Ae.R=Y+1),Ae.type=2}}}function P(M,G){var U=G||{};if(U.fileType=="mad")return da(M,U);switch(C(M),U.fileType){case"zip":return or(M,U)}var q=(function(Be){for(var Re=0,Ve=0,st=0;st<Be.FileIndex.length;++st){var Ct=Be.FileIndex[st];if(Ct.content){var Rt=Ct.content.length;Rt>0&&(Rt<4096?Re+=Rt+63>>6:Ve+=Rt+511>>9)}}for(var Pt=Be.FullPaths.length+3>>2,Wn=Re+7>>3,fa=Re+127>>7,wn=Wn+Ve+Pt+fa,Pn=wn+127>>7,ss=Pn<=109?0:Math.ceil((Pn-109)/127);wn+Pn+ss+127>>7>Pn;)ss=++Pn<=109?0:Math.ceil((Pn-109)/127);var Yn=[1,ss,Pn,fa,Pt,Ve,Re,0];return Be.FileIndex[0].size=Re<<6,Yn[7]=(Be.FileIndex[0].start=Yn[0]+Yn[1]+Yn[2]+Yn[3]+Yn[4]+Yn[5])+(Yn[6]+7>>3),Yn})(M),Y=ye(q[7]<<9),X=0,ce=0;{for(X=0;X<8;++X)Y.write_shift(1,He[X]);for(X=0;X<8;++X)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),X=0;X<3;++X)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,q[2]),Y.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:L),Y.write_shift(4,q[3]),Y.write_shift(-4,q[1]?q[0]-1:L),Y.write_shift(4,q[1]),X=0;X<109;++X)Y.write_shift(-4,X<q[2]?q[1]+X:-1)}if(q[1])for(ce=0;ce<q[1];++ce){for(;X<236+ce*127;++X)Y.write_shift(-4,X<q[2]?q[1]+X:-1);Y.write_shift(-4,ce===q[1]-1?L:ce+1)}var xe=function(Be){for(ce+=Be;X<ce-1;++X)Y.write_shift(-4,X+1);Be&&(++X,Y.write_shift(-4,L))};for(ce=X=0,ce+=q[1];X<ce;++X)Y.write_shift(-4,Ce.DIFSECT);for(ce+=q[2];X<ce;++X)Y.write_shift(-4,Ce.FATSECT);xe(q[3]),xe(q[4]);for(var ie=0,fe=0,me=M.FileIndex[0];ie<M.FileIndex.length;++ie)me=M.FileIndex[ie],me.content&&(fe=me.content.length,!(fe<4096)&&(me.start=ce,xe(fe+511>>9)));for(xe(q[6]+7>>3);Y.l&511;)Y.write_shift(-4,Ce.ENDOFCHAIN);for(ce=X=0,ie=0;ie<M.FileIndex.length;++ie)me=M.FileIndex[ie],me.content&&(fe=me.content.length,!(!fe||fe>=4096)&&(me.start=ce,xe(fe+63>>6)));for(;Y.l&511;)Y.write_shift(-4,Ce.ENDOFCHAIN);for(X=0;X<q[4]<<2;++X){var Ae=M.FullPaths[X];if(!Ae||Ae.length===0){for(ie=0;ie<17;++ie)Y.write_shift(4,0);for(ie=0;ie<3;++ie)Y.write_shift(4,-1);for(ie=0;ie<12;++ie)Y.write_shift(4,0);continue}me=M.FileIndex[X],X===0&&(me.start=me.size?me.start-1:L);var Ie=X===0&&U.root||me.name;if(fe=2*(Ie.length+1),Y.write_shift(64,Ie,"utf16le"),Y.write_shift(2,fe),Y.write_shift(1,me.type),Y.write_shift(1,me.color),Y.write_shift(-4,me.L),Y.write_shift(-4,me.R),Y.write_shift(-4,me.C),me.clsid)Y.write_shift(16,me.clsid,"hex");else for(ie=0;ie<4;++ie)Y.write_shift(4,0);Y.write_shift(4,me.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,me.start),Y.write_shift(4,me.size),Y.write_shift(4,0)}for(X=1;X<M.FileIndex.length;++X)if(me=M.FileIndex[X],me.size>=4096)if(Y.l=me.start+1<<9,Dt&&Buffer.isBuffer(me.content))me.content.copy(Y,Y.l,0,me.size),Y.l+=me.size+511&-512;else{for(ie=0;ie<me.size;++ie)Y.write_shift(1,me.content[ie]);for(;ie&511;++ie)Y.write_shift(1,0)}for(X=1;X<M.FileIndex.length;++X)if(me=M.FileIndex[X],me.size>0&&me.size<4096)if(Dt&&Buffer.isBuffer(me.content))me.content.copy(Y,Y.l,0,me.size),Y.l+=me.size+63&-64;else{for(ie=0;ie<me.size;++ie)Y.write_shift(1,me.content[ie]);for(;ie&63;++ie)Y.write_shift(1,0)}if(Dt)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function N(M,G){var U=M.FullPaths.map(function(ie){return ie.toUpperCase()}),q=U.map(function(ie){var fe=ie.split("/");return fe[fe.length-(ie.slice(-1)=="/"?2:1)]}),Y=!1;G.charCodeAt(0)===47?(Y=!0,G=U[0].slice(0,-1)+G):Y=G.indexOf("/")!==-1;var X=G.toUpperCase(),ce=Y===!0?U.indexOf(X):q.indexOf(X);if(ce!==-1)return M.FileIndex[ce];var xe=!X.match(f0);for(X=X.replace(Kh,""),xe&&(X=X.replace(f0,"!")),ce=0;ce<U.length;++ce)if((xe?U[ce].replace(f0,"!"):U[ce]).replace(Kh,"")==X||(xe?q[ce].replace(f0,"!"):q[ce]).replace(Kh,"")==X)return M.FileIndex[ce];return null}var O=64,L=-2,We="d0cf11e0a1b11ae1",He=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:We,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ze(M,G,U){f();var q=P(M,U);m.writeFileSync(G,q)}function Je(M){for(var G=new Array(M.length),U=0;U<M.length;++U)G[U]=String.fromCharCode(M[U]);return G.join("")}function ee(M,G){var U=P(M,G);switch(G&&G.type||"buffer"){case"file":return f(),m.writeFileSync(G.filename,U),U;case"binary":return typeof U=="string"?U:Je(U);case"base64":return md(typeof U=="string"?U:Je(U));case"buffer":if(Dt)return Buffer.isBuffer(U)?U:gi(U);case"array":return typeof U=="string"?$a(U):U}return U}var Ee;function K(M){try{var G=M.InflateRaw,U=new G;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)Ee=M;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function te(M,G){if(!Ee)return js(M,G);var U=Ee.InflateRaw,q=new U,Y=q._processChunk(M.slice(M.l),q._finishFlushFlag);return M.l+=q.bytesRead,Y}function Z(M){return Ee?Ee.deflateRawSync(M):ql(M)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(M){var G=(M<<1|M<<11)&139536|(M<<5|M<<15)&558144;return(G>>16|G>>8|G)&255}for(var De=typeof Uint8Array<"u",ke=De?new Uint8Array(256):[],ft=0;ft<256;++ft)ke[ft]=ae(ft);function ht(M,G){var U=ke[M&255];return G<=8?U>>>8-G:(U=U<<8|ke[M>>8&255],G<=16?U>>>16-G:(U=U<<8|ke[M>>16&255],U>>>24-G))}function ir(M,G){var U=G&7,q=G>>>3;return(M[q]|(U<=6?0:M[q+1]<<8))>>>U&3}function gt(M,G){var U=G&7,q=G>>>3;return(M[q]|(U<=5?0:M[q+1]<<8))>>>U&7}function Gn(M,G){var U=G&7,q=G>>>3;return(M[q]|(U<=4?0:M[q+1]<<8))>>>U&15}function Ht(M,G){var U=G&7,q=G>>>3;return(M[q]|(U<=3?0:M[q+1]<<8))>>>U&31}function Le(M,G){var U=G&7,q=G>>>3;return(M[q]|(U<=1?0:M[q+1]<<8))>>>U&127}function Qr(M,G,U){var q=G&7,Y=G>>>3,X=(1<<U)-1,ce=M[Y]>>>q;return U<8-q||(ce|=M[Y+1]<<8-q,U<16-q)||(ce|=M[Y+2]<<16-q,U<24-q)||(ce|=M[Y+3]<<24-q),ce&X}function Ot(M,G,U){var q=G&7,Y=G>>>3;return q<=5?M[Y]|=(U&7)<<q:(M[Y]|=U<<q&255,M[Y+1]=(U&7)>>8-q),G+3}function Qt(M,G,U){var q=G&7,Y=G>>>3;return U=(U&1)<<q,M[Y]|=U,G+1}function dn(M,G,U){var q=G&7,Y=G>>>3;return U<<=q,M[Y]|=U&255,U>>>=8,M[Y+1]=U,G+8}function Hl(M,G,U){var q=G&7,Y=G>>>3;return U<<=q,M[Y]|=U&255,U>>>=8,M[Y+1]=U&255,M[Y+2]=U>>>8,G+16}function Rs(M,G){var U=M.length,q=2*U>G?2*U:G+5,Y=0;if(U>=G)return M;if(Dt){var X=JT(q);if(M.copy)M.copy(X);else for(;Y<M.length;++Y)X[Y]=M[Y];return X}else if(De){var ce=new Uint8Array(q);if(ce.set)ce.set(M);else for(;Y<U;++Y)ce[Y]=M[Y];return ce}return M.length=q,M}function In(M){for(var G=new Array(M),U=0;U<M;++U)G[U]=0;return G}function ua(M,G,U){var q=1,Y=0,X=0,ce=0,xe=0,ie=M.length,fe=De?new Uint16Array(32):In(32);for(X=0;X<32;++X)fe[X]=0;for(X=ie;X<U;++X)M[X]=0;ie=M.length;var me=De?new Uint16Array(ie):In(ie);for(X=0;X<ie;++X)fe[Y=M[X]]++,q<Y&&(q=Y),me[X]=0;for(fe[0]=0,X=1;X<=q;++X)fe[X+16]=xe=xe+fe[X-1]<<1;for(X=0;X<ie;++X)xe=M[X],xe!=0&&(me[X]=fe[xe+16]++);var Ae=0;for(X=0;X<ie;++X)if(Ae=M[X],Ae!=0)for(xe=ht(me[X],q)>>q-Ae,ce=(1<<q+4-Ae)-1;ce>=0;--ce)G[xe|ce<<Ae]=Ae&15|X<<4;return q}var ha=De?new Uint16Array(512):In(512),Tr=De?new Uint16Array(32):In(32);if(!De){for(var wr=0;wr<512;++wr)ha[wr]=0;for(wr=0;wr<32;++wr)Tr[wr]=0}(function(){for(var M=[],G=0;G<32;G++)M.push(5);ua(M,Tr,32);var U=[];for(G=0;G<=143;G++)U.push(8);for(;G<=255;G++)U.push(9);for(;G<=279;G++)U.push(7);for(;G<=287;G++)U.push(8);ua(U,ha,288)})();var Jr=(function(){for(var G=De?new Uint8Array(32768):[],U=0,q=0;U<Fe.length-1;++U)for(;q<Fe[U+1];++q)G[q]=U;for(;q<32768;++q)G[q]=29;var Y=De?new Uint8Array(259):[];for(U=0,q=0;U<he.length-1;++U)for(;q<he[U+1];++q)Y[q]=U;function X(xe,ie){for(var fe=0;fe<xe.length;){var me=Math.min(65535,xe.length-fe),Ae=fe+me==xe.length;for(ie.write_shift(1,+Ae),ie.write_shift(2,me),ie.write_shift(2,~me&65535);me-- >0;)ie[ie.l++]=xe[fe++]}return ie.l}function ce(xe,ie){for(var fe=0,me=0,Ae=De?new Uint16Array(32768):[];me<xe.length;){var Ie=Math.min(65535,xe.length-me);if(Ie<10){for(fe=Ot(ie,fe,+(me+Ie==xe.length)),fe&7&&(fe+=8-(fe&7)),ie.l=fe/8|0,ie.write_shift(2,Ie),ie.write_shift(2,~Ie&65535);Ie-- >0;)ie[ie.l++]=xe[me++];fe=ie.l*8;continue}fe=Ot(ie,fe,+(me+Ie==xe.length)+2);for(var Be=0;Ie-- >0;){var Re=xe[me];Be=(Be<<5^Re)&32767;var Ve=-1,st=0;if((Ve=Ae[Be])&&(Ve|=me&-32768,Ve>me&&(Ve-=32768),Ve<me))for(;xe[Ve+st]==xe[me+st]&&st<250;)++st;if(st>2){Re=Y[st],Re<=22?fe=dn(ie,fe,ke[Re+1]>>1)-1:(dn(ie,fe,3),fe+=5,dn(ie,fe,ke[Re-23]>>5),fe+=3);var Ct=Re<8?0:Re-4>>2;Ct>0&&(Hl(ie,fe,st-he[Re]),fe+=Ct),Re=G[me-Ve],fe=dn(ie,fe,ke[Re]>>3),fe-=3;var Rt=Re<4?0:Re-2>>1;Rt>0&&(Hl(ie,fe,me-Ve-Fe[Re]),fe+=Rt);for(var Pt=0;Pt<st;++Pt)Ae[Be]=me&32767,Be=(Be<<5^xe[me])&32767,++me;Ie-=st-1}else Re<=143?Re=Re+48:fe=Qt(ie,fe,1),fe=dn(ie,fe,ke[Re]),Ae[Be]=me&32767,++me}fe=dn(ie,fe,0)-1}return ie.l=(fe+7)/8|0,ie.l}return function(ie,fe){return ie.length<8?X(ie,fe):ce(ie,fe)}})();function ql(M){var G=ye(50+Math.floor(M.length*1.1)),U=Jr(M,G);return G.slice(0,U)}var Io=De?new Uint16Array(32768):In(32768),ko=De?new Uint16Array(32768):In(32768),$n=De?new Uint16Array(128):In(128),Ia=1,kn=1;function On(M,G){var U=Ht(M,G)+257;G+=5;var q=Ht(M,G)+1;G+=5;var Y=Gn(M,G)+4;G+=4;for(var X=0,ce=De?new Uint8Array(19):In(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ie=1,fe=De?new Uint8Array(8):In(8),me=De?new Uint8Array(8):In(8),Ae=ce.length,Ie=0;Ie<Y;++Ie)ce[re[Ie]]=X=gt(M,G),ie<X&&(ie=X),fe[X]++,G+=3;var Be=0;for(fe[0]=0,Ie=1;Ie<=ie;++Ie)me[Ie]=Be=Be+fe[Ie-1]<<1;for(Ie=0;Ie<Ae;++Ie)(Be=ce[Ie])!=0&&(xe[Ie]=me[Be]++);var Re=0;for(Ie=0;Ie<Ae;++Ie)if(Re=ce[Ie],Re!=0){Be=ke[xe[Ie]]>>8-Re;for(var Ve=(1<<7-Re)-1;Ve>=0;--Ve)$n[Be|Ve<<Re]=Re&7|Ie<<3}var st=[];for(ie=1;st.length<U+q;)switch(Be=$n[Le(M,G)],G+=Be&7,Be>>>=3){case 16:for(X=3+ir(M,G),G+=2,Be=st[st.length-1];X-- >0;)st.push(Be);break;case 17:for(X=3+gt(M,G),G+=3;X-- >0;)st.push(0);break;case 18:for(X=11+Le(M,G),G+=7;X-- >0;)st.push(0);break;default:st.push(Be),ie<Be&&(ie=Be);break}var Ct=st.slice(0,U),Rt=st.slice(U);for(Ie=U;Ie<286;++Ie)Ct[Ie]=0;for(Ie=q;Ie<30;++Ie)Rt[Ie]=0;return Ia=ua(Ct,Io,286),kn=ua(Rt,ko,30),G}function rs(M,G){if(M[0]==3&&!(M[1]&3))return[Nl(G),2];for(var U=0,q=0,Y=JT(G||1<<18),X=0,ce=Y.length>>>0,xe=0,ie=0;(q&1)==0;){if(q=gt(M,U),U+=3,q>>>1)q>>1==1?(xe=9,ie=5):(U=On(M,U),xe=Ia,ie=kn);else{U&7&&(U+=8-(U&7));var fe=M[U>>>3]|M[(U>>>3)+1]<<8;if(U+=32,fe>0)for(!G&&ce<X+fe&&(Y=Rs(Y,X+fe),ce=Y.length);fe-- >0;)Y[X++]=M[U>>>3],U+=8;continue}for(;;){!G&&ce<X+32767&&(Y=Rs(Y,X+32767),ce=Y.length);var me=Qr(M,U,xe),Ae=q>>>1==1?ha[me]:Io[me];if(U+=Ae&15,Ae>>>=4,(Ae>>>8&255)===0)Y[X++]=Ae;else{if(Ae==256)break;Ae-=257;var Ie=Ae<8?0:Ae-4>>2;Ie>5&&(Ie=0);var Be=X+he[Ae];Ie>0&&(Be+=Qr(M,U,Ie),U+=Ie),me=Qr(M,U,ie),Ae=q>>>1==1?Tr[me]:ko[me],U+=Ae&15,Ae>>>=4;var Re=Ae<4?0:Ae-2>>1,Ve=Fe[Ae];for(Re>0&&(Ve+=Qr(M,U,Re),U+=Re),!G&&ce<Be&&(Y=Rs(Y,Be+100),ce=Y.length);X<Be;)Y[X]=Y[X-Ve],++X}}}return G?[Y,U+7>>>3]:[Y.slice(0,X),U+7>>>3]}function js(M,G){var U=M.slice(M.l||0),q=rs(U,G);return M.l+=q[1],q[0]}function vi(M,G){if(M)typeof console<"u"&&console.error(G);else throw new Error(G)}function ka(M,G){var U=M;aa(U,0);var q=[],Y=[],X={FileIndex:q,FullPaths:Y};I(X,{root:G.root});for(var ce=U.length-4;(U[ce]!=80||U[ce+1]!=75||U[ce+2]!=5||U[ce+3]!=6)&&ce>=0;)--ce;U.l=ce+4,U.l+=4;var xe=U.read_shift(2);U.l+=6;var ie=U.read_shift(4);for(U.l=ie,ce=0;ce<xe;++ce){U.l+=20;var fe=U.read_shift(4),me=U.read_shift(4),Ae=U.read_shift(2),Ie=U.read_shift(2),Be=U.read_shift(2);U.l+=8;var Re=U.read_shift(4),Ve=h(U.slice(U.l+Ae,U.l+Ae+Ie));U.l+=Ae+Ie+Be;var st=U.l;U.l=Re+4,xi(U,fe,me,X,Ve),U.l=st}return X}function xi(M,G,U,q,Y){M.l+=2;var X=M.read_shift(2),ce=M.read_shift(2),xe=c(M);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ie=M.read_shift(4),fe=M.read_shift(4),me=M.read_shift(4),Ae=M.read_shift(2),Ie=M.read_shift(2),Be="",Re=0;Re<Ae;++Re)Be+=String.fromCharCode(M[M.l++]);if(Ie){var Ve=h(M.slice(M.l,M.l+Ie));(Ve[21589]||{}).mt&&(xe=Ve[21589].mt),((Y||{})[21589]||{}).mt&&(xe=Y[21589].mt)}M.l+=Ie;var st=M.slice(M.l,M.l+fe);switch(ce){case 8:st=te(M,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Ct=!1;X&8&&(ie=M.read_shift(4),ie==134695760&&(ie=M.read_shift(4),Ct=!0),fe=M.read_shift(4),me=M.read_shift(4)),fe!=G&&vi(Ct,"Bad compressed size: "+G+" != "+fe),me!=U&&vi(Ct,"Bad uncompressed size: "+U+" != "+me),gr(q,Be,st,{unsafe:!0,mt:xe})}function or(M,G){var U=G||{},q=[],Y=[],X=ye(1),ce=U.compression?8:0,xe=0,ie=0,fe=0,me=0,Ae=0,Ie=M.FullPaths[0],Be=Ie,Re=M.FileIndex[0],Ve=[],st=0;for(ie=1;ie<M.FullPaths.length;++ie)if(Be=M.FullPaths[ie].slice(Ie.length),Re=M.FileIndex[ie],!(!Re.size||!Re.content||Be=="Sh33tJ5")){var Ct=me,Rt=ye(Be.length);for(fe=0;fe<Be.length;++fe)Rt.write_shift(1,Be.charCodeAt(fe)&127);Rt=Rt.slice(0,Rt.l),Ve[Ae]=DF.buf(Re.content,0);var Pt=Re.content;ce==8&&(Pt=Z(Pt)),X=ye(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,xe),X.write_shift(2,ce),Re.mt?o(X,Re.mt):X.write_shift(4,0),X.write_shift(-4,Ve[Ae]),X.write_shift(4,Pt.length),X.write_shift(4,Re.content.length),X.write_shift(2,Rt.length),X.write_shift(2,0),me+=X.length,q.push(X),me+=Rt.length,q.push(Rt),me+=Pt.length,q.push(Pt),X=ye(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,xe),X.write_shift(2,ce),X.write_shift(4,0),X.write_shift(-4,Ve[Ae]),X.write_shift(4,Pt.length),X.write_shift(4,Re.content.length),X.write_shift(2,Rt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,Ct),st+=X.l,Y.push(X),st+=Rt.length,Y.push(Rt),++Ae}return X=ye(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Ae),X.write_shift(2,Ae),X.write_shift(4,st),X.write_shift(4,me),X.write_shift(2,0),on([on(q),on(Y),X])}var Ds={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ns(M,G){if(M.ctype)return M.ctype;var U=M.name||"",q=U.match(/\.([^\.]+)$/);return q&&Ds[q[1]]||G&&(q=(U=G).match(/[\.\\]([^\.\\])+$/),q&&Ds[q[1]])?Ds[q[1]]:"application/octet-stream"}function as(M){for(var G=md(M),U=[],q=0;q<G.length;q+=76)U.push(G.slice(q,q+76));return U.join(`\r
`)+`\r
`}function Oo(M){var G=M.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var me=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],q=G.split(`\r
`),Y=0;Y<q.length;++Y){var X=q[Y];if(X.length==0){U.push("");continue}for(var ce=0;ce<X.length;){var xe=76,ie=X.slice(ce,ce+xe);ie.charAt(xe-1)=="="?xe--:ie.charAt(xe-2)=="="?xe-=2:ie.charAt(xe-3)=="="&&(xe-=3),ie=X.slice(ce,ce+xe),ce+=xe,ce<X.length&&(ie+="="),U.push(ie)}}return U.join(`\r
`)}function Po(M){for(var G=[],U=0;U<M.length;++U){for(var q=M[U];U<=M.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+M[++U];G.push(q)}for(var Y=0;Y<G.length;++Y)G[Y]=G[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return $a(G.join(`\r
`))}function Oa(M,G,U){for(var q="",Y="",X="",ce,xe=0;xe<10;++xe){var ie=G[xe];if(!ie||ie.match(/^\s*$/))break;var fe=ie.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":q=fe[2].trim();break;case"content-type":X=fe[2].trim();break;case"content-transfer-encoding":Y=fe[2].trim();break}}switch(++xe,Y.toLowerCase()){case"base64":ce=$a(hi(G.slice(xe).join("")));break;case"quoted-printable":ce=Po(G.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var me=gr(M,q.slice(U.length),ce,{unsafe:!0});X&&(me.ctype=X)}function bu(M,G){if(Je(M.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=G&&G.root||"",q=(Dt&&Buffer.isBuffer(M)?M.toString("binary"):Je(M)).split(`\r
`),Y=0,X="";for(Y=0;Y<q.length;++Y)if(X=q[Y],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),U||(U=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),X.slice(0,U.length)!=U););var ce=(q[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var xe="--"+(ce[1]||""),ie=[],fe=[],me={FileIndex:ie,FullPaths:fe};I(me);var Ae,Ie=0;for(Y=0;Y<q.length;++Y){var Be=q[Y];Be!==xe&&Be!==xe+"--"||(Ie++&&Oa(me,q.slice(Ae,Y),U),Ae=Y)}return me}function da(M,G){var U=G||{},q=U.boundary||"SheetJS";q="------="+q;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],X=M.FullPaths[0],ce=X,xe=M.FileIndex[0],ie=1;ie<M.FullPaths.length;++ie)if(ce=M.FullPaths[ie].slice(X.length),xe=M.FileIndex[ie],!(!xe.size||!xe.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(st){return"_x"+st.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(st){return"_u"+st.charCodeAt(0).toString(16)+"_"});for(var fe=xe.content,me=Dt&&Buffer.isBuffer(fe)?fe.toString("binary"):Je(fe),Ae=0,Ie=Math.min(1024,me.length),Be=0,Re=0;Re<=Ie;++Re)(Be=me.charCodeAt(Re))>=32&&Be<128&&++Ae;var Ve=Ae>=Ie*4/5;Y.push(q),Y.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ce),Y.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),Y.push("Content-Type: "+ns(xe,ce)),Y.push(""),Y.push(Ve?Oo(me):as(me))}return Y.push(q+`--\r
`),Y.join(`\r
`)}function lr(M){var G={};return I(G,M),G}function gr(M,G,U,q){var Y=q&&q.unsafe;Y||I(M);var X=!Y&&Yt.find(M,G);if(!X){var ce=M.FullPaths[0];G.slice(0,ce.length)==ce?ce=G:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+G).replace("//","/")),X={name:a(G),type:2},M.FileIndex.push(X),M.FullPaths.push(ce),Y||Yt.utils.cfb_gc(M)}return X.content=U,X.size=U?U.length:0,q&&(q.CLSID&&(X.clsid=q.CLSID),q.mt&&(X.mt=q.mt),q.ct&&(X.ct=q.ct)),X}function Pa(M,G){I(M);var U=Yt.find(M,G);if(U){for(var q=0;q<M.FileIndex.length;++q)if(M.FileIndex[q]==U)return M.FileIndex.splice(q,1),M.FullPaths.splice(q,1),!0}return!1}function Is(M,G,U){I(M);var q=Yt.find(M,G);if(q){for(var Y=0;Y<M.FileIndex.length;++Y)if(M.FileIndex[Y]==q)return M.FileIndex[Y].name=a(U),M.FullPaths[Y]=U,!0}return!1}function ks(M){C(M,!0)}return e.find=N,e.read=Q,e.parse=g,e.write=ee,e.writeFile=ze,e.utils={cfb_new:lr,cfb_add:gr,cfb_del:Pa,cfb_mov:Is,cfb_gc:ks,ReadShift:Qh,CheckField:fA,prep_blob:aa,bconcat:on,use_zlib:K,_deflateRaw:ql,_inflateRaw:js,consts:Ce},e})();function IF(t){return typeof t=="string"?Hm(t):Array.isArray(t)?aF(t):t}function Ld(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Hm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?gd(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([IF(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var h=File(t);return h.open("w"),h.encoding="binary",Array.isArray(e)&&(e=Fd(e)),h.write(e),h.close(),e}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+t)}function hn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function iw(t,e){for(var r=[],n=hn(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function rx(t){for(var e=[],r=hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function $m(t){for(var e=[],r=hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function kF(t){for(var e=[],r=hn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var im=new Date(1899,11,30,0,0,0);function Hn(t,e){var r=t.getTime(),n=im.getTime()+(t.getTimezoneOffset()-im.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var XN=new Date,OF=im.getTime()+(XN.getTimezoneOffset()-im.getTimezoneOffset())*6e4,ow=XN.getTimezoneOffset();function QN(t){var e=new Date;return e.setTime(t*24*60*60*1e3+OF),e.getTimezoneOffset()!==ow&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ow)*6e4),e}var lw=new Date("2017-02-19T19:06:09.000Z"),JN=isNaN(lw.getFullYear())?new Date("2/19/17"):lw,PF=JN.getFullYear()==2017;function Dn(t,e){var r=new Date(t);if(PF)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(JN.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Wm(t,e){if(Dt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return r[o]||o})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function qn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=qn(t[r]));return e}function mr(t,e){for(var r="";r.length<e;)r+=t;return r}function ai(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,o){return r=-r,o}),!isNaN(e=Number(n)))?e/r:e}var MF=["january","february","march","april","may","june","july","august","september","october","november","december"];function pd(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),o=e.getDate();if(isNaN(o))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&MF.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||o>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function dt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Dt?n=gi(r):n=sF(r),Yt.utils.cfb_add(t,e,n)}Yt.utils.cfb_add(t,e,r)}else t.file(e,r)}function nx(){return Yt.utils.cfb_new()}var Ir=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,FF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ax=rx(FF),sx=/[&<>'"]/g,LF=/[\u0000-\u0008\u000b-\u001f]/g;function Ut(t){var e=t+"";return e.replace(sx,function(r){return ax[r]}).replace(LF,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function cw(t){return Ut(t).replace(/ /g,"_x0020_")}var ZN=/[\u0000-\u001f]/g;function VF(t){var e=t+"";return e.replace(sx,function(r){return ax[r]}).replace(/\n/g,"<br/>").replace(ZN,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function BF(t){var e=t+"";return e.replace(sx,function(r){return ax[r]}).replace(ZN,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function UF(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function zF(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function uv(t){for(var e="",r=0,n=0,a=0,o=0,c=0,h=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=a&63,e+=String.fromCharCode(c);continue}if(o=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|o&63);continue}c=t.charCodeAt(r++),h=((n&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(h>>>10&1023)),e+=String.fromCharCode(56320+(h&1023))}return e}function uw(t){var e=Nl(2*t.length),r,n,a=1,o=0,c=0,h;for(n=0;n<t.length;n+=a)a=1,(h=t.charCodeAt(n))<128?r=h:h<224?(r=(h&31)*64+(t.charCodeAt(n+1)&63),a=2):h<240?(r=(h&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(h&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=r%256,e[o++]=r>>>8;return e.slice(0,o).toString("ucs2")}function hw(t){return gi(t,"binary").toString("utf8")}var p0="foo bar baz",Xh=Dt&&(hw(p0)==uv(p0)&&hw||uw(p0)==uv(p0)&&uw)||uv,gd=Dt?function(t){return gi(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},HF=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),eA=/(^\s|\s$|\n)/;function ln(t,e){return"<"+t+(e.match(eA)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function vd(t){return hn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Oe(t,e,r){return"<"+t+(r!=null?vd(r):"")+(e!=null?(e.match(eA)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Kv(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function qF(t,e){switch(typeof t){case"string":var r=Oe("vt:lpwstr",Ut(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Oe((t|0)==t?"vt:i4":"vt:r8",Ut(String(t)));case"boolean":return Oe("vt:bool",t?"true":"false")}if(t instanceof Date)return Oe("vt:filetime",Kv(t));throw new Error("Unable to serialize "+t)}var Wr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Eu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],sa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function GF(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,o=5;o>=0;--o)a=a*256+t[e+o];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function $F(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,o=0,c=n?-e:e;isFinite(c)?c==0?a=o=0:(a=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?a=-1022:(o-=Math.pow(2,52),a+=1023)):(a=2047,o=isNaN(e)?26985:0);for(var h=0;h<=5;++h,o/=256)t[r+h]=o&255;t[r+6]=(a&15)<<4|o&15,t[r+7]=a>>4|n}var dw=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,o=t[0][n].length;a<o;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},fw=Dt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:gi(e)})):dw(t)}:dw,mw=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(Vh(t,a)));return n.join("").replace(Kh,"")},ix=Dt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Kh,""):mw(t,e,r)}:mw,pw=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},tA=Dt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):pw(t,e,r)}:pw,gw=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(Mc(t,a)));return n.join("")},Vd=Dt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):gw(e,r,n)}:gw,rA=function(t,e){var r=ia(t,e);return r>0?Vd(t,e+4,e+4+r-1):""},nA=rA,aA=function(t,e){var r=ia(t,e);return r>0?Vd(t,e+4,e+4+r-1):""},sA=aA,iA=function(t,e){var r=2*ia(t,e);return r>0?Vd(t,e+4,e+4+r-1):""},oA=iA,lA=function(e,r){var n=ia(e,r);return n>0?ix(e,r+4,r+4+n):""},cA=lA,uA=function(t,e){var r=ia(t,e);return r>0?Vd(t,e+4,e+4+r):""},hA=uA,dA=function(t,e){return GF(t,e)},om=dA,ox=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Dt&&(nA=function(e,r){if(!Buffer.isBuffer(e))return rA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},sA=function(e,r){if(!Buffer.isBuffer(e))return aA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},oA=function(e,r){if(!Buffer.isBuffer(e))return iA(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},cA=function(e,r){if(!Buffer.isBuffer(e))return lA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},hA=function(e,r){if(!Buffer.isBuffer(e))return uA(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},om=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):dA(e,r)},ox=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Mc=function(t,e){return t[e]},Vh=function(t,e){return t[e+1]*256+t[e]},WF=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ia=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},hl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},YF=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Qh(t,e){var r="",n,a,o=[],c,h,m,f;switch(e){case"dbcs":if(f=this.l,Dt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(m=0;m<t;++m)r+=String.fromCharCode(Vh(this,f)),f+=2;t*=2;break;case"utf8":r=Vd(this,this.l,this.l+t);break;case"utf16le":t*=2,r=ix(this,this.l,this.l+t);break;case"wstr":return Qh.call(this,t,"dbcs");case"lpstr-ansi":r=nA(this,this.l),t=4+ia(this,this.l);break;case"lpstr-cp":r=sA(this,this.l),t=4+ia(this,this.l);break;case"lpwstr":r=oA(this,this.l),t=4+2*ia(this,this.l);break;case"lpp4":t=4+ia(this,this.l),r=cA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ia(this,this.l),r=hA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=Mc(this,this.l+t++))!==0;)o.push(d0(c));r=o.join("");break;case"_wstr":for(t=0,r="";(c=Vh(this,this.l+t))!==0;)o.push(d0(c)),t+=2;t+=2,r=o.join("");break;case"dbcs-cont":for(r="",f=this.l,m=0;m<t;++m){if(this.lens&&this.lens.indexOf(f)!==-1)return c=Mc(this,f),this.l=f+1,h=Qh.call(this,t-m,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(d0(Vh(this,f))),f+=2}r=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,m=0;m!=t;++m){if(this.lens&&this.lens.indexOf(f)!==-1)return c=Mc(this,f),this.l=f+1,h=Qh.call(this,t-m,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(d0(Mc(this,f))),f+=1}r=o.join("");break;default:switch(t){case 1:return n=Mc(this,this.l),this.l++,n;case 2:return n=(e==="i"?WF:Vh)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?hl:YF)(this,this.l),this.l+=4,n):(a=ia(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=om(this,this.l):a=om([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=tA(this,this.l,t);break}}return this.l+=t,r}var KF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},XF=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},QF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function JF(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)QF(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var c=e.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,KF(this,e,this.l);break;case 8:if(n=8,r==="f"){$F(this,e,this.l);break}case 16:break;case-4:n=4,XF(this,e,this.l);break}return this.l+=n,this}function fA(t,e){var r=tA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function aa(t,e){t.l=e,t.read_shift=Qh,t.chk=fA,t.write_shift=JF}function Ns(t,e){t.l+=e}function ye(t){var e=Nl(t);return aa(e,0),e}function zn(){var t=[],e=Dt?256:2048,r=function(f){var g=ye(f);return aa(g,0),g},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},o=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,e)))},c=function(){return a(),on(t)},h=function(f){a(),n=f,n.l==null&&(n.l=n.length),o(e)};return{next:o,push:h,end:c,_bufs:t}}function Ne(t,e,r,n){var a=+e,o;if(!isNaN(a)){n||(n=GB[a].p||(r||[]).length||0),o=1+(a>=128?1:0)+1,n>=128&&++o,n>=16384&&++o,n>=2097152&&++o;var c=t.next(o);a<=127?c.write_shift(1,a):(c.write_shift(1,(a&127)+128),c.write_shift(1,a>>7));for(var h=0;h!=4;++h)if(n>=128)c.write_shift(1,(n&127)+128),n>>=7;else{c.write_shift(1,n);break}n>0&&ox(r)&&t.push(r)}}function Jh(t,e,r){var n=qn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function vw(t,e,r){var n=qn(t);return n.s=Jh(n.s,e.s,r),n.e=Jh(n.e,e.s,r),n}function Zh(t,e){if(t.cRel&&t.c<0)for(t=qn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=qn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=zt(t);return!t.cRel&&t.cRel!=null&&(r=tL(r)),!t.rRel&&t.rRel!=null&&(r=ZF(r)),r}function hv(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+_n(t.s.c)+":"+(t.e.cRel?"":"$")+_n(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+cn(t.s.r)+":"+(t.e.rRel?"":"$")+cn(t.e.r):Zh(t.s,e.biff)+":"+Zh(t.e,e.biff)}function lx(t){return parseInt(eL(t),10)-1}function cn(t){return""+(t+1)}function ZF(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eL(t){return t.replace(/\$(\d+)$/,"$1")}function cx(t){for(var e=rL(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function _n(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function tL(t){return t.replace(/^([A-Z])/,"$$$1")}function rL(t){return t.replace(/^\$([A-Z])/,"$1")}function nL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yr(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function zt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ca(t){var e=t.indexOf(":");return e==-1?{s:Yr(t),e:Yr(t)}:{s:Yr(t.slice(0,e)),e:Yr(t.slice(e+1))}}function jr(t,e){return typeof e>"u"||typeof e=="number"?jr(t.s,t.e):(typeof t!="string"&&(t=zt(t)),typeof e!="string"&&(e=zt(e)),t==e?t:t+":"+e)}function rr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,o=t.length;for(r=0;n<o&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<o&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===o||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=o&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=o&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function xw(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=So(t.z,r?Hn(e):e)}catch{}try{return t.w=So((t.XF||{}).numFmtId||(r?14:0),r?Hn(e):e)}catch{return""+e}}function di(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Bd[t.v]||t.v:e==null?xw(t,t.v):xw(t,e))}function Ll(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function mA(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,o=t||(a?[]:{}),c=0,h=0;if(o&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var m=typeof n.origin=="string"?Yr(n.origin):n.origin;c=m.r,h=m.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var g=rr(o["!ref"]);f.s.c=g.s.c,f.s.r=g.s.r,f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),c==-1&&(f.e.r=c=g.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var E={v:e[x][y]},w=c+x,T=h+y;if(f.s.r>w&&(f.s.r=w),f.s.c>T&&(f.s.c=T),f.e.r<w&&(f.e.r=w),f.e.c<T&&(f.e.c=T),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))E=e[x][y];else if(Array.isArray(E.v)&&(E.f=e[x][y][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||pr[14],n.cellDates?(E.t="d",E.w=So(E.z,Hn(E.v))):(E.t="n",E.v=Hn(E.v),E.w=So(E.z,E.v))):E.t="s";if(a)o[w]||(o[w]=[]),o[w][T]&&o[w][T].z&&(E.z=o[w][T].z),o[w][T]=E;else{var b=zt({c:T,r:w});o[b]&&o[b].z&&(E.z=o[b].z),o[b]=E}}}return f.s.c<1e7&&(o["!ref"]=jr(f)),o}function Tu(t,e){return mA(null,t,e)}function aL(t){return t.read_shift(4,"i")}function Xa(t,e){return e||(e=ye(4)),e.write_shift(4,t),e}function En(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Kr(t,e){var r=!1;return e==null&&(r=!0,e=ye(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function sL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function iL(t,e){return e||(e=ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ux(t,e){var r=t.l,n=t.read_shift(1),a=En(t),o=[],c={t:a,h:a};if((n&1)!==0){for(var h=t.read_shift(4),m=0;m!=h;++m)o.push(sL(t));c.r=o}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}function oL(t,e){var r=!1;return e==null&&(r=!0,e=ye(15+4*t.t.length)),e.write_shift(1,0),Kr(t.t,e),r?e.slice(0,e.l):e}var lL=ux;function cL(t,e){var r=!1;return e==null&&(r=!0,e=ye(23+4*t.t.length)),e.write_shift(1,1),Kr(t.t,e),e.write_shift(4,1),iL({},e),r?e.slice(0,e.l):e}function Da(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Vl(t,e){return e==null&&(e=ye(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Bl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ul(t,e){return e==null&&(e=ye(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var uL=En,pA=Kr;function hx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function lm(t,e){var r=!1;return e==null&&(r=!0,e=ye(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var hL=En,Xv=hx,dx=lm;function gA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?om([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):hl(e,0)>>2;return r?a/100:a}function vA(t,e){e==null&&(e=ye(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function xA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function dL(t,e){return e||(e=ye(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var zl=xA,wu=dL;function Su(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Al(t,e){return(e||ye(8)).write_shift(8,t,"f")}function fL(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),o=t.read_shift(2,"i"),c=t.read_shift(1),h=t.read_shift(1),m=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var f=TL[a];f&&(e.rgb=Rw(f));break;case 2:e.rgb=Rw([c,h,m]);break;case 3:e.theme=a;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function cm(t,e){if(e||(e=ye(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function mL(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function pL(t,e){e||(e=ye(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var yA=2,na=3,g0=11,um=19,v0=64,gL=65,vL=71,xL=4108,yL=4126,nn=80,yw={1:{n:"CodePage",t:yA},2:{n:"Category",t:nn},3:{n:"PresentationFormat",t:nn},4:{n:"ByteCount",t:na},5:{n:"LineCount",t:na},6:{n:"ParagraphCount",t:na},7:{n:"SlideCount",t:na},8:{n:"NoteCount",t:na},9:{n:"HiddenCount",t:na},10:{n:"MultimediaClipCount",t:na},11:{n:"ScaleCrop",t:g0},12:{n:"HeadingPairs",t:xL},13:{n:"TitlesOfParts",t:yL},14:{n:"Manager",t:nn},15:{n:"Company",t:nn},16:{n:"LinksUpToDate",t:g0},17:{n:"CharacterCount",t:na},19:{n:"SharedDoc",t:g0},22:{n:"HyperlinksChanged",t:g0},23:{n:"AppVersion",t:na,p:"version"},24:{n:"DigSig",t:gL},26:{n:"ContentType",t:nn},27:{n:"ContentStatus",t:nn},28:{n:"Language",t:nn},29:{n:"Version",t:nn},255:{},2147483648:{n:"Locale",t:um},2147483651:{n:"Behavior",t:um},1919054434:{}},_w={1:{n:"CodePage",t:yA},2:{n:"Title",t:nn},3:{n:"Subject",t:nn},4:{n:"Author",t:nn},5:{n:"Keywords",t:nn},6:{n:"Comments",t:nn},7:{n:"Template",t:nn},8:{n:"LastAuthor",t:nn},9:{n:"RevNumber",t:nn},10:{n:"EditTime",t:v0},11:{n:"LastPrinted",t:v0},12:{n:"CreatedDate",t:v0},13:{n:"ModifiedDate",t:v0},14:{n:"PageCount",t:na},15:{n:"WordCount",t:na},16:{n:"CharCount",t:na},17:{n:"Thumbnail",t:vL},18:{n:"Application",t:nn},19:{n:"DocSecurity",t:na},255:{},2147483648:{n:"Locale",t:um},2147483651:{n:"Behavior",t:um},1919054434:{}};function _L(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var EL=_L([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),TL=qn(EL),Bd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},x0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function _A(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function EA(t,e){var r=kF(wL),n=[],a;n[n.length]=Ir,n[n.length]=Oe("Types",null,{xmlns:Wr.CT,"xmlns:xsd":Wr.xsd,"xmlns:xsi":Wr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return Oe("Default",null,{Extension:m[0],ContentType:m[1]})}));var o=function(m){t[m]&&t[m].length>0&&(a=t[m][0],n[n.length]=Oe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:x0[m][e.bookType]||x0[m].xlsx}))},c=function(m){(t[m]||[]).forEach(function(f){n[n.length]=Oe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:x0[m][e.bookType]||x0[m].xlsx})})},h=function(m){(t[m]||[]).forEach(function(f){n[n.length]=Oe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[m][0]})})};return o("workbooks"),c("sheets"),c("charts"),h("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(h),h("vba"),h("comments"),h("threadedcomments"),h("drawings"),c("metadata"),h("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var At={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TA(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Wc(t){var e=[Ir,Oe("Relationships",null,{xmlns:Wr.RELS})];return hn(t["!id"]).forEach(function(r){e[e.length]=Oe("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Bt(t,e,r,n,a,o){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[At.HLINK,At.XPATH,At.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function SL(t){var e=[Ir];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Ew(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function bL(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function NL(t){var e=[Ir];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Ew(t[r][0],t[r][1])),e.push(bL("",t[r][0]));return e.push(Ew("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function wA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+tm.version+"</meta:generator></office:meta></office:document-meta>"}var xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function dv(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=Ut(e),n[n.length]=r?Oe(t,e,r):ln(t,e))}function SA(t,e){var r=e||{},n=[Ir,Oe("cp:coreProperties",null,{"xmlns:cp":Wr.CORE_PROPS,"xmlns:dc":Wr.dc,"xmlns:dcterms":Wr.dcterms,"xmlns:dcmitype":Wr.dcmitype,"xmlns:xsi":Wr.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&dv("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Kv(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&dv("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Kv(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var o=0;o!=xl.length;++o){var c=xl[o],h=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:t?t[c[1]]:null;h===!0?h="1":h===!1?h="0":typeof h=="number"&&(h=String(h)),h!=null&&dv(c[0],h,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Yc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NA(t){var e=[],r=Oe;return t||(t={}),t.Application="SheetJS",e[e.length]=Ir,e[e.length]=Oe("Properties",null,{xmlns:Wr.EXT_PROPS,"xmlns:vt":Wr.vt}),Yc.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Ut(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ut(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function AA(t){var e=[Ir,Oe("Properties",null,{xmlns:Wr.CUST_PROPS,"xmlns:vt":Wr.vt})];if(!t)return e.join("");var r=1;return hn(t).forEach(function(a){++r,e[e.length]=Oe("property",qF(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ut(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Tw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function AL(t,e){var r=[];return hn(Tw).map(function(n){for(var a=0;a<xl.length;++a)if(xl[a][1]==n)return xl[a];for(a=0;a<Yc.length;++a)if(Yc[a][1]==n)return Yc[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ln(Tw[n[1]]||n[1],a))}}),Oe("DocumentProperties",r.join(""),{xmlns:sa.o})}function CL(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&hn(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var c=0;c<xl.length;++c)if(o==xl[c][1])return;for(c=0;c<Yc.length;++c)if(o==Yc[c][1])return;for(c=0;c<r.length;++c)if(o==r[c])return;var h=t[o],m="string";typeof h=="number"?(m="float",h=String(h)):h===!0||h===!1?(m="boolean",h=h?"1":"0"):h=String(h),a.push(Oe(cw(o),h,{"dt:dt":m}))}}),e&&hn(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var c=e[o],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c instanceof Date?(h="dateTime.tz",c=c.toISOString()):c=String(c),a.push(Oe(cw(o),c,{"dt:dt":h}))}}),"<"+n+' xmlns="'+sa.o+'">'+a.join("")+"</"+n+">"}function RL(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var o=n/Math.pow(2,32)|0;o>0&&(n=n%Math.pow(2,32),a+=o);var c=ye(8);return c.write_shift(4,n),c.write_shift(4,a),c}function ww(t,e){var r=ye(4),n=ye(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ye(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=RL(e);break;case 31:case 80:for(n=ye(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return on([r,n])}var CA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jL(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Sw(t,e,r){var n=ye(8),a=[],o=[],c=8,h=0,m=ye(8),f=ye(8);if(m.write_shift(4,2),m.write_shift(4,1200),f.write_shift(4,1),o.push(m),a.push(f),c+=8+m.length,!e){f=ye(8),f.write_shift(4,0),a.unshift(f);var g=[ye(4)];for(g[0].write_shift(4,t.length),h=0;h<t.length;++h){var x=t[h][0];for(m=ye(8+2*(x.length+1)+(x.length%2?0:2)),m.write_shift(4,h+2),m.write_shift(4,x.length+1),m.write_shift(0,x,"dbcs");m.l!=m.length;)m.write_shift(1,0);g.push(m)}m=on(g),o.unshift(m),c+=8+m.length}for(h=0;h<t.length;++h)if(!(e&&!e[t[h][0]])&&!(CA.indexOf(t[h][0])>-1||bA.indexOf(t[h][0])>-1)&&t[h][1]!=null){var y=t[h][1],E=0;if(e){E=+e[t[h][0]];var w=r[E];if(w.p=="version"&&typeof y=="string"){var T=y.split(".");y=(+T[0]<<16)+(+T[1]||0)}m=ww(w.t,y)}else{var b=jL(y);b==-1&&(b=31,y=String(y)),m=ww(b,y)}o.push(m),f=ye(8),f.write_shift(4,e?E:2+h),a.push(f),c+=8+m.length}var D=8*(o.length+1);for(h=0;h<o.length;++h)a[h].write_shift(4,D),D+=o[h].length;return n.write_shift(4,c),n.write_shift(4,o.length),on([n].concat(a).concat(o))}function bw(t,e,r,n,a,o){var c=ye(a?68:48),h=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Yt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,a?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,a?68:48);var m=Sw(t,r,n);if(h.push(m),a){var f=Sw(a,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+m.length),h.push(f)}return on(h)}function DL(t,e){e||(e=ye(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function IL(t,e){return t.read_shift(e)===1}function Rn(t,e){return e||(e=ye(2)),e.write_shift(2,+!!t),e}function RA(t){return t.read_shift(2,"u")}function ba(t,e){return e||(e=ye(2)),e.write_shift(2,t),e}function jA(t,e,r){return r||(r=ye(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function DA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var o=t.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var c=n?t.read_shift(n,a):"";return c}function kL(t){var e=t.t||"",r=ye(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ye(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return on(a)}function OL(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function PL(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):OL(t,n,r)}function ML(t,e,r){if(r.biff>5)return PL(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IA(t,e,r){return r||(r=ye(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Nw(t,e){e||(e=ye(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function FL(t){var e=ye(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),o=a>-1?31:23;switch(n.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)e.write_shift(4,c[r]);if(o==28)n=n.slice(1),Nw(n,e);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));var h=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(h.length+1)),r=0;r<h.length;++r)e.write_shift(2,h.charCodeAt(r));e.write_shift(2,0),o&8&&Nw(a>-1?n.slice(a+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));for(var m=0;n.slice(m*3,m*3+3)=="../"||n.slice(m*3,m*3+3)=="..\\";)++m;for(e.write_shift(2,m),e.write_shift(4,n.length-3*m+1),r=0;r<n.length-3*m;++r)e.write_shift(1,n.charCodeAt(r+3*m)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Cl(t,e,r,n){return n||(n=ye(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function LL(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),o=t.read_shift(n,"i"),c=t.read_shift(n,"i");return[a,o,c]}function VL(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function kA(t,e){return e||(e=ye(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function fx(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ye(a);return o.write_shift(2,n),o.write_shift(2,e),a>4&&o.write_shift(2,29282),a>6&&o.write_shift(2,1997),a>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function BL(t,e){var r=!e||e.biff==8,n=ye(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function UL(t,e){var r=!e||e.biff>=8?2:1,n=ye(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function zL(t,e){var r=ye(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=kL(t[a]);var o=on([r].concat(n));return o.parts=[r.length].concat(n.map(function(c){return c.length})),o}function HL(){var t=ye(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function qL(t){var e=ye(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function GL(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,o=ye(a);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,r.length),n||o.write_shift(1,1),o.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),o}function $L(t,e,r,n){var a=ye(10);return Cl(t,e,n,a),a.write_shift(4,r),a}function WL(t,e,r,n,a){var o=!a||a.biff==8,c=ye(8+ +o+(1+o)*r.length);return Cl(t,e,n,c),c.write_shift(2,r.length),o&&c.write_shift(1,1),c.write_shift((1+o)*r.length,r,o?"utf16le":"sbcs"),c}function YL(t,e,r,n){var a=r&&r.biff==5;n||(n=ye(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var o=n.length>n.l?n.slice(0,n.l):n;return o.l==null&&(o.l=o.length),o}function KL(t,e){var r=e.biff==8||!e.biff?4:2,n=ye(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Aw(t,e,r,n){var a=r&&r.biff==5;n||(n=ye(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&a&&(o|=1024),n.write_shift(4,o),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function XL(t){var e=ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function QL(t,e,r,n,a,o){var c=ye(8);return Cl(t,e,n,c),jA(r,o,c),c}function JL(t,e,r,n){var a=ye(14);return Cl(t,e,n,a),Al(r,a),a}function ZL(t,e,r){if(r.biff<8)return e8(t,e,r);for(var n=[],a=t.l+e,o=t.read_shift(r.biff>8?4:2);o--!==0;)n.push(LL(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function e8(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=DA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function t8(t){var e=ye(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)kA(t[r],e);return e}function r8(t){var e=ye(24),r=Yr(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return on([e,FL(t[1])])}function n8(t){var e=t[1].Tooltip,r=ye(10+2*(e.length+1));r.write_shift(2,2048);var n=Yr(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function a8(t){return t||(t=ye(4)),t.write_shift(2,1),t.write_shift(2,1),t}function s8(t,e,r){if(!r.cellStyles)return Ns(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(n),m=t.read_shift(2);n==2&&(t.l+=2);var f={s:a,e:o,w:c,ixfe:h,flags:m};return(r.biff>=5||!r.biff)&&(f.level=m>>8&7),f}function i8(t,e){var r=ye(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function o8(t){for(var e=ye(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function l8(t,e,r){var n=ye(15);return zd(n,t,e),n.write_shift(8,r,"f"),n}function c8(t,e,r){var n=ye(9);return zd(n,t,e),n.write_shift(2,r),n}var u8=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=rx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(h,m){var f=[],g=Nl(1);switch(m.type){case"base64":g=$a(hi(h));break;case"binary":g=$a(h);break;case"buffer":case"array":g=h;break}aa(g,0);var x=g.read_shift(1),y=!!(x&136),E=!1,w=!1;switch(x){case 2:break;case 3:break;case 48:E=!0,y=!0;break;case 49:E=!0,y=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var T=0,b=521;x==2&&(T=g.read_shift(2)),g.l+=3,x!=2&&(T=g.read_shift(4)),T>1048576&&(T=1e6),x!=2&&(b=g.read_shift(2));var D=g.read_shift(2),k=m.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(k=t[g[g.l]]),g.l+=1,g.l+=2),w&&(g.l+=36);for(var V=[],W={},z=Math.min(g.length,x==2?521:b-10-(E?264:0)),Q=w?32:11;g.l<z&&g[g.l]!=13;)switch(W={},W.name=rm.utils.decode(k,g.slice(g.l,g.l+Q)).replace(/[\u0000\r\n].*$/g,""),g.l+=Q,W.type=String.fromCharCode(g.read_shift(1)),x!=2&&!w&&(W.offset=g.read_shift(4)),W.len=g.read_shift(1),x==2&&(W.offset=g.read_shift(2)),W.dec=g.read_shift(1),W.name.length&&V.push(W),x!=2&&(g.l+=w?13:14),W.type){case"B":(!E||W.len!=8)&&m.WTF&&console.log("Skipping "+W.name+":"+W.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+W.name+":"+W.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+W.type)}if(g[g.l]!==13&&(g.l=b-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=b;var I=0,A=0;for(f[0]=[],A=0;A!=V.length;++A)f[0][A]=V[A].name;for(;T-- >0;){if(g[g.l]===42){g.l+=D;continue}for(++g.l,f[++I]=[],A=0,A=0;A!=V.length;++A){var C=g.slice(g.l,g.l+V[A].len);g.l+=V[A].len,aa(C,0);var P=rm.utils.decode(k,C);switch(V[A].type){case"C":P.trim().length&&(f[I][A]=P.replace(/\s+$/,""));break;case"D":P.length===8?f[I][A]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):f[I][A]=P;break;case"F":f[I][A]=parseFloat(P.trim());break;case"+":case"I":f[I][A]=w?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[I][A]=!0;break;case"N":case"F":f[I][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[I][A]="##MEMO##"+(w?parseInt(P.trim(),10):C.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[I][A]=+P||0);break;case"@":f[I][A]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":f[I][A]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":f[I][A]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[I][A]=-C.read_shift(-8,"f");break;case"B":if(E&&V[A].len==8){f[I][A]=C.read_shift(8,"f");break}case"G":case"P":C.l+=V[A].len;break;case"0":if(V[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+V[A].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return m&&m.sheetRows&&(f=f.slice(0,m.sheetRows)),m.DBF=V,f}function n(h,m){var f=m||{};f.dateNF||(f.dateNF="yyyymmdd");var g=Tu(r(h,f),f);return g["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,g}function a(h,m){try{return Ll(n(h,m),m)}catch(f){if(m&&m.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(h,m){var f=m||{};if(+f.codepage>=0&&fd(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var g=zn(),x=pm(h,{header:1,raw:!0,cellDates:!0}),y=x[0],E=x.slice(1),w=h["!cols"]||[],T=0,b=0,D=0,k=1;for(T=0;T<y.length;++T){if(((w[T]||{}).DBF||{}).name){y[T]=w[T].DBF.name,++D;continue}if(y[T]!=null){if(++D,typeof y[T]=="number"&&(y[T]=y[T].toString(10)),typeof y[T]!="string")throw new Error("DBF Invalid column name "+y[T]+" |"+typeof y[T]+"|");if(y.indexOf(y[T])!==T){for(b=0;b<1024;++b)if(y.indexOf(y[T]+"_"+b)==-1){y[T]+="_"+b;break}}}}var V=rr(h["!ref"]),W=[],z=[],Q=[];for(T=0;T<=V.e.c-V.s.c;++T){var I="",A="",C=0,P=[];for(b=0;b<E.length;++b)E[b][T]!=null&&P.push(E[b][T]);if(P.length==0||y[T]==null){W[T]="?";continue}for(b=0;b<P.length;++b){switch(typeof P[b]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=P[b]instanceof Date?"D":"C";break;default:A="C"}C=Math.max(C,String(P[b]).length),I=I&&I!=A?"C":A}C>250&&(C=250),A=((w[T]||{}).DBF||{}).type,A=="C"&&w[T].DBF.len>C&&(C=w[T].DBF.len),I=="B"&&A=="N"&&(I="N",Q[T]=w[T].DBF.dec,C=w[T].DBF.len),z[T]=I=="C"||A=="N"?C:o[I]||0,k+=z[T],W[T]=I}var N=g.next(32);for(N.write_shift(4,318902576),N.write_shift(4,E.length),N.write_shift(2,296+32*D),N.write_shift(2,k),T=0;T<4;++T)N.write_shift(4,0);for(N.write_shift(4,0|(+e[PN]||3)<<8),T=0,b=0;T<y.length;++T)if(y[T]!=null){var O=g.next(32),L=(y[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,L,"sbcs"),O.write_shift(1,W[T]=="?"?"C":W[T],"sbcs"),O.write_shift(4,b),O.write_shift(1,z[T]||o[W[T]]||0),O.write_shift(1,Q[T]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),b+=z[T]||o[W[T]]||0}var We=g.next(264);for(We.write_shift(4,13),T=0;T<65;++T)We.write_shift(4,0);for(T=0;T<E.length;++T){var He=g.next(k);for(He.write_shift(1,0),b=0;b<y.length;++b)if(y[b]!=null)switch(W[b]){case"L":He.write_shift(1,E[T][b]==null?63:E[T][b]?84:70);break;case"B":He.write_shift(8,E[T][b]||0,"f");break;case"N":var de="0";for(typeof E[T][b]=="number"&&(de=E[T][b].toFixed(Q[b]||0)),D=0;D<z[b]-de.length;++D)He.write_shift(1,32);He.write_shift(1,de,"sbcs");break;case"D":E[T][b]?(He.write_shift(4,("0000"+E[T][b].getFullYear()).slice(-4),"sbcs"),He.write_shift(2,("00"+(E[T][b].getMonth()+1)).slice(-2),"sbcs"),He.write_shift(2,("00"+E[T][b].getDate()).slice(-2),"sbcs")):He.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(E[T][b]!=null?E[T][b]:"").slice(0,z[b]);for(He.write_shift(1,Ce,"sbcs"),D=0;D<z[b]-Ce.length;++D)He.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:a,to_sheet:n,from_sheet:c}})(),h8=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+hn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,E){var w=t[E];return typeof w=="number"?QT(w):w},n=function(y,E,w){var T=E.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return T==59?y:QT(T)};t["|"]=254;function a(y,E){switch(E.type){case"base64":return o(hi(y),E);case"binary":return o(y,E);case"buffer":return o(Dt&&Buffer.isBuffer(y)?y.toString("binary"):Fd(y),E);case"array":return o(Wm(y),E)}throw new Error("Unrecognized type "+E.type)}function o(y,E){var w=y.split(/[\n\r]+/),T=-1,b=-1,D=0,k=0,V=[],W=[],z=null,Q={},I=[],A=[],C=[],P=0,N;for(+E.codepage>=0&&fd(+E.codepage);D!==w.length;++D){P=0;var O=w[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),L=O.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),We=L[0],He;if(O.length>0)switch(We){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&W.push(O.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,Ce=!1,ze=!1,Je=!1,ee=-1,Ee=-1;for(k=1;k<L.length;++k)switch(L[k].charAt(0)){case"A":break;case"X":b=parseInt(L[k].slice(1))-1,Ce=!0;break;case"Y":for(T=parseInt(L[k].slice(1))-1,Ce||(b=0),N=V.length;N<=T;++N)V[N]=[];break;case"K":He=L[k].slice(1),He.charAt(0)==='"'?He=He.slice(1,He.length-1):He==="TRUE"?He=!0:He==="FALSE"?He=!1:isNaN(ai(He))?isNaN(pd(He).getDate())||(He=Dn(He)):(He=ai(He),z!==null&&WN(z)&&(He=QN(He))),de=!0;break;case"E":Je=!0;var K=c5(L[k].slice(1),{r:T,c:b});V[T][b]=[V[T][b],K];break;case"S":ze=!0,V[T][b]=[V[T][b],"S5S"];break;case"G":break;case"R":ee=parseInt(L[k].slice(1))-1;break;case"C":Ee=parseInt(L[k].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+O)}if(de&&(V[T][b]&&V[T][b].length==2?V[T][b][0]=He:V[T][b]=He,z=null),ze){if(Je)throw new Error("SYLK shared formula cannot have own formula");var te=ee>-1&&V[ee][Ee];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");V[T][b][1]=u5(te[1],{r:T-ee,c:b-Ee})}break;case"F":var Z=0;for(k=1;k<L.length;++k)switch(L[k].charAt(0)){case"X":b=parseInt(L[k].slice(1))-1,++Z;break;case"Y":for(T=parseInt(L[k].slice(1))-1,N=V.length;N<=T;++N)V[N]=[];break;case"M":P=parseInt(L[k].slice(1))/20;break;case"F":break;case"G":break;case"P":z=W[parseInt(L[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=L[k].slice(1).split(" "),N=parseInt(C[0],10);N<=parseInt(C[1],10);++N)P=parseInt(C[2],10),A[N-1]=P===0?{hidden:!0}:{wch:P},mx(A[N-1]);break;case"C":b=parseInt(L[k].slice(1))-1,A[b]||(A[b]={});break;case"R":T=parseInt(L[k].slice(1))-1,I[T]||(I[T]={}),P>0?(I[T].hpt=P,I[T].hpx=LA(P)):P===0&&(I[T].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+O)}Z<1&&(z=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+O)}}return I.length>0&&(Q["!rows"]=I),A.length>0&&(Q["!cols"]=A),E&&E.sheetRows&&(V=V.slice(0,E.sheetRows)),[V,Q]}function c(y,E){var w=a(y,E),T=w[0],b=w[1],D=Tu(T,E);return hn(b).forEach(function(k){D[k]=b[k]}),D}function h(y,E){return Ll(c(y,E),E)}function m(y,E,w,T){var b="C;Y"+(w+1)+";X"+(T+1)+";K";switch(y.t){case"n":b+=y.v||0,y.f&&!y.F&&(b+=";E"+gx(y.f,{r:w,c:T}));break;case"b":b+=y.v?"TRUE":"FALSE";break;case"e":b+=y.w||y.v;break;case"d":b+='"'+(y.w||y.v)+'"';break;case"s":b+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function f(y,E){E.forEach(function(w,T){var b="F;W"+(T+1)+" "+(T+1)+" ";w.hidden?b+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=hm(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=dm(w.wpx)),typeof w.wch=="number"&&(b+=Math.round(w.wch))),b.charAt(b.length-1)!=" "&&y.push(b)})}function g(y,E){E.forEach(function(w,T){var b="F;";w.hidden?b+="M0;":w.hpt?b+="M"+20*w.hpt+";":w.hpx&&(b+="M"+20*fm(w.hpx)+";"),b.length>2&&y.push(b+"R"+(T+1))})}function x(y,E){var w=["ID;PWXL;N;E"],T=[],b=rr(y["!ref"]),D,k=Array.isArray(y),V=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),y["!cols"]&&f(w,y["!cols"]),y["!rows"]&&g(w,y["!rows"]),w.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var W=b.s.r;W<=b.e.r;++W)for(var z=b.s.c;z<=b.e.c;++z){var Q=zt({r:W,c:z});D=k?(y[W]||[])[z]:y[Q],!(!D||D.v==null&&(!D.f||D.F))&&T.push(m(D,y,W,z))}return w.join(V)+V+T.join(V)+V+"E"+V}return{to_workbook:h,to_sheet:c,from_sheet:x}})(),d8=(function(){function t(o,c){switch(c.type){case"base64":return e(hi(o),c);case"binary":return e(o,c);case"buffer":return e(Dt&&Buffer.isBuffer(o)?o.toString("binary"):Fd(o),c);case"array":return e(Wm(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var h=o.split(`
`),m=-1,f=-1,g=0,x=[];g!==h.length;++g){if(h[g].trim()==="BOT"){x[++m]=[],f=0;continue}if(!(m<0)){var y=h[g].trim().split(","),E=y[0],w=y[1];++g;for(var T=h[g]||"";(T.match(/["]/g)||[]).length&1&&g<h.length-1;)T+=`
`+h[++g];switch(T=T.trim(),+E){case-1:if(T==="BOT"){x[++m]=[],f=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?x[m][f]=!0:T==="FALSE"?x[m][f]=!1:isNaN(ai(w))?isNaN(pd(w).getDate())?x[m][f]=w:x[m][f]=Dn(w):x[m][f]=ai(w),++f;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),x[m][f++]=T!==""?T:null;break}if(T==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function r(o,c){return Tu(t(o,c),c)}function n(o,c){return Ll(r(o,c),c)}var a=(function(){var o=function(m,f,g,x,y){m.push(f),m.push(g+","+x),m.push('"'+y.replace(/"/g,'""')+'"')},c=function(m,f,g,x){m.push(f+","+g),m.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(m){var f=[],g=rr(m["!ref"]),x,y=Array.isArray(m);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,g.e.r-g.s.r+1,""),o(f,"TUPLES",0,g.e.c-g.s.c+1,""),o(f,"DATA",0,0,"");for(var E=g.s.r;E<=g.e.r;++E){c(f,-1,0,"BOT");for(var w=g.s.c;w<=g.e.c;++w){var T=zt({r:E,c:w});if(x=y?(m[E]||[])[w]:m[T],!x){c(f,1,0,"");continue}switch(x.t){case"n":var b=x.w;!b&&x.v!=null&&(b=x.v),b==null?x.f&&!x.F?c(f,1,0,"="+x.f):c(f,1,0,""):c(f,0,b,"V");break;case"b":c(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=So(x.z||pr[14],Hn(Dn(x.v)))),c(f,0,x.w,"V");break;default:c(f,1,0,"")}}}c(f,-1,0,"EOD");var D=`\r
`,k=f.join(D);return k}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),OA=(function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,y){for(var E=x.split(`
`),w=-1,T=-1,b=0,D=[];b!==E.length;++b){var k=E[b].trim().split(":");if(k[0]==="cell"){var V=Yr(k[1]);if(D.length<=V.r)for(w=D.length;w<=V.r;++w)D[w]||(D[w]=[]);switch(w=V.r,T=V.c,k[2]){case"t":D[w][T]=t(k[3]);break;case"v":D[w][T]=+k[3];break;case"vtf":var W=k[k.length-1];case"vtc":switch(k[3]){case"nl":D[w][T]=!!+k[4];break;default:D[w][T]=+k[4];break}k[2]=="vtf"&&(D[w][T]=[D[w][T],W])}}}return y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),D}function n(x,y){return Tu(r(x,y),y)}function a(x,y){return Ll(n(x,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,h=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var y=[],E=[],w,T="",b=ca(x["!ref"]),D=Array.isArray(x),k=b.s.r;k<=b.e.r;++k)for(var V=b.s.c;V<=b.e.c;++V)if(T=zt({r:k,c:V}),w=D?(x[k]||[])[V]:x[T],!(!w||w.v==null||w.t==="z")){switch(E=["cell",T,"t"],w.t){case"s":case"str":E.push(e(w.v));break;case"n":w.f?(E[2]="vtf",E[3]="n",E[4]=w.v,E[5]=e(w.f)):(E[2]="v",E[3]=w.v);break;case"b":E[2]="vt"+(w.f?"f":"c"),E[3]="nl",E[4]=w.v?"1":"0",E[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var W=Hn(Dn(w.v));E[2]="vtc",E[3]="nd",E[4]=""+W,E[5]=w.w||So(w.z||pr[14],W);break;case"e":continue}y.push(E.join(":"))}return y.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function g(x){return[o,c,h,c,f(x),m].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:g}})(),f8=(function(){function t(g,x,y,E,w){w.raw?x[y][E]=g:g===""||(g==="TRUE"?x[y][E]=!0:g==="FALSE"?x[y][E]=!1:isNaN(ai(g))?isNaN(pd(g).getDate())?x[y][E]=g:x[y][E]=Dn(g):x[y][E]=ai(g))}function e(g,x){var y=x||{},E=[];if(!g||g.length===0)return E;for(var w=g.split(/[\r\n]/),T=w.length-1;T>=0&&w[T].length===0;)--T;for(var b=10,D=0,k=0;k<=T;++k)D=w[k].indexOf(" "),D==-1?D=w[k].length:D++,b=Math.max(b,D);for(k=0;k<=T;++k){E[k]=[];var V=0;for(t(w[k].slice(0,b).trim(),E,k,V,y),V=1;V<=(w[k].length-b)/10+1;++V)t(w[k].slice(b+(V-1)*10,b+V*10).trim(),E,k,V,y)}return y.sheetRows&&(E=E.slice(0,y.sheetRows)),E}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(g){for(var x={},y=!1,E=0,w=0;E<g.length;++E)(w=g.charCodeAt(E))==34?y=!y:!y&&w in r&&(x[w]=(x[w]||0)+1);w=[];for(E in x)Object.prototype.hasOwnProperty.call(x,E)&&w.push([x[E],E]);if(!w.length){x=n;for(E in x)Object.prototype.hasOwnProperty.call(x,E)&&w.push([x[E],E])}return w.sort(function(T,b){return T[0]-b[0]||n[T[1]]-n[b[1]]}),r[w.pop()[1]]||44}function o(g,x){var y=x||{},E="",w=y.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(E=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(E=g.charAt(4),g=g.slice(6)):E=a(g.slice(0,1024)):y&&y.FS?E=y.FS:E=a(g.slice(0,1024));var b=0,D=0,k=0,V=0,W=0,z=E.charCodeAt(0),Q=!1,I=0,A=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?RF(y.dateNF):null;function P(){var N=g.slice(V,W),O={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)O.t="z";else if(y.raw)O.t="s",O.v=N;else if(N.trim().length===0)O.t="s",O.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(O.t="s",O.v=N.slice(2,-1).replace(/""/g,'"')):h5(N)?(O.t="n",O.f=N.slice(1)):(O.t="s",O.v=N);else if(N=="TRUE")O.t="b",O.v=!0;else if(N=="FALSE")O.t="b",O.v=!1;else if(!isNaN(k=ai(N)))O.t="n",y.cellText!==!1&&(O.w=N),O.v=k;else if(!isNaN(pd(N).getDate())||C&&N.match(C)){O.z=y.dateNF||pr[14];var L=0;C&&N.match(C)&&(N=jF(N,y.dateNF,N.match(C)||[]),L=1),y.cellDates?(O.t="d",O.v=Dn(N,L)):(O.t="n",O.v=Hn(Dn(N,L))),y.cellText!==!1&&(O.w=So(O.z,O.v instanceof Date?Hn(O.v):O.v)),y.cellNF||delete O.z}else O.t="s",O.v=N;if(O.t=="z"||(y.dense?(w[b]||(w[b]=[]),w[b][D]=O):w[zt({c:D,r:b})]=O),V=W+1,A=g.charCodeAt(V),T.e.c<D&&(T.e.c=D),T.e.r<b&&(T.e.r=b),I==z)++D;else if(D=0,++b,y.sheetRows&&y.sheetRows<=b)return!0}e:for(;W<g.length;++W)switch(I=g.charCodeAt(W)){case 34:A===34&&(Q=!Q);break;case z:case 10:case 13:if(!Q&&P())break e;break}return W-V>0&&P(),w["!ref"]=jr(T),w}function c(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?o(g,x):Tu(e(g,x),x)}function h(g,x){var y="",E=x.type=="string"?[0,0,0,0]:b7(g,x);switch(x.type){case"base64":y=hi(g);break;case"binary":y=g;break;case"buffer":x.codepage==65001?y=g.toString("utf8"):x.codepage&&typeof rm<"u"||(y=Dt&&Buffer.isBuffer(g)?g.toString("binary"):Fd(g));break;case"array":y=Wm(g);break;case"string":y=g;break;default:throw new Error("Unrecognized type "+x.type)}return E[0]==239&&E[1]==187&&E[2]==191?y=Xh(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=Xh(y):x.type=="binary"&&typeof rm<"u",y.slice(0,19)=="socialcalc:version:"?OA.to_sheet(x.type=="string"?y:Xh(y),x):c(y,x)}function m(g,x){return Ll(h(g,x),x)}function f(g){for(var x=[],y=rr(g["!ref"]),E,w=Array.isArray(g),T=y.s.r;T<=y.e.r;++T){for(var b=[],D=y.s.c;D<=y.e.c;++D){var k=zt({r:T,c:D});if(E=w?(g[T]||[])[D]:g[k],!E||E.v==null){b.push("          ");continue}for(var V=(E.w||(di(E),E.w)||"").slice(0,10);V.length<10;)V+=" ";b.push(V+(D===0?" ":""))}x.push(b.join(""))}return x.join(`
`)}return{to_workbook:m,to_sheet:h,from_sheet:f}})(),Cw=(function(){function t(K,te,Z){if(K){aa(K,K.l||0);for(var re=Z.Enum||ee;K.l<K.length;){var he=K.read_shift(2),Fe=re[he]||re[65535],ae=K.read_shift(2),De=K.l+ae,ke=Fe.f&&Fe.f(K,ae,Z);if(K.l=De,te(ke,Fe,he))return}}}function e(K,te){switch(te.type){case"base64":return r($a(hi(K)),te);case"binary":return r($a(K),te);case"buffer":case"array":return r(K,te)}throw"Unsupported type "+te.type}function r(K,te){if(!K)return K;var Z=te||{},re=Z.dense?[]:{},he="Sheet1",Fe="",ae=0,De={},ke=[],ft=[],ht={s:{r:0,c:0},e:{r:0,c:0}},ir=Z.sheetRows||0;if(K[2]==0&&(K[3]==8||K[3]==9)&&K.length>=16&&K[14]==5&&K[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(K[2]==2)Z.Enum=ee,t(K,function(Le,Qr,Ot){switch(Ot){case 0:Z.vers=Le,Le>=4096&&(Z.qpro=!0);break;case 6:ht=Le;break;case 204:Le&&(Fe=Le);break;case 222:Fe=Le;break;case 15:case 51:Z.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:Ot==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=Z.dateNF||pr[14],Z.cellDates&&(Le[1].t="d",Le[1].v=QN(Le[1].v))),Z.qpro&&Le[3]>ae&&(re["!ref"]=jr(ht),De[he]=re,ke.push(he),re=Z.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},ae=Le[3],he=Fe||"Sheet"+(ae+1),Fe="");var Qt=Z.dense?(re[Le[0].r]||[])[Le[0].c]:re[zt(Le[0])];if(Qt){Qt.t=Le[1].t,Qt.v=Le[1].v,Le[1].z!=null&&(Qt.z=Le[1].z),Le[1].f!=null&&(Qt.f=Le[1].f);break}Z.dense?(re[Le[0].r]||(re[Le[0].r]=[]),re[Le[0].r][Le[0].c]=Le[1]):re[zt(Le[0])]=Le[1];break}},Z);else if(K[2]==26||K[2]==14)Z.Enum=Ee,K[2]==14&&(Z.qpro=!0,K.l=0),t(K,function(Le,Qr,Ot){switch(Ot){case 204:he=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ae&&(re["!ref"]=jr(ht),De[he]=re,ke.push(he),re=Z.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},ae=Le[3],he="Sheet"+(ae+1)),ir>0&&Le[0].r>=ir)break;Z.dense?(re[Le[0].r]||(re[Le[0].r]=[]),re[Le[0].r][Le[0].c]=Le[1]):re[zt(Le[0])]=Le[1],ht.e.c<Le[0].c&&(ht.e.c=Le[0].c),ht.e.r<Le[0].r&&(ht.e.r=Le[0].r);break;case 27:Le[14e3]&&(ft[Le[14e3][0]]=Le[14e3][1]);break;case 1537:ft[Le[0]]=Le[1],Le[0]==ae&&(he=Le[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+K[2]);if(re["!ref"]=jr(ht),De[Fe||he]=re,ke.push(Fe||he),!ft.length)return{SheetNames:ke,Sheets:De};for(var gt={},Gn=[],Ht=0;Ht<ft.length;++Ht)De[ke[Ht]]?(Gn.push(ft[Ht]||ke[Ht]),gt[ft[Ht]]=De[ft[Ht]]||De[ke[Ht]]):(Gn.push(ft[Ht]),gt[ft[Ht]]={"!ref":"A1"});return{SheetNames:Gn,Sheets:gt}}function n(K,te){var Z=te||{};if(+Z.codepage>=0&&fd(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var re=zn(),he=rr(K["!ref"]),Fe=Array.isArray(K),ae=[];Pe(re,0,o(1030)),Pe(re,6,m(he));for(var De=Math.min(he.e.r,8191),ke=he.s.r;ke<=De;++ke)for(var ft=cn(ke),ht=he.s.c;ht<=he.e.c;++ht){ke===he.s.r&&(ae[ht]=_n(ht));var ir=ae[ht]+ft,gt=Fe?(K[ke]||[])[ht]:K[ir];if(!(!gt||gt.t=="z"))if(gt.t=="n")(gt.v|0)==gt.v&&gt.v>=-32768&&gt.v<=32767?Pe(re,13,E(ke,ht,gt.v)):Pe(re,14,T(ke,ht,gt.v));else{var Gn=di(gt);Pe(re,15,x(ke,ht,Gn.slice(0,239)))}}return Pe(re,1),re.end()}function a(K,te){var Z=te||{};if(+Z.codepage>=0&&fd(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var re=zn();Pe(re,0,c(K));for(var he=0,Fe=0;he<K.SheetNames.length;++he)(K.Sheets[K.SheetNames[he]]||{})["!ref"]&&Pe(re,27,Je(K.SheetNames[he],Fe++));var ae=0;for(he=0;he<K.SheetNames.length;++he){var De=K.Sheets[K.SheetNames[he]];if(!(!De||!De["!ref"])){for(var ke=rr(De["!ref"]),ft=Array.isArray(De),ht=[],ir=Math.min(ke.e.r,8191),gt=ke.s.r;gt<=ir;++gt)for(var Gn=cn(gt),Ht=ke.s.c;Ht<=ke.e.c;++Ht){gt===ke.s.r&&(ht[Ht]=_n(Ht));var Le=ht[Ht]+Gn,Qr=ft?(De[gt]||[])[Ht]:De[Le];if(!(!Qr||Qr.t=="z"))if(Qr.t=="n")Pe(re,23,P(gt,Ht,ae,Qr.v));else{var Ot=di(Qr);Pe(re,22,I(gt,Ht,ae,Ot.slice(0,239)))}}++ae}}return Pe(re,1),re.end()}function o(K){var te=ye(2);return te.write_shift(2,K),te}function c(K){var te=ye(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var Z=0,re=0,he=0,Fe=0;Fe<K.SheetNames.length;++Fe){var ae=K.SheetNames[Fe],De=K.Sheets[ae];if(!(!De||!De["!ref"])){++he;var ke=ca(De["!ref"]);Z<ke.e.r&&(Z=ke.e.r),re<ke.e.c&&(re=ke.e.c)}}return Z>8191&&(Z=8191),te.write_shift(2,Z),te.write_shift(1,he),te.write_shift(1,re),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function h(K,te,Z){var re={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&Z.qpro?(re.s.c=K.read_shift(1),K.l++,re.s.r=K.read_shift(2),re.e.c=K.read_shift(1),K.l++,re.e.r=K.read_shift(2),re):(re.s.c=K.read_shift(2),re.s.r=K.read_shift(2),te==12&&Z.qpro&&(K.l+=2),re.e.c=K.read_shift(2),re.e.r=K.read_shift(2),te==12&&Z.qpro&&(K.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function m(K){var te=ye(8);return te.write_shift(2,K.s.c),te.write_shift(2,K.s.r),te.write_shift(2,K.e.c),te.write_shift(2,K.e.r),te}function f(K,te,Z){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(re[0].c=K.read_shift(1),re[3]=K.read_shift(1),re[0].r=K.read_shift(2),K.l+=2):(re[2]=K.read_shift(1),re[0].c=K.read_shift(2),re[0].r=K.read_shift(2)),re}function g(K,te,Z){var re=K.l+te,he=f(K,te,Z);if(he[1].t="s",Z.vers==20768){K.l++;var Fe=K.read_shift(1);return he[1].v=K.read_shift(Fe,"utf8"),he}return Z.qpro&&K.l++,he[1].v=K.read_shift(re-K.l,"cstr"),he}function x(K,te,Z){var re=ye(7+Z.length);re.write_shift(1,255),re.write_shift(2,te),re.write_shift(2,K),re.write_shift(1,39);for(var he=0;he<re.length;++he){var Fe=Z.charCodeAt(he);re.write_shift(1,Fe>=128?95:Fe)}return re.write_shift(1,0),re}function y(K,te,Z){var re=f(K,te,Z);return re[1].v=K.read_shift(2,"i"),re}function E(K,te,Z){var re=ye(7);return re.write_shift(1,255),re.write_shift(2,te),re.write_shift(2,K),re.write_shift(2,Z,"i"),re}function w(K,te,Z){var re=f(K,te,Z);return re[1].v=K.read_shift(8,"f"),re}function T(K,te,Z){var re=ye(13);return re.write_shift(1,255),re.write_shift(2,te),re.write_shift(2,K),re.write_shift(8,Z,"f"),re}function b(K,te,Z){var re=K.l+te,he=f(K,te,Z);if(he[1].v=K.read_shift(8,"f"),Z.qpro)K.l=re;else{var Fe=K.read_shift(2);W(K.slice(K.l,K.l+Fe),he),K.l+=Fe}return he}function D(K,te,Z){var re=te&32768;return te&=-32769,te=(re?K:0)+(te>=8192?te-16384:te),(re?"":"$")+(Z?_n(te):cn(te))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},V=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function W(K,te){aa(K,0);for(var Z=[],re=0,he="",Fe="",ae="",De="";K.l<K.length;){var ke=K[K.l++];switch(ke){case 0:Z.push(K.read_shift(8,"f"));break;case 1:Fe=D(te[0].c,K.read_shift(2),!0),he=D(te[0].r,K.read_shift(2),!1),Z.push(Fe+he);break;case 2:{var ft=D(te[0].c,K.read_shift(2),!0),ht=D(te[0].r,K.read_shift(2),!1);Fe=D(te[0].c,K.read_shift(2),!0),he=D(te[0].r,K.read_shift(2),!1),Z.push(ft+ht+":"+Fe+he)}break;case 3:if(K.l<K.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(K.read_shift(2));break;case 6:{for(var ir="";ke=K[K.l++];)ir+=String.fromCharCode(ke);Z.push('"'+ir.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:De=Z.pop(),ae=Z.pop(),Z.push(["AND","OR"][ke-20]+"("+ae+","+De+")");break;default:if(ke<32&&V[ke])De=Z.pop(),ae=Z.pop(),Z.push(ae+V[ke]+De);else if(k[ke]){if(re=k[ke][1],re==69&&(re=K[K.l++]),re>Z.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+Z.join("|")+"|");return}var gt=Z.slice(-re);Z.length-=re,Z.push(k[ke][0]+"("+gt.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}Z.length==1?te[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function z(K){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=K.read_shift(2),te[3]=K[K.l++],te[0].c=K[K.l++],te}function Q(K,te){var Z=z(K);return Z[1].t="s",Z[1].v=K.read_shift(te-4,"cstr"),Z}function I(K,te,Z,re){var he=ye(6+re.length);he.write_shift(2,K),he.write_shift(1,Z),he.write_shift(1,te),he.write_shift(1,39);for(var Fe=0;Fe<re.length;++Fe){var ae=re.charCodeAt(Fe);he.write_shift(1,ae>=128?95:ae)}return he.write_shift(1,0),he}function A(K,te){var Z=z(K);Z[1].v=K.read_shift(2);var re=Z[1].v>>1;if(Z[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Z[1].v=re,Z}function C(K,te){var Z=z(K),re=K.read_shift(4),he=K.read_shift(4),Fe=K.read_shift(2);if(Fe==65535)return re===0&&he===3221225472?(Z[1].t="e",Z[1].v=15):re===0&&he===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var ae=Fe&32768;return Fe=(Fe&32767)-16446,Z[1].v=(1-ae*2)*(he*Math.pow(2,Fe+32)+re*Math.pow(2,Fe)),Z}function P(K,te,Z,re){var he=ye(14);if(he.write_shift(2,K),he.write_shift(1,Z),he.write_shift(1,te),re==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var Fe=0,ae=0,De=0,ke=0;return re<0&&(Fe=1,re=-re),ae=Math.log2(re)|0,re/=Math.pow(2,ae-31),ke=re>>>0,(ke&2147483648)==0&&(re/=2,++ae,ke=re>>>0),re-=ke,ke|=2147483648,ke>>>=0,re*=Math.pow(2,32),De=re>>>0,he.write_shift(4,De),he.write_shift(4,ke),ae+=16383+(Fe?32768:0),he.write_shift(2,ae),he}function N(K,te){var Z=C(K);return K.l+=te-14,Z}function O(K,te){var Z=z(K),re=K.read_shift(4);return Z[1].v=re>>6,Z}function L(K,te){var Z=z(K),re=K.read_shift(8,"f");return Z[1].v=re,Z}function We(K,te){var Z=L(K);return K.l+=te-10,Z}function He(K,te){return K[K.l+te-1]==0?K.read_shift(te,"cstr"):""}function de(K,te){var Z=K[K.l++];Z>te-1&&(Z=te-1);for(var re="";re.length<Z;)re+=String.fromCharCode(K[K.l++]);return re}function Ce(K,te,Z){if(!(!Z.qpro||te<21)){var re=K.read_shift(1);K.l+=17,K.l+=1,K.l+=2;var he=K.read_shift(te-21,"cstr");return[re,he]}}function ze(K,te){for(var Z={},re=K.l+te;K.l<re;){var he=K.read_shift(2);if(he==14e3){for(Z[he]=[0,""],Z[he][0]=K.read_shift(2);K[K.l];)Z[he][1]+=String.fromCharCode(K[K.l]),K.l++;K.l++}}return Z}function Je(K,te){var Z=ye(5+K.length);Z.write_shift(2,14e3),Z.write_shift(2,te);for(var re=0;re<K.length;++re){var he=K.charCodeAt(re);Z[Z.l++]=he>127?95:he}return Z[Z.l++]=0,Z}var ee={0:{n:"BOF",f:RA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:h},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:He},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},Ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Q},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ze},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:We},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:He},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),m8=/^\s|\s$|[\t\n\r]/;function PA(t,e){if(!e.bookSST)return"";var r=[Ir];r[r.length]=Oe("sst",null,{xmlns:Eu[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],o="<si>";a.r?o+=a.r:(o+="<t",a.t||(a.t=""),a.t.match(m8)&&(o+=' xml:space="preserve"'),o+=">"+Ut(a.t)+"</t>"),o+="</si>",r[r.length]=o}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function p8(t){return[t.read_shift(4),t.read_shift(4)]}function g8(t,e){return e||(e=ye(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var v8=oL;function x8(t){var e=zn();Ne(e,159,g8(t));for(var r=0;r<t.length;++r)Ne(e,19,v8(t[r]));return Ne(e,160),e.end()}function y8(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function MA(t){var e=0,r,n=y8(t),a=n.length+1,o,c,h,m,f;for(r=Nl(a),r[0]=n.length,o=1;o!=a;++o)r[o]=n[o-1];for(o=a-1;o>=0;--o)c=r[o],h=(e&16384)===0?0:1,m=e<<1&32767,f=h|m,e=f^c;return e^52811}var _8=(function(){function t(a,o){switch(o.type){case"base64":return e(hi(a),o);case"binary":return e(a,o);case"buffer":return e(Dt&&Buffer.isBuffer(a)?a.toString("binary"):Fd(a),o);case"array":return e(Wm(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){var c=o||{},h=c.dense?[]:{},m=a.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(g,x){Array.isArray(h)&&(h[x]=[]);for(var y=/\\\w+\b/g,E=0,w,T=-1;w=y.exec(g);){switch(w[0]){case"\\cell":var b=g.slice(E,y.lastIndex-w[0].length);if(b[0]==" "&&(b=b.slice(1)),++T,b.length){var D={v:b,t:"s"};Array.isArray(h)?h[x][T]=D:h[zt({r:x,c:T})]=D}break}E=y.lastIndex}T>f.e.c&&(f.e.c=T)}),h["!ref"]=jr(f),h}function r(a,o){return Ll(t(a,o),o)}function n(a){for(var o=["{\\rtf1\\ansi"],c=rr(a["!ref"]),h,m=Array.isArray(a),f=c.s.r;f<=c.e.r;++f){o.push("\\trowd\\trautofit1");for(var g=c.s.c;g<=c.e.c;++g)o.push("\\cellx"+(g+1));for(o.push("\\pard\\intbl"),g=c.s.c;g<=c.e.c;++g){var x=zt({r:f,c:g});h=m?(a[f]||[])[g]:a[x],!(!h||h.v==null&&(!h.f||h.F))&&(o.push(" "+(h.w||(di(h),h.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function Rw(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var E8=6,si=E8;function hm(t){return Math.floor((t+Math.round(128/si)/256)*si)}function dm(t){return Math.floor((t-5)/si*100+.5)/100}function Qv(t){return Math.round((t*si+5)/si*256)/256}function mx(t){t.width?(t.wpx=hm(t.width),t.wch=dm(t.wpx),t.MDW=si):t.wpx?(t.wch=dm(t.wpx),t.width=Qv(t.wch),t.MDW=si):typeof t.wch=="number"&&(t.width=Qv(t.wch),t.wpx=hm(t.width),t.MDW=si),t.customWidth&&delete t.customWidth}var T8=96,FA=T8;function fm(t){return t*96/FA}function LA(t){return t*FA/96}function w8(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Oe("numFmt",null,{numFmtId:n,formatCode:Ut(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Oe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function S8(t){var e=[];return e[e.length]=Oe("cellXfs",null),t.forEach(function(r){e[e.length]=Oe("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Oe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function VA(t,e){var r=[Ir,Oe("styleSheet",null,{xmlns:Eu[0],"xmlns:vt":Wr.vt})],n;return t.SSF&&(n=w8(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=S8(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function b8(t,e){var r=t.read_shift(2),n=En(t);return[r,n]}function N8(t,e,r){r||(r=ye(6+4*e.length)),r.write_shift(2,t),Kr(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function A8(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=mL(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var o=t.read_shift(2);switch(o===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(n.underline=c);var h=t.read_shift(1);h>0&&(n.family=h);var m=t.read_shift(1);switch(m>0&&(n.charset=m),t.l++,n.color=fL(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=En(t),n}function C8(t,e){e||(e=ye(153)),e.write_shift(2,t.sz*20),pL(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),cm(t.color,e);var n=0;return n=2,e.write_shift(1,n),Kr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var R8=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fv,j8=Ns;function jw(t,e){e||(e=ye(84)),fv||(fv=rx(R8));var r=fv[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(cm({auto:1},e),cm({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function D8(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function BA(t,e,r){r||(r=ye(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ih(t,e){return e||(e=ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var I8=Ns;function k8(t,e){return e||(e=ye(51)),e.write_shift(1,0),Ih(null,e),Ih(null,e),Ih(null,e),Ih(null,e),Ih(null,e),e.length>e.l?e.slice(0,e.l):e}function O8(t,e){return e||(e=ye(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),lm(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function P8(t,e,r){var n=ye(2052);return n.write_shift(4,t),lm(e,n),lm(r,n),n.length>n.l?n.slice(0,n.l):n}function M8(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(Ne(t,615,Xa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Ne(t,44,N8(a,e[a]))}),Ne(t,616))}}function F8(t){var e=1;Ne(t,611,Xa(e)),Ne(t,43,C8({sz:12,color:{theme:1},name:"Calibri",family:2})),Ne(t,612)}function L8(t){var e=2;Ne(t,603,Xa(e)),Ne(t,45,jw({patternType:"none"})),Ne(t,45,jw({patternType:"gray125"})),Ne(t,604)}function V8(t){var e=1;Ne(t,613,Xa(e)),Ne(t,46,k8()),Ne(t,614)}function B8(t){var e=1;Ne(t,626,Xa(e)),Ne(t,47,BA({numFmtId:0},65535)),Ne(t,627)}function U8(t,e){Ne(t,617,Xa(e.length)),e.forEach(function(r){Ne(t,47,BA(r,0))}),Ne(t,618)}function z8(t){var e=1;Ne(t,619,Xa(e)),Ne(t,48,O8({xfId:0,name:"Normal"})),Ne(t,620)}function H8(t){var e=0;Ne(t,505,Xa(e)),Ne(t,506)}function q8(t){var e=0;Ne(t,508,P8(e,"TableStyleMedium9","PivotStyleMedium4")),Ne(t,509)}function G8(t,e){var r=zn();return Ne(r,278),M8(r,t.SSF),F8(r),L8(r),V8(r),B8(r),U8(r,e.cellXfs),z8(r),H8(r),q8(r),Ne(r,279),r.end()}function UA(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ir];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $8(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:En(t)}}function W8(t){var e=ye(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Kr(t.name,e),e.slice(0,e.l)}function Y8(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function K8(t){var e=ye(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function X8(t,e){var r=ye(8+2*e.length);return r.write_shift(4,t),Kr(e,r),r.slice(0,r.l)}function Q8(t){return t.l+=4,t.read_shift(4)!=0}function J8(t,e){var r=ye(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Z8(){var t=zn();return Ne(t,332),Ne(t,334,Xa(1)),Ne(t,335,W8({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(t,336),Ne(t,339,X8(1,"XLDAPR")),Ne(t,52),Ne(t,35,Xa(514)),Ne(t,4096,Xa(0)),Ne(t,4097,ba(1)),Ne(t,36),Ne(t,53),Ne(t,340),Ne(t,337,J8(1)),Ne(t,51,K8([[1,0]])),Ne(t,338),Ne(t,333),t.end()}function zA(){var t=[Ir];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function e5(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=zt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Vc=1024;function HA(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Oe("xml",null,{"xmlns:v":sa.v,"xmlns:o":sa.o,"xmlns:x":sa.x,"xmlns:mv":sa.mv}).replace(/\/>/,">"),Oe("o:shapelayout",Oe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Oe("v:shapetype",[Oe("v:stroke",null,{joinstyle:"miter"}),Oe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Vc<t*1e3;)Vc+=1e3;return e.forEach(function(o){var c=Yr(o[0]),h={color2:"#BEFF82",type:"gradient"};h.type=="gradient"&&(h.angle="-180");var m=h.type=="gradient"?Oe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Oe("v:fill",m,h),g={on:"t",obscured:"t"};++Vc,a=a.concat(["<v:shape"+vd({id:"_x0000_s"+Vc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Oe("v:shadow",null,g),Oe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ln("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),ln("x:AutoFill","False"),ln("x:Row",String(c.r)),ln("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function qA(t){var e=[Ir,Oe("comments",null,{xmlns:Eu[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var o=Ut(a.a);r.indexOf(o)==-1&&(r.push(o),e.push("<author>"+o+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,o=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(m){m.a&&(a=r.indexOf(Ut(m.a))),o.push(m.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),o.length<=1)e.push(ln("t",Ut(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,h=1;h<o.length;++h)c+=`Reply:
    `+o[h]+`
`;e.push(ln("t",Ut(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function t5(t,e,r){var n=[Ir,Oe("ThreadedComments",null,{xmlns:Wr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var o="";(a[1]||[]).forEach(function(c,h){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var m={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};h==0?o=m.id:m.parentId=o,c.ID=m.id,c.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),n.push(Oe("threadedComment",ln("text",c.t||""),m))})}),n.push("</ThreadedComments>"),n.join("")}function r5(t){var e=[Ir,Oe("personList",null,{xmlns:Wr.TCMNT,"xmlns:x":Eu[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Oe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function n5(t){var e={};e.iauthor=t.read_shift(4);var r=zl(t);return e.rfx=r.s,e.ref=zt(r.s),t.l+=16,e}function a5(t,e){return e==null&&(e=ye(36)),e.write_shift(4,t[1].iauthor),wu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var s5=En;function i5(t){return Kr(t.slice(0,54))}function o5(t){var e=zn(),r=[];return Ne(e,628),Ne(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ne(e,632,i5(a.a)))})}),Ne(e,631),Ne(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var o={s:Yr(n[0]),e:Yr(n[0])};Ne(e,635,a5([o,a])),a.t&&a.t.length>0&&Ne(e,637,cL(a)),Ne(e,636),delete a.iauthor})}),Ne(e,634),Ne(e,629),e.end()}function l5(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Yt.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var GA=["xlsb","xlsm","xlam","biff8","xla"],c5=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,o,c){var h=!1,m=!1;o.length==0?m=!0:o.charAt(0)=="["&&(m=!0,o=o.slice(1,-1)),c.length==0?h=!0:c.charAt(0)=="["&&(h=!0,c=c.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,g=c.length>0?parseInt(c,10)|0:0;return h?g+=e.c:--g,m?f+=e.r:--f,a+(h?"":"$")+_n(g)+(m?"":"$")+cn(f)}return function(a,o){return e=o,a.replace(t,r)}})(),px=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gx=(function(){return function(e,r){return e.replace(px,function(n,a,o,c,h,m){var f=cx(c)-(o?0:r.c),g=lx(m)-(h?0:r.r),x=g==0?"":h?g+1:"["+g+"]",y=f==0?"":o?f+1:"["+f+"]";return a+"R"+x+"C"+y})}})();function u5(t,e){return t.replace(px,function(r,n,a,o,c,h){return n+(a=="$"?a+o:_n(cx(o)+e.c))+(c=="$"?c+h:cn(lx(h)+e.r))})}function h5(t){return t.length!=1}function Nr(t){t.l+=1}function bo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $A(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return WA(t);r.biff==12&&(n=4)}var a=t.read_shift(n),o=t.read_shift(n),c=bo(t),h=bo(t);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:h[0],cRel:h[1],rRel:h[2]}}}function WA(t){var e=bo(t),r=bo(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function d5(t,e,r){if(r.biff<8)return WA(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),o=bo(t),c=bo(t);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function YA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return f5(t);var n=t.read_shift(r&&r.biff==12?4:2),a=bo(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function f5(t){var e=bo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function m5(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function p5(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return g5(t);var a=t.read_shift(n>=12?4:2),o=t.read_shift(2),c=(o&16384)>>14,h=(o&32768)>>15;if(o&=16383,h==1)for(;a>524287;)a-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:a,c:o,cRel:c,rRel:h}}function g5(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function v5(t,e,r){var n=(t[t.l++]&96)>>5,a=$A(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function x5(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var c=$A(t,o,r);return[n,a,c]}function y5(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _5(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[n,a]}function E5(t,e,r){var n=(t[t.l++]&96)>>5,a=d5(t,e-1,r);return[n,a]}function T5(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Dw(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function w5(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],o=0;o<=n;++o)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function S5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function b5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function N5(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function A5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function KA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function C5(t){return t.read_shift(2),KA(t)}function R5(t){return t.read_shift(2),KA(t)}function j5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=YA(t,0,r);return[n,a]}function D5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=p5(t,0,r);return[n,a]}function I5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var o=YA(t,0,r);return[n,a,o]}function k5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[k9[a],JA[a],n]}function O5(t,e,r){var n=t[t.l++],a=t.read_shift(1),o=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:P5(t);return[a,(o[0]===0?JA:I9)[o[1]]]}function P5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function M5(t,e,r){t.l+=r&&r.biff==2?3:4}function F5(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function L5(t){return t.l++,Bd[t.read_shift(1)]}function V5(t){return t.l++,t.read_shift(2)}function B5(t){return t.l++,t.read_shift(1)!==0}function U5(t){return t.l++,Su(t)}function z5(t,e,r){return t.l++,DA(t,e-1,r)}function H5(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=IL(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Bd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Su(t);break;case 2:r[1]=ML(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function q5(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],o=0;o!=n;++o)a.push((r.biff==12?zl:VL)(t));return a}function G5(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var o=0,c=[];o!=n&&(c[o]=[]);++o)for(var h=0;h!=a;++h)c[o][h]=H5(t,r.biff);return c}function $5(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,o=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,o]}function W5(t,e,r){if(r.biff==5)return Y5(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),o=t.read_shift(4);return[n,a,o]}function Y5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function K5(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function X5(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Q5(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function J5(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[n,a]}var Z5=Ns,e9=Ns,t9=Ns;function Ud(t,e,r){return t.l+=2,[m5(t)]}function vx(t){return t.l+=6,[]}var r9=Ud,n9=vx,a9=vx,s9=Ud;function XA(t){return t.l+=2,[RA(t),t.read_shift(2)&1]}var i9=Ud,o9=XA,l9=vx,c9=Ud,u9=Ud,h9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function d9(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),o=t.read_shift(2),c=h9[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:n,c:a,C:o}}function f9(t){return t.l+=2,[t.read_shift(4)]}function m9(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function p9(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function g9(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function v9(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function x9(t){return t.l+=4,[0,0]}var Iw={1:{n:"PtgExp",f:F5},2:{n:"PtgTbl",f:t9},3:{n:"PtgAdd",f:Nr},4:{n:"PtgSub",f:Nr},5:{n:"PtgMul",f:Nr},6:{n:"PtgDiv",f:Nr},7:{n:"PtgPower",f:Nr},8:{n:"PtgConcat",f:Nr},9:{n:"PtgLt",f:Nr},10:{n:"PtgLe",f:Nr},11:{n:"PtgEq",f:Nr},12:{n:"PtgGe",f:Nr},13:{n:"PtgGt",f:Nr},14:{n:"PtgNe",f:Nr},15:{n:"PtgIsect",f:Nr},16:{n:"PtgUnion",f:Nr},17:{n:"PtgRange",f:Nr},18:{n:"PtgUplus",f:Nr},19:{n:"PtgUminus",f:Nr},20:{n:"PtgPercent",f:Nr},21:{n:"PtgParen",f:Nr},22:{n:"PtgMissArg",f:Nr},23:{n:"PtgStr",f:z5},26:{n:"PtgSheet",f:m9},27:{n:"PtgEndSheet",f:p9},28:{n:"PtgErr",f:L5},29:{n:"PtgBool",f:B5},30:{n:"PtgInt",f:V5},31:{n:"PtgNum",f:U5},32:{n:"PtgArray",f:T5},33:{n:"PtgFunc",f:k5},34:{n:"PtgFuncVar",f:O5},35:{n:"PtgName",f:$5},36:{n:"PtgRef",f:j5},37:{n:"PtgArea",f:v5},38:{n:"PtgMemArea",f:K5},39:{n:"PtgMemErr",f:Z5},40:{n:"PtgMemNoMem",f:e9},41:{n:"PtgMemFunc",f:X5},42:{n:"PtgRefErr",f:Q5},43:{n:"PtgAreaErr",f:y5},44:{n:"PtgRefN",f:D5},45:{n:"PtgAreaN",f:E5},46:{n:"PtgMemAreaN",f:g9},47:{n:"PtgMemNoMemN",f:v9},57:{n:"PtgNameX",f:W5},58:{n:"PtgRef3d",f:I5},59:{n:"PtgArea3d",f:x5},60:{n:"PtgRefErr3d",f:J5},61:{n:"PtgAreaErr3d",f:_5},255:{}},y9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_9={1:{n:"PtgElfLel",f:XA},2:{n:"PtgElfRw",f:c9},3:{n:"PtgElfCol",f:r9},6:{n:"PtgElfRwV",f:u9},7:{n:"PtgElfColV",f:s9},10:{n:"PtgElfRadical",f:i9},11:{n:"PtgElfRadicalS",f:l9},13:{n:"PtgElfColS",f:n9},15:{n:"PtgElfColSV",f:a9},16:{n:"PtgElfRadicalLel",f:o9},25:{n:"PtgList",f:d9},29:{n:"PtgSxName",f:f9},255:{}},E9={0:{n:"PtgAttrNoop",f:x9},1:{n:"PtgAttrSemi",f:A5},2:{n:"PtgAttrIf",f:b5},4:{n:"PtgAttrChoose",f:w5},8:{n:"PtgAttrGoto",f:S5},16:{n:"PtgAttrSum",f:M5},32:{n:"PtgAttrBaxcel",f:Dw},33:{n:"PtgAttrBaxcel",f:Dw},64:{n:"PtgAttrSpace",f:C5},65:{n:"PtgAttrSpaceSemi",f:R5},128:{n:"PtgAttrIfError",f:N5},255:{}};function T9(t,e,r,n){if(n.biff<8)return Ns(t,e);for(var a=t.l+e,o=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=G5(t,0,n),o.push(r[c][1]);break;case"PtgMemArea":r[c][2]=q5(t,r[c][1],n),o.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=t.read_shift(4),o.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=a-t.l,e!==0&&o.push(Ns(t,e)),o}function w9(t,e,r){for(var n=t.l+e,a,o,c=[];n!=t.l;)e=n-t.l,o=t[t.l],a=Iw[o]||Iw[y9[o]],(o===24||o===25)&&(a=(o===24?_9:E9)[t[t.l+1]]),!a||!a.f?Ns(t,e):c.push([a.n,a.f(t,e,r)]);return c}function S9(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],o=0;o<n.length;++o){var c=n[o];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var b9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function N9(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function QA(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function kw(t,e,r){var n=QA(t,e,r);return n=="#REF"?n:N9(n,r)}function au(t,e,r,n,a){var o=a&&a.biff||8,c={s:{c:0,r:0}},h=[],m,f,g,x=0,y=0,E,w="";if(!t[0]||!t[0][0])return"";for(var T=-1,b="",D=0,k=t[0].length;D<k;++D){var V=t[0][D];switch(V[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=h.pop(),f=h.pop(),T>=0){switch(t[0][T][1][0]){case 0:b=mr(" ",t[0][T][1][1]);break;case 1:b=mr("\r",t[0][T][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][T][1][0])}f=f+b,T=-1}h.push(f+b9[V[0]]+m);break;case"PtgIsect":m=h.pop(),f=h.pop(),h.push(f+" "+m);break;case"PtgUnion":m=h.pop(),f=h.pop(),h.push(f+","+m);break;case"PtgRange":m=h.pop(),f=h.pop(),h.push(f+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Jh(V[1][1],c,a),h.push(Zh(g,o));break;case"PtgRefN":g=r?Jh(V[1][1],r,a):V[1][1],h.push(Zh(g,o));break;case"PtgRef3d":x=V[1][1],g=Jh(V[1][2],c,a),w=kw(n,x,a),h.push(w+"!"+Zh(g,o));break;case"PtgFunc":case"PtgFuncVar":var W=V[1][0],z=V[1][1];W||(W=0),W&=127;var Q=W==0?[]:h.slice(-W);h.length-=W,z==="User"&&(z=Q.shift()),h.push(z+"("+Q.join(",")+")");break;case"PtgBool":h.push(V[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(V[1]);break;case"PtgNum":h.push(String(V[1]));break;case"PtgStr":h.push('"'+V[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(V[1]);break;case"PtgAreaN":E=vw(V[1][1],r?{s:r}:c,a),h.push(hv(E,a));break;case"PtgArea":E=vw(V[1][1],c,a),h.push(hv(E,a));break;case"PtgArea3d":x=V[1][1],E=V[1][2],w=kw(n,x,a),h.push(w+"!"+hv(E,a));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=V[1][2];var I=(n.names||[])[y-1]||(n[0]||[])[y],A=I?I.Name:"SH33TJSNAME"+String(y);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),h.push(A);break;case"PtgNameX":var C=V[1][1];y=V[1][2];var P;if(a.biff<=5)C<0&&(C=-C),n[C]&&(P=n[C][y]);else{var N="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(N=n.SheetNames[n[C][y].itab-1]+"!"):N=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])N+=n[C][y].Name;else if(n[0]&&n[0][y])N+=n[0][y].Name;else{var O=(QA(n,C,a)||"").split(";;");O[y-1]?N=O[y-1]:N+="SH33TJSERRX"}h.push(N);break}P||(P={Name:"SH33TJSERRY"}),h.push(P.Name);break;case"PtgParen":var L="(",We=")";if(T>=0){switch(b="",t[0][T][1][0]){case 2:L=mr(" ",t[0][T][1][1])+L;break;case 3:L=mr("\r",t[0][T][1][1])+L;break;case 4:We=mr(" ",t[0][T][1][1])+We;break;case 5:We=mr("\r",t[0][T][1][1])+We;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][T][1][0])}T=-1}h.push(L+h.pop()+We);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":g={c:V[1][1],r:V[1][0]};var He={c:r.c,r:r.r};if(n.sharedf[zt(g)]){var de=n.sharedf[zt(g)];h.push(au(de,c,He,n,a))}else{var Ce=!1;for(m=0;m!=n.arrayf.length;++m)if(f=n.arrayf[m],!(g.c<f[0].s.c||g.c>f[0].e.c)&&!(g.r<f[0].s.r||g.r>f[0].e.r)){h.push(au(f[1],c,He,n,a)),Ce=!0;break}Ce||h.push(V[1])}break;case"PtgArray":h.push("{"+S9(V[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+V[1].idx+"[#"+V[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(V));default:throw new Error("Unrecognized Formula Token: "+String(V))}var ze=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&T>=0&&ze.indexOf(t[0][D][0])==-1){V=t[0][T];var Je=!0;switch(V[1][0]){case 4:Je=!1;case 0:b=mr(" ",V[1][1]);break;case 5:Je=!1;case 1:b=mr("\r",V[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+V[1][0])}h.push((Je?b:"")+h.pop()+(Je?"":b)),T=-1}}if(h.length>1&&a.WTF)throw new Error("bad formula stack");return h[0]}function A9(t){if(t==null){var e=ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Al(t);return Al(0)}function C9(t,e,r,n,a){var o=Cl(e,r,a),c=A9(t.v),h=ye(6),m=33;h.write_shift(2,m),h.write_shift(4,0);for(var f=ye(t.bf.length),g=0;g<t.bf.length;++g)f[g]=t.bf[g];var x=on([o,c,h,f]);return x}function Ym(t,e,r){var n=t.read_shift(4),a=w9(t,n,r),o=t.read_shift(4),c=o>0?T9(t,o,a,r):null;return[a,c]}var R9=Ym,Km=Ym,j9=Ym,D9=Ym,I9={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},JA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},k9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function O9(t){var e="of:="+t.replace(px,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function P9(t){return t.replace(/\./,"!")}var ed=typeof Map<"u";function xx(t,e,r){var n=0,a=t.length;if(r){if(ed?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var o=ed?r.get(e):r[e];n<o.length;++n)if(t[o[n]].t===e)return t.Count++,o[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(ed?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function Xm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(si=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=dm(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Qv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function ZA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Do(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,o=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){YN(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=o;++a)if(t[a].numFmtId===n)return a;return t[o]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function M9(t,e,r){if(t&&t["!ref"]){var n=rr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function F9(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+jr(t[r])+'"/>';return e+"</mergeCells>"}function L9(t,e,r,n,a){var o=!1,c={},h=null;if(n.bookType!=="xlsx"&&e.vbaraw){var m=e.SheetNames[r];try{e.Workbook&&(m=e.Workbook.Sheets[r].CodeName||m)}catch{}o=!0,c.codeName=gd(Ut(m))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),h=(h||"")+Oe("outlinePr",null,f)}!o&&!h||(a[a.length]=Oe("sheetPr",h,c))}var V9=["objects","scenarios","selectLockedCells","selectUnlockedCells"],B9=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function U9(t){var e={sheet:1};return V9.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),B9.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=MA(t.password).toString(16).toUpperCase()),Oe("sheetProtection",null,e)}function z9(t){return ZA(t),Oe("pageMargins",null,t)}function H9(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=Oe("col",null,Xm(a,n)));return r[r.length]="</cols>",r.join("")}function q9(t,e,r,n){var a=typeof t.ref=="string"?t.ref:jr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=ca(a);c.s.r==c.e.r&&(c.e.r=ca(e["!ref"]).e.r,a=jr(c));for(var h=0;h<o.length;++h){var m=o[h];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==n){m.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Oe("autoFilter",null,{ref:a})}function G9(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Oe("sheetViews",Oe("sheetView",null,a),{})}function $9(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",o=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=Bd[t.v];break;case"d":n&&n.cellDates?a=Dn(t.v,-1).toISOString():(t=qn(t),t.t="n",a=""+(t.v=Hn(Dn(t.v)))),typeof t.z>"u"&&(t.z=pr[14]);break;default:a=t.v;break}var h=ln("v",Ut(a)),m={r:e},f=Do(n.cellXfs,t,n);switch(f!==0&&(m.s=f),t.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){h=ln("v",""+xx(n.Strings,t.v,n.revStrings)),m.t="s";break}m.t="str";break}if(t.t!=o&&(t.t=o,t.v=c),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;h=Oe("f",Ut(t.f),g)+(t.v!=null?h:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(m.cm=1),Oe("c",h,m)}function W9(t,e,r,n){var a=[],o=[],c=rr(t["!ref"]),h="",m,f="",g=[],x=0,y=0,E=t["!rows"],w=Array.isArray(t),T={r:f},b,D=-1;for(y=c.s.c;y<=c.e.c;++y)g[y]=_n(y);for(x=c.s.r;x<=c.e.r;++x){for(o=[],f=cn(x),y=c.s.c;y<=c.e.c;++y){m=g[y]+f;var k=w?(t[x]||[])[y]:t[m];k!==void 0&&(h=$9(k,m,t,e))!=null&&o.push(h)}(o.length>0||E&&E[x])&&(T={r:f},E&&E[x]&&(b=E[x],b.hidden&&(T.hidden=1),D=-1,b.hpx?D=fm(b.hpx):b.hpt&&(D=b.hpt),D>-1&&(T.ht=D,T.customHeight=1),b.level&&(T.outlineLevel=b.level)),a[a.length]=Oe("row",o.join(""),T))}if(E)for(;x<E.length;++x)E&&E[x]&&(T={r:x+1},b=E[x],b.hidden&&(T.hidden=1),D=-1,b.hpx?D=fm(b.hpx):b.hpt&&(D=b.hpt),D>-1&&(T.ht=D,T.customHeight=1),b.level&&(T.outlineLevel=b.level),a[a.length]=Oe("row","",T));return a.join("")}function eC(t,e,r,n){var a=[Ir,Oe("worksheet",null,{xmlns:Eu[0],"xmlns:r":Wr.r})],o=r.SheetNames[t],c=0,h="",m=r.Sheets[o];m==null&&(m={});var f=m["!ref"]||"A1",g=rr(f);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),f=jr(g)}n||(n={}),m["!comments"]=[];var x=[];L9(m,r,t,e,a),a[a.length]=Oe("dimension",null,{ref:f}),a[a.length]=G9(m,e,t,r),e.sheetFormat&&(a[a.length]=Oe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(a[a.length]=H9(m,m["!cols"])),a[c=a.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(h=W9(m,e),h.length>0&&(a[a.length]=h)),a.length>c+1&&(a[a.length]="</sheetData>",a[c]=a[c].replace("/>",">")),m["!protect"]&&(a[a.length]=U9(m["!protect"])),m["!autofilter"]!=null&&(a[a.length]=q9(m["!autofilter"],m,r,t)),m["!merges"]!=null&&m["!merges"].length>0&&(a[a.length]=F9(m["!merges"]));var y=-1,E,w=-1;return m["!links"].length>0&&(a[a.length]="<hyperlinks>",m["!links"].forEach(function(T){T[1].Target&&(E={ref:T[0]},T[1].Target.charAt(0)!="#"&&(w=Bt(n,-1,Ut(T[1].Target).replace(/#.*$/,""),At.HLINK),E["r:id"]="rId"+w),(y=T[1].Target.indexOf("#"))>-1&&(E.location=Ut(T[1].Target.slice(y+1))),T[1].Tooltip&&(E.tooltip=Ut(T[1].Tooltip)),a[a.length]=Oe("hyperlink",null,E))}),a[a.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(a[a.length]=z9(m["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=ln("ignoredErrors",Oe("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(w=Bt(n,-1,"../drawings/drawing"+(t+1)+".xml",At.DRAW),a[a.length]=Oe("drawing",null,{"r:id":"rId"+w}),m["!drawing"]=x),m["!comments"].length>0&&(w=Bt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",At.VML),a[a.length]=Oe("legacyDrawing",null,{"r:id":"rId"+w}),m["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Y9(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=n,o&7&&(r.level=o&7),o&16&&(r.hidden=!0),o&32&&(r.hpt=a/20),r}function K9(t,e,r){var n=ye(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var o=320;a.hpx?o=fm(a.hpx)*20:a.hpt&&(o=a.hpt*20),n.write_shift(2,o),n.write_shift(1,0);var c=0;a.level&&(c|=a.level),a.hidden&&(c|=16),(a.hpx||a.hpt)&&(c|=32),n.write_shift(1,c),n.write_shift(1,0);var h=0,m=n.l;n.l+=4;for(var f={r:t,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var x=-1,y=-1,E=g<<10;E<g+1<<10;++E){f.c=E;var w=Array.isArray(r)?(r[f.r]||[])[f.c]:r[zt(f)];w&&(x<0&&(x=E),y=E)}x<0||(++h,n.write_shift(4,x),n.write_shift(4,y))}var T=n.l;return n.l=m,n.write_shift(4,h),n.l=T,n.length>n.l?n.slice(0,n.l):n}function X9(t,e,r,n){var a=K9(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&Ne(t,0,a)}var Q9=zl,J9=wu;function Z9(){}function eV(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=uL(t),r}function tV(t,e,r){r==null&&(r=ye(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return cm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),pA(t,r),r.slice(0,r.l)}function rV(t){var e=Da(t);return[e]}function nV(t,e,r){return r==null&&(r=ye(8)),Vl(e,r)}function aV(t){var e=Bl(t);return[e]}function sV(t,e,r){return r==null&&(r=ye(4)),Ul(e,r)}function iV(t){var e=Da(t),r=t.read_shift(1);return[e,r,"b"]}function oV(t,e,r){return r==null&&(r=ye(9)),Vl(e,r),r.write_shift(1,t.v?1:0),r}function lV(t){var e=Bl(t),r=t.read_shift(1);return[e,r,"b"]}function cV(t,e,r){return r==null&&(r=ye(5)),Ul(e,r),r.write_shift(1,t.v?1:0),r}function uV(t){var e=Da(t),r=t.read_shift(1);return[e,r,"e"]}function hV(t,e,r){return r==null&&(r=ye(9)),Vl(e,r),r.write_shift(1,t.v),r}function dV(t){var e=Bl(t),r=t.read_shift(1);return[e,r,"e"]}function fV(t,e,r){return r==null&&(r=ye(8)),Ul(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function mV(t){var e=Da(t),r=t.read_shift(4);return[e,r,"s"]}function pV(t,e,r){return r==null&&(r=ye(12)),Vl(e,r),r.write_shift(4,e.v),r}function gV(t){var e=Bl(t),r=t.read_shift(4);return[e,r,"s"]}function vV(t,e,r){return r==null&&(r=ye(8)),Ul(e,r),r.write_shift(4,e.v),r}function xV(t){var e=Da(t),r=Su(t);return[e,r,"n"]}function yV(t,e,r){return r==null&&(r=ye(16)),Vl(e,r),Al(t.v,r),r}function _V(t){var e=Bl(t),r=Su(t);return[e,r,"n"]}function EV(t,e,r){return r==null&&(r=ye(12)),Ul(e,r),Al(t.v,r),r}function TV(t){var e=Da(t),r=gA(t);return[e,r,"n"]}function wV(t,e,r){return r==null&&(r=ye(12)),Vl(e,r),vA(t.v,r),r}function SV(t){var e=Bl(t),r=gA(t);return[e,r,"n"]}function bV(t,e,r){return r==null&&(r=ye(8)),Ul(e,r),vA(t.v,r),r}function NV(t){var e=Da(t),r=ux(t);return[e,r,"is"]}function AV(t){var e=Da(t),r=En(t);return[e,r,"str"]}function CV(t,e,r){return r==null&&(r=ye(12+4*t.v.length)),Vl(e,r),Kr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function RV(t){var e=Bl(t),r=En(t);return[e,r,"str"]}function jV(t,e,r){return r==null&&(r=ye(8+4*t.v.length)),Ul(e,r),Kr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function DV(t,e,r){var n=t.l+e,a=Da(t);a.r=r["!row"];var o=t.read_shift(1),c=[a,o,"b"];if(r.cellFormula){t.l+=2;var h=Km(t,n-t.l,r);c[3]=au(h,null,a,r.supbooks,r)}else t.l=n;return c}function IV(t,e,r){var n=t.l+e,a=Da(t);a.r=r["!row"];var o=t.read_shift(1),c=[a,o,"e"];if(r.cellFormula){t.l+=2;var h=Km(t,n-t.l,r);c[3]=au(h,null,a,r.supbooks,r)}else t.l=n;return c}function kV(t,e,r){var n=t.l+e,a=Da(t);a.r=r["!row"];var o=Su(t),c=[a,o,"n"];if(r.cellFormula){t.l+=2;var h=Km(t,n-t.l,r);c[3]=au(h,null,a,r.supbooks,r)}else t.l=n;return c}function OV(t,e,r){var n=t.l+e,a=Da(t);a.r=r["!row"];var o=En(t),c=[a,o,"str"];if(r.cellFormula){t.l+=2;var h=Km(t,n-t.l,r);c[3]=au(h,null,a,r.supbooks,r)}else t.l=n;return c}var PV=zl,MV=wu;function FV(t,e){return e==null&&(e=ye(4)),e.write_shift(4,t),e}function LV(t,e){var r=t.l+e,n=zl(t),a=hx(t),o=En(t),c=En(t),h=En(t);t.l=r;var m={rfx:n,relId:a,loc:o,display:h};return c&&(m.Tooltip=c),m}function VV(t,e){var r=ye(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));wu({s:Yr(t[0]),e:Yr(t[0])},r),dx("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Kr(a||"",r),Kr(t[1].Tooltip||"",r),Kr("",r),r.slice(0,r.l)}function BV(){}function UV(t,e,r){var n=t.l+e,a=xA(t),o=t.read_shift(1),c=[a];if(c[2]=o,r.cellFormula){var h=R9(t,n-t.l,r);c[1]=h}else t.l=n;return c}function zV(t,e,r){var n=t.l+e,a=zl(t),o=[a];if(r.cellFormula){var c=D9(t,n-t.l,r);o[1]=c,t.l=n}else t.l=n;return o}function HV(t,e,r){r==null&&(r=ye(18));var n=Xm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var tC=["left","right","top","bottom","header","footer"];function qV(t){var e={};return tC.forEach(function(r){e[r]=Su(t)}),e}function GV(t,e){return e==null&&(e=ye(48)),ZA(t),tC.forEach(function(r){Al(t[r],e)}),e}function $V(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function WV(t,e,r){r==null&&(r=ye(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function YV(t){var e=ye(24);return e.write_shift(4,4),e.write_shift(4,1),wu(t,e),e}function KV(t,e){return e==null&&(e=ye(66)),e.write_shift(2,t.password?MA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function XV(){}function QV(){}function JV(t,e,r,n,a,o,c){if(e.v===void 0)return!1;var h="";switch(e.t){case"b":h=e.v?"1":"0";break;case"d":e=qn(e),e.z=e.z||pr[14],e.v=Hn(Dn(e.v)),e.t="n";break;case"n":case"e":h=""+e.v;break;default:h=e.v;break}var m={r,c:n};switch(m.s=Do(a.cellXfs,e,a),e.l&&o["!links"].push([zt(m),e.l]),e.c&&o["!comments"].push([zt(m),e.c]),e.t){case"s":case"str":return a.bookSST?(h=xx(a.Strings,e.v,a.revStrings),m.t="s",m.v=h,c?Ne(t,18,vV(e,m)):Ne(t,7,pV(e,m))):(m.t="str",c?Ne(t,17,jV(e,m)):Ne(t,6,CV(e,m))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Ne(t,13,bV(e,m)):Ne(t,2,wV(e,m)):c?Ne(t,16,EV(e,m)):Ne(t,5,yV(e,m)),!0;case"b":return m.t="b",c?Ne(t,15,cV(e,m)):Ne(t,4,oV(e,m)),!0;case"e":return m.t="e",c?Ne(t,14,fV(e,m)):Ne(t,3,hV(e,m)),!0}return c?Ne(t,12,sV(e,m)):Ne(t,1,nV(e,m)),!0}function ZV(t,e,r,n){var a=rr(e["!ref"]||"A1"),o,c="",h=[];Ne(t,145);var m=Array.isArray(e),f=a.e.r;e["!rows"]&&(f=Math.max(a.e.r,e["!rows"].length-1));for(var g=a.s.r;g<=f;++g){c=cn(g),X9(t,e,a,g);var x=!1;if(g<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){g===a.s.r&&(h[y]=_n(y)),o=h[y]+c;var E=m?(e[g]||[])[y]:e[o];if(!E){x=!1;continue}x=JV(t,E,g,y,n,e,x)}}Ne(t,146)}function eB(t,e){!e||!e["!merges"]||(Ne(t,177,FV(e["!merges"].length)),e["!merges"].forEach(function(r){Ne(t,176,MV(r))}),Ne(t,178))}function tB(t,e){!e||!e["!cols"]||(Ne(t,390),e["!cols"].forEach(function(r,n){r&&Ne(t,60,HV(n,r))}),Ne(t,391))}function rB(t,e){!e||!e["!ref"]||(Ne(t,648),Ne(t,649,YV(rr(e["!ref"]))),Ne(t,650))}function nB(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Bt(r,-1,n[1].Target.replace(/#.*$/,""),At.HLINK);Ne(t,494,VV(n,a))}}),delete e["!links"]}function aB(t,e,r,n){if(e["!comments"].length>0){var a=Bt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",At.VML);Ne(t,551,dx("rId"+a)),e["!legacy"]=a}}function sB(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],o=typeof a.ref=="string"?a.ref:jr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,h=ca(o);h.s.r==h.e.r&&(h.e.r=ca(e["!ref"]).e.r,o=jr(h));for(var m=0;m<c.length;++m){var f=c[m];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+o;break}}m==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+o}),Ne(t,161,wu(rr(o))),Ne(t,162)}}function iB(t,e,r){Ne(t,133),Ne(t,137,WV(e,r)),Ne(t,138),Ne(t,134)}function oB(t,e){e["!protect"]&&Ne(t,535,KV(e["!protect"]))}function lB(t,e,r,n){var a=zn(),o=r.SheetNames[t],c=r.Sheets[o]||{},h=o;try{r&&r.Workbook&&(h=r.Workbook.Sheets[t].CodeName||h)}catch{}var m=rr(c["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Ne(a,129),(r.vbaraw||c["!outline"])&&Ne(a,147,tV(h,c["!outline"])),Ne(a,148,J9(m)),iB(a,c,r.Workbook),tB(a,c),ZV(a,c,t,e),oB(a,c),sB(a,c,r,t),eB(a,c),nB(a,c,n),c["!margins"]&&Ne(a,476,GV(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&rB(a,c),aB(a,c,t,n),Ne(a,130),a.end()}function cB(t,e){t.l+=10;var r=En(t);return{name:r}}var uB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function hB(t){return!t.Workbook||!t.Workbook.WBProps?"false":zF(t.Workbook.WBProps.date1904)?"true":"false"}var dB="][*?/\\".split("");function rC(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return dB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function fB(t,e,r){t.forEach(function(n,a){rC(n);for(var o=0;o<a;++o)if(n==t[o])throw new Error("Duplicate Sheet Name: "+n);if(r){var c=e&&e[a]&&e[a].CodeName||n;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function mB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];fB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)M9(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function nC(t){var e=[Ir];e[e.length]=Oe("workbook",null,{xmlns:Eu[0],"xmlns:r":Wr.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(uB.forEach(function(h){t.Workbook.WBProps[h[0]]!=null&&t.Workbook.WBProps[h[0]]!=h[1]&&(n[h[0]]=t.Workbook.WBProps[h[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Oe("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],o=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!a[o]||!a[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var c={name:Ut(t.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),a[o])switch(a[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Oe("sheet",null,c)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(h){var m={name:h.Name};h.Comment&&(m.comment=h.Comment),h.Sheet!=null&&(m.localSheetId=""+h.Sheet),h.Hidden&&(m.hidden="1"),h.Ref&&(e[e.length]=Oe("definedName",Ut(h.Ref),m))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Xv(t),r.name=En(t),r}function gB(t,e){return e||(e=ye(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),dx(t.strRelID,e),Kr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function vB(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?En(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function xB(t,e){e||(e=ye(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),pA(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function yB(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),o=hL(t),c=j9(t,0,r),h=hx(t);t.l=n;var m={Name:o,Ptg:c};return a<268435455&&(m.Sheet=a),h&&(m.Comment=h),m}function _B(t,e){Ne(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ne(t,156,gB(a))}Ne(t,144)}function EB(t,e){e||(e=ye(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Kr("SheetJS",e),Kr(tm.version,e),Kr(tm.version,e),Kr("7262",e),e.length>e.l?e.slice(0,e.l):e}function TB(t,e){e||(e=ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function wB(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,o=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&o==-1&&(o=n);o>a||(Ne(t,135),Ne(t,158,TB(a)),Ne(t,136))}}function SB(t,e){var r=zn();return Ne(r,131),Ne(r,128,EB()),Ne(r,153,xB(t.Workbook&&t.Workbook.WBProps||null)),wB(r,t),_B(r,t),Ne(r,132),r.end()}function bB(t,e,r){return(e.slice(-4)===".bin"?SB:nC)(t)}function NB(t,e,r,n,a){return(e.slice(-4)===".bin"?lB:eC)(t,r,n,a)}function AB(t,e,r){return(e.slice(-4)===".bin"?G8:VA)(t,r)}function CB(t,e,r){return(e.slice(-4)===".bin"?x8:PA)(t,r)}function RB(t,e,r){return(e.slice(-4)===".bin"?o5:qA)(t)}function jB(t){return(t.slice(-4)===".bin"?Z8:zA)()}function DB(t,e){var r=[];return t.Props&&r.push(AL(t.Props,e)),t.Custprops&&r.push(CL(t.Props,t.Custprops)),r.join("")}function IB(){return""}function kB(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var o=[];o.push(Oe("NumberFormat",null,{"ss:Format":Ut(pr[n.numFmtId])}));var c={"ss:ID":"s"+(21+a)};r.push(Oe("Style",o.join(""),c))}),Oe("Styles",r.join(""))}function aC(t){return Oe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+gx(t.Ref,{r:0,c:0})})}function OB(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(aC(a)))}return Oe("Names",r.join(""))}function PB(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,o=[],c=0;c<a.length;++c){var h=a[c];h.Sheet==r&&(h.Name.match(/^_xlfn\./)||o.push(aC(h)))}return o.join("")}function MB(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Oe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Oe("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Oe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Oe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<r&&!(n.Workbook.Sheets[o]&&!n.Workbook.Sheets[o].Hidden);++o);o==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(ln("ProtectContents","True")),t["!protect"].objects&&a.push(ln("ProtectObjects","True")),t["!protect"].scenarios&&a.push(ln("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(ln("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(ln("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&a.push("<"+c[1]+"/>")})),a.length==0?"":Oe("WorksheetOptions",a.join(""),{xmlns:sa.x})}function FB(t){return t.map(function(e){var r=UF(e.t||""),n=Oe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Oe("Comment",n,{"ss:Author":e.a})}).join("")}function LB(t,e,r,n,a,o,c){if(!t||t.v==null&&t.f==null)return"";var h={};if(t.f&&(h["ss:Formula"]="="+Ut(gx(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var m=Yr(t.F.slice(e.length+1));h["ss:ArrayRange"]="RC:R"+(m.r==c.r?"":"["+(m.r-c.r)+"]")+"C"+(m.c==c.c?"":"["+(m.c-c.c)+"]")}if(t.l&&t.l.Target&&(h["ss:HRef"]=Ut(t.l.Target),t.l.Tooltip&&(h["x:HRefScreenTip"]=Ut(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],g=0;g!=f.length;++g)f[g].s.c!=c.c||f[g].s.r!=c.r||(f[g].e.c>f[g].s.c&&(h["ss:MergeAcross"]=f[g].e.c-f[g].s.c),f[g].e.r>f[g].s.r&&(h["ss:MergeDown"]=f[g].e.r-f[g].s.r));var x="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",y=String(t.v);break;case"b":x="Boolean",y=t.v?"1":"0";break;case"e":x="Error",y=Bd[t.v];break;case"d":x="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||pr[14]);break;case"s":x="String",y=BF(t.v||"");break}var E=Do(n.cellXfs,t,n);h["ss:StyleID"]="s"+(21+E),h["ss:Index"]=c.c+1;var w=t.v!=null?y:"",T=t.t=="z"?"":'<Data ss:Type="'+x+'">'+w+"</Data>";return(t.c||[]).length>0&&(T+=FB(t.c)),Oe("Cell",T,h)}function VB(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=LA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function BB(t,e,r,n){if(!t["!ref"])return"";var a=rr(t["!ref"]),o=t["!merges"]||[],c=0,h=[];t["!cols"]&&t["!cols"].forEach(function(b,D){mx(b);var k=!!b.width,V=Xm(D,b),W={"ss:Index":D+1};k&&(W["ss:Width"]=hm(V.width)),b.hidden&&(W["ss:Hidden"]="1"),h.push(Oe("Column",null,W))});for(var m=Array.isArray(t),f=a.s.r;f<=a.e.r;++f){for(var g=[VB(f,(t["!rows"]||[])[f])],x=a.s.c;x<=a.e.c;++x){var y=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>x)&&!(o[c].s.r>f)&&!(o[c].e.c<x)&&!(o[c].e.r<f)){(o[c].s.c!=x||o[c].s.r!=f)&&(y=!0);break}if(!y){var E={r:f,c:x},w=zt(E),T=m?(t[f]||[])[x]:t[w];g.push(LB(T,w,t,e,r,n,E))}}g.push("</Row>"),g.length>2&&h.push(g.join(""))}return h.join("")}function UB(t,e,r){var n=[],a=r.SheetNames[t],o=r.Sheets[a],c=o?PB(o,e,t,r):"";return c.length>0&&n.push("<Names>"+c+"</Names>"),c=o?BB(o,e,t,r):"",c.length>0&&n.push("<Table>"+c+"</Table>"),n.push(MB(o,e,t,r)),n.join("")}function zB(t,e){e||(e={}),t.SSF||(t.SSF=qn(pr)),t.SSF&&(Gm(),qm(t.SSF),e.revssf=$m(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Do(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(DB(t,e)),r.push(IB()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Oe("Worksheet",UB(n,e,t),{"ss:Name":Ut(t.SheetNames[n])}));return r[2]=kB(t,e),r[3]=OB(t),Ir+Oe("Workbook",r.join(""),{xmlns:sa.ss,"xmlns:o":sa.o,"xmlns:x":sa.x,"xmlns:ss":sa.ss,"xmlns:dt":sa.dt,"xmlns:html":sa.html})}var mv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HB(t,e){var r=[],n=[],a=[],o=0,c,h=iw(yw,"n"),m=iw(_w,"n");if(t.Props)for(c=hn(t.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(h,c[o])?r:Object.prototype.hasOwnProperty.call(m,c[o])?n:a).push([c[o],t.Props[c[o]]]);if(t.Custprops)for(c=hn(t.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(h,c[o])?r:Object.prototype.hasOwnProperty.call(m,c[o])?n:a).push([c[o],t.Custprops[c[o]]]);var f=[];for(o=0;o<a.length;++o)CA.indexOf(a[o][0])>-1||bA.indexOf(a[o][0])>-1||a[o][1]!=null&&f.push(a[o]);n.length&&Yt.utils.cfb_add(e,"/SummaryInformation",bw(n,mv.SI,m,_w)),(r.length||f.length)&&Yt.utils.cfb_add(e,"/DocumentSummaryInformation",bw(r,mv.DSI,h,yw,f.length?f:null,mv.UDI))}function qB(t,e){var r=e||{},n=Yt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yt.utils.cfb_add(n,a,sC(t,r)),r.biff==8&&(t.Props||t.Custprops)&&HB(t,n),r.biff==8&&t.vbaraw&&l5(n,Yt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var GB={0:{f:Y9},1:{f:rV},2:{f:TV},3:{f:uV},4:{f:iV},5:{f:xV},6:{f:AV},7:{f:mV},8:{f:OV},9:{f:kV},10:{f:DV},11:{f:IV},12:{f:aV},13:{f:SV},14:{f:dV},15:{f:lV},16:{f:_V},17:{f:RV},18:{f:gV},19:{f:ux},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yB},40:{},42:{},43:{f:A8},44:{f:b8},45:{f:j8},46:{f:I8},47:{f:D8},48:{},49:{f:aL},50:{},51:{f:Y8},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:s8},62:{f:NV},63:{f:e5},64:{f:XV},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ns,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$V},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eV},148:{f:Q9,p:16},151:{f:BV},152:{},153:{f:vB},154:{},155:{},156:{f:pB},157:{},158:{},159:{T:1,f:p8},160:{T:-1},161:{T:1,f:zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PV},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$8},336:{T:-1},337:{f:Q8,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Xv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZL},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:UV},427:{f:zV},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qV},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Z9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:LV},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Xv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:s5},633:{T:1},634:{T:-1},635:{T:1,f:n5},636:{T:-1},637:{f:lL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QV},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pe(t,e,r,n){var a=e;if(!isNaN(a)){var o=n||(r||[]).length||0,c=t.next(4);c.write_shift(2,a),c.write_shift(2,o),o>0&&ox(r)&&t.push(r)}}function $B(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return Pe(t,e,r,a);var o=e;if(!isNaN(o)){for(var c=r.parts||[],h=0,m=0,f=0;f+(c[h]||8224)<=8224;)f+=c[h]||8224,h++;var g=t.next(4);for(g.write_shift(2,o),g.write_shift(2,f),t.push(r.slice(m,m+f)),m+=f;m<a;){for(g=t.next(4),g.write_shift(2,60),f=0;f+(c[h]||8224)<=8224;)f+=c[h]||8224,h++;g.write_shift(2,f),t.push(r.slice(m,m+f)),m+=f}}}function zd(t,e,r){return t||(t=ye(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function WB(t,e,r,n){var a=ye(9);return zd(a,t,e),jA(r,n||"b",a),a}function YB(t,e,r){var n=ye(8+2*r.length);return zd(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function KB(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Hn(Dn(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Pe(t,2,c8(r,n,a)):Pe(t,3,l8(r,n,a));return;case"b":case"e":Pe(t,5,WB(r,n,e.v,e.t));return;case"s":case"str":Pe(t,4,YB(r,n,(e.v||"").slice(0,255)));return}Pe(t,1,zd(null,r,n))}function XB(t,e,r,n){var a=Array.isArray(e),o=rr(e["!ref"]||"A1"),c,h="",m=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=jr(o)}for(var f=o.s.r;f<=o.e.r;++f){h=cn(f);for(var g=o.s.c;g<=o.e.c;++g){f===o.s.r&&(m[g]=_n(g)),c=m[g]+h;var x=a?(e[f]||[])[g]:e[c];x&&KB(t,x,f,g)}}}function QB(t,e){for(var r=e||{},n=zn(),a=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==r.sheet&&(a=o);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Pe(n,r.biff==4?1033:r.biff==3?521:9,fx(t,16,r)),XB(n,t.Sheets[t.SheetNames[a]],a,r),Pe(n,10),n.end()}function JB(t,e,r){Pe(t,49,GL({sz:12,name:"Arial"},r))}function ZB(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Pe(t,1054,YL(a,e[a],r))})}function e7(t,e){var r=ye(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Pe(t,2151,r),r=ye(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),kA(rr(e["!ref"]||"A1"),r),r.write_shift(4,4),Pe(t,2152,r)}function t7(t,e){for(var r=0;r<16;++r)Pe(t,224,Aw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pe(t,224,Aw(n,0,e))})}function r7(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Pe(t,440,r8(n)),n[1].Tooltip&&Pe(t,2048,n8(n))}delete e["!links"]}function n7(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&Pe(t,125,i8(Xm(a,n),a))})}}function a7(t,e,r,n,a){var o=16+Do(a.cellXfs,e,a);if(e.v==null&&!e.bf){Pe(t,513,Cl(r,n,o));return}if(e.bf)Pe(t,6,C9(e,r,n,a,o));else switch(e.t){case"d":case"n":var c=e.t=="d"?Hn(Dn(e.v)):e.v;Pe(t,515,JL(r,n,c,o));break;case"b":case"e":Pe(t,517,QL(r,n,e.v,o,a,e.t));break;case"s":case"str":if(a.bookSST){var h=xx(a.Strings,e.v,a.revStrings);Pe(t,253,$L(r,n,h,o))}else Pe(t,516,WL(r,n,(e.v||"").slice(0,255),o,a));break;default:Pe(t,513,Cl(r,n,o))}}function s7(t,e,r){var n=zn(),a=r.SheetNames[t],o=r.Sheets[a]||{},c=(r||{}).Workbook||{},h=(c.Sheets||[])[t]||{},m=Array.isArray(o),f=e.biff==8,g,x="",y=[],E=rr(o["!ref"]||"A1"),w=f?65536:16384;if(E.e.c>255||E.e.r>=w){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,w-1)}Pe(n,2057,fx(r,16,e)),Pe(n,13,ba(1)),Pe(n,12,ba(100)),Pe(n,15,Rn(!0)),Pe(n,17,Rn(!1)),Pe(n,16,Al(.001)),Pe(n,95,Rn(!0)),Pe(n,42,Rn(!1)),Pe(n,43,Rn(!1)),Pe(n,130,ba(1)),Pe(n,128,XL()),Pe(n,131,Rn(!1)),Pe(n,132,Rn(!1)),f&&n7(n,o["!cols"]),Pe(n,512,KL(E,e)),f&&(o["!links"]=[]);for(var T=E.s.r;T<=E.e.r;++T){x=cn(T);for(var b=E.s.c;b<=E.e.c;++b){T===E.s.r&&(y[b]=_n(b)),g=y[b]+x;var D=m?(o[T]||[])[b]:o[g];D&&(a7(n,D,T,b,e),f&&D.l&&o["!links"].push([g,D.l]))}}var k=h.CodeName||h.name||a;return f&&Pe(n,574,qL((c.Views||[])[0])),f&&(o["!merges"]||[]).length&&Pe(n,229,t8(o["!merges"])),f&&r7(n,o),Pe(n,442,IA(k)),f&&e7(n,o),Pe(n,10),n.end()}function i7(t,e,r){var n=zn(),a=(t||{}).Workbook||{},o=a.Sheets||[],c=a.WBProps||{},h=r.biff==8,m=r.biff==5;if(Pe(n,2057,fx(t,5,r)),r.bookType=="xla"&&Pe(n,135),Pe(n,225,h?ba(1200):null),Pe(n,193,DL(2)),m&&Pe(n,191),m&&Pe(n,192),Pe(n,226),Pe(n,92,BL("SheetJS",r)),Pe(n,66,ba(h?1200:1252)),h&&Pe(n,353,ba(0)),h&&Pe(n,448),Pe(n,317,o8(t.SheetNames.length)),h&&t.vbaraw&&Pe(n,211),h&&t.vbaraw){var f=c.CodeName||"ThisWorkbook";Pe(n,442,IA(f))}Pe(n,156,ba(17)),Pe(n,25,Rn(!1)),Pe(n,18,Rn(!1)),Pe(n,19,ba(0)),h&&Pe(n,431,Rn(!1)),h&&Pe(n,444,ba(0)),Pe(n,61,HL()),Pe(n,64,Rn(!1)),Pe(n,141,ba(0)),Pe(n,34,Rn(hB(t)=="true")),Pe(n,14,Rn(!0)),h&&Pe(n,439,Rn(!1)),Pe(n,218,ba(0)),JB(n,t,r),ZB(n,t.SSF,r),t7(n,r),h&&Pe(n,352,Rn(!1));var g=n.end(),x=zn();h&&Pe(x,140,a8()),h&&r.Strings&&$B(x,252,zL(r.Strings)),Pe(x,10);var y=x.end(),E=zn(),w=0,T=0;for(T=0;T<t.SheetNames.length;++T)w+=(h?12:11)+(h?2:1)*t.SheetNames[T].length;var b=g.length+w+y.length;for(T=0;T<t.SheetNames.length;++T){var D=o[T]||{};Pe(E,133,UL({pos:b,hs:D.Hidden||0,dt:0,name:t.SheetNames[T]},r)),b+=e[T].length}var k=E.end();if(w!=k.length)throw new Error("BS8 "+w+" != "+k.length);var V=[];return g.length&&V.push(g),k.length&&V.push(k),y.length&&V.push(y),on(V)}function o7(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=qn(pr)),t&&t.SSF&&(Gm(),qm(t.SSF),r.revssf=$m(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,yx(r),r.cellXfs=[],Do(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=s7(a,r,t);return n.unshift(i7(t,n,r)),on(n)}function sC(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ca(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return o7(t,e);case 4:case 3:case 2:return QB(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function l7(t,e,r,n){for(var a=t["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var h=0,m=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>c)&&!(a[f].e.r<r||a[f].e.c<c)){if(a[f].s.r<r||a[f].s.c<c){h=-1;break}h=a[f].e.r-a[f].s.r+1,m=a[f].e.c-a[f].s.c+1;break}if(!(h<0)){var g=zt({r,c}),x=n.dense?(t[r]||[])[c]:t[g],y=x&&x.v!=null&&(x.h||VF(x.w||(di(x),x.w)||""))||"",E={};h>1&&(E.rowspan=h),m>1&&(E.colspan=m),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(E["data-t"]=x&&x.t||"z",x.v!=null&&(E["data-v"]=x.v),x.z!=null&&(E["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),E.id=(n.id||"sjs")+"-"+g,o.push(Oe("td",y,E))}}var w="<tr>";return w+o.join("")+"</tr>"}var c7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',u7="</body></html>";function h7(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iC(t,e){var r=e||{},n=r.header!=null?r.header:c7,a=r.footer!=null?r.footer:u7,o=[n],c=ca(t["!ref"]);r.dense=Array.isArray(t),o.push(h7(t,c,r));for(var h=c.s.r;h<=c.e.r;++h)o.push(l7(t,c,h,r));return o.push("</table>"+a),o.join("")}function oC(t,e,r){var n=r||{},a=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Yr(n.origin):n.origin;a=c.r,o=c.c}var h=e.getElementsByTagName("tr"),m=Math.min(n.sheetRows||1e7,h.length),f={s:{r:0,c:0},e:{r:a,c:o}};if(t["!ref"]){var g=ca(t["!ref"]);f.s.r=Math.min(f.s.r,g.s.r),f.s.c=Math.min(f.s.c,g.s.c),f.e.r=Math.max(f.e.r,g.e.r),f.e.c=Math.max(f.e.c,g.e.c),a==-1&&(f.e.r=a=g.e.r+1)}var x=[],y=0,E=t["!rows"]||(t["!rows"]=[]),w=0,T=0,b=0,D=0,k=0,V=0;for(t["!cols"]||(t["!cols"]=[]);w<h.length&&T<m;++w){var W=h[w];if(Ow(W)){if(n.display)continue;E[T]={hidden:!0}}var z=W.children;for(b=D=0;b<z.length;++b){var Q=z[b];if(!(n.display&&Ow(Q))){var I=Q.hasAttribute("data-v")?Q.getAttribute("data-v"):Q.hasAttribute("v")?Q.getAttribute("v"):HF(Q.innerHTML),A=Q.getAttribute("data-z")||Q.getAttribute("z");for(y=0;y<x.length;++y){var C=x[y];C.s.c==D+o&&C.s.r<T+a&&T+a<=C.e.r&&(D=C.e.c+1-o,y=-1)}V=+Q.getAttribute("colspan")||1,((k=+Q.getAttribute("rowspan")||1)>1||V>1)&&x.push({s:{r:T+a,c:D+o},e:{r:T+a+(k||1)-1,c:D+o+(V||1)-1}});var P={t:"s",v:I},N=Q.getAttribute("data-t")||Q.getAttribute("t")||"";I!=null&&(I.length==0?P.t=N||"z":n.raw||I.trim().length==0||N=="s"||(I==="TRUE"?P={t:"b",v:!0}:I==="FALSE"?P={t:"b",v:!1}:isNaN(ai(I))?isNaN(pd(I).getDate())||(P={t:"d",v:Dn(I)},n.cellDates||(P={t:"n",v:Hn(P.v)}),P.z=n.dateNF||pr[14]):P={t:"n",v:ai(I)})),P.z===void 0&&A!=null&&(P.z=A);var O="",L=Q.getElementsByTagName("A");if(L&&L.length)for(var We=0;We<L.length&&!(L[We].hasAttribute("href")&&(O=L[We].getAttribute("href"),O.charAt(0)!="#"));++We);O&&O.charAt(0)!="#"&&(P.l={Target:O}),n.dense?(t[T+a]||(t[T+a]=[]),t[T+a][D+o]=P):t[zt({c:D+o,r:T+a})]=P,f.e.c<D+o&&(f.e.c=D+o),D+=V}}++T}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,T-1+a),t["!ref"]=jr(f),T>=m&&(t["!fullref"]=jr((f.e.r=h.length-w+T-1+a,f))),t}function lC(t,e){var r=e||{},n=r.dense?[]:{};return oC(n,t,e)}function d7(t,e){return Ll(lC(t,e),e)}function Ow(t){var e="",r=f7(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function f7(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var m7=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+vd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ir+e}})(),Pw=(function(){var t=function(o){return Ut(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(o,c,h){var m=[];m.push('      <table:table table:name="'+Ut(c.SheetNames[h])+`" table:style-name="ta1">
`);var f=0,g=0,x=ca(o["!ref"]||"A1"),y=o["!merges"]||[],E=0,w=Array.isArray(o);if(o["!cols"])for(g=0;g<=x.e.c;++g)m.push("        <table:table-column"+(o["!cols"][g]?' table:style-name="co'+o["!cols"][g].ods+'"':"")+`></table:table-column>
`);var T="",b=o["!rows"]||[];for(f=0;f<x.s.r;++f)T=b[f]?' table:style-name="ro'+b[f].ods+'"':"",m.push("        <table:table-row"+T+`></table:table-row>
`);for(;f<=x.e.r;++f){for(T=b[f]?' table:style-name="ro'+b[f].ods+'"':"",m.push("        <table:table-row"+T+`>
`),g=0;g<x.s.c;++g)m.push(e);for(;g<=x.e.c;++g){var D=!1,k={},V="";for(E=0;E!=y.length;++E)if(!(y[E].s.c>g)&&!(y[E].s.r>f)&&!(y[E].e.c<g)&&!(y[E].e.r<f)){(y[E].s.c!=g||y[E].s.r!=f)&&(D=!0),k["table:number-columns-spanned"]=y[E].e.c-y[E].s.c+1,k["table:number-rows-spanned"]=y[E].e.r-y[E].s.r+1;break}if(D){m.push(r);continue}var W=zt({r:f,c:g}),z=w?(o[f]||[])[g]:o[W];if(z&&z.f&&(k["table:formula"]=Ut(O9(z.f)),z.F&&z.F.slice(0,W.length)==W)){var Q=ca(z.F);k["table:number-matrix-columns-spanned"]=Q.e.c-Q.s.c+1,k["table:number-matrix-rows-spanned"]=Q.e.r-Q.s.r+1}if(!z){m.push(e);continue}switch(z.t){case"b":V=z.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=z.v?"true":"false";break;case"n":V=z.w||String(z.v||0),k["office:value-type"]="float",k["office:value"]=z.v||0;break;case"s":case"str":V=z.v==null?"":z.v,k["office:value-type"]="string";break;case"d":V=z.w||Dn(z.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Dn(z.v).toISOString(),k["table:style-name"]="ce1";break;default:m.push(e);continue}var I=t(V);if(z.l&&z.l.Target){var A=z.l.Target;A=A.charAt(0)=="#"?"#"+P9(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),I=Oe("text:a",I,{"xlink:href":A.replace(/&/g,"&amp;")})}m.push("          "+Oe("table:table-cell",Oe("text:p",I,{}),k)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},a=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var h=0;c.SheetNames.map(function(f){return c.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var g=0;g<f["!cols"].length;++g)if(f["!cols"][g]){var x=f["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;mx(x),x.ods=h;var y=f["!cols"][g].wpx+"px";o.push('  <style:style style:name="co'+h+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++h}}});var m=0;c.SheetNames.map(function(f){return c.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var g=0;g<f["!rows"].length;++g)if(f["!rows"][g]){f["!rows"][g].ods=m;var x=f["!rows"][g].hpx+"px";o.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++m}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,h){var m=[Ir],f=vd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=vd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});h.bookType=="fods"?(m.push("<office:document"+f+g+`>
`),m.push(wA().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+f+`>
`),a(m,c),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)m.push(n(c.Sheets[c.SheetNames[x]],c,x));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),h.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}})();function cC(t,e){if(e.bookType=="fods")return Pw(t,e);var r=nx(),n="",a=[],o=[];return n="mimetype",dt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",dt(r,n,Pw(t,e)),a.push([n,"text/xml"]),o.push([n,"ContentFile"]),n="styles.xml",dt(r,n,m7(t,e)),a.push([n,"text/xml"]),o.push([n,"StylesFile"]),n="meta.xml",dt(r,n,Ir+wA()),a.push([n,"text/xml"]),o.push([n,"MetadataFile"]),n="manifest.rdf",dt(r,n,NL(o)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",dt(r,n,SL(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function mm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function p7(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):$a(gd(t))}function g7(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function No(t){var e=t.reduce(function(a,o){return a+o.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function v7(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var o=0;a>=1;++o,a/=256)t[e+o]=a&255;t[e+15]|=r>=0?0:128}function xd(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Vt(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Kc(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Mr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=xd(t,r),o=a&7;a=Math.floor(a/8);var c=0,h;if(a==0)break;switch(o){case 0:{for(var m=r[0];t[r[0]++]>=128;);h=t.slice(m,r[0])}break;case 5:c=4,h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=xd(t,r),h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(n))}var f={data:h,type:o};e[a]==null?e[a]=[f]:e[a].push(f)}return e}function rn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Vt(n*8+a.type)),a.type==2&&e.push(Vt(a.data.length)),e.push(a.data))})}),No(e)}function qa(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=xd(t,n),o=Mr(t.slice(n[0],n[0]+a));n[0]+=a;var c={id:Kc(o[1][0].data),messages:[]};o[2].forEach(function(h){var m=Mr(h.data),f=Kc(m[3][0].data);c.messages.push({meta:m,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=o[3])!=null&&e[0]&&(c.merge=Kc(o[3][0].data)>>>0>0),r.push(c)}return r}function jc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Vt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Vt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(c){a.push(c.data),c.meta[3]=[{type:0,data:Vt(c.data.length)}],n[2].push({data:rn(c.meta),type:2})});var o=rn(n);e.push(Vt(o.length)),e.push(o),a.forEach(function(c){return e.push(c)})}),No(e)}function x7(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=xd(e,r),a=[];r[0]<e.length;){var o=e[r[0]]&3;if(o==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var h=c-59;c=e[r[0]],h>1&&(c|=e[r[0]+1]<<8),h>2&&(c|=e[r[0]+2]<<16),h>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=h}a.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var m=0,f=0;if(o==1?(f=(e[r[0]]>>2&7)+4,m=(e[r[0]++]&224)<<3,m|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,o==2?(m=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(m=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[No(a)],m==0)throw new Error("Invalid offset 0");if(m>a[0].length)throw new Error("Invalid offset beyond length");if(f>=m)for(a.push(a[0].slice(-m)),f-=m;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-m,-m+f))}}var g=No(a);if(g.length!=n)throw new Error("Unexpected length: ".concat(g.length," != ").concat(n));return g}function Ga(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(x7(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return No(e)}function Dc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var o=Vt(n),c=o.length;e.push(o),n<=60?(c++,e.push(new Uint8Array([n-1<<2]))):n<=256?(c+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(c+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(c+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(c+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),c+=n,a[0]=0,a[1]=c&255,a[2]=c>>8&255,a[3]=c>>16&255,r+=n}return No(e)}function pv(t,e){var r=new Uint8Array(32),n=mm(r),a=12,o=0;switch(r[0]=5,t.t){case"n":r[1]=2,v7(r,a,t.v),o|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),o|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),o|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,o,!0),r.slice(0,a)}function gv(t,e){var r=new Uint8Array(32),n=mm(r),a=12,o=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),o|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),o|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),o|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,o,!0),r.slice(0,a)}function Xi(t){var e=Mr(t);return xd(e[1][0].data)}function y7(t,e,r){var n,a,o,c;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var h=((c=(o=t[8])==null?void 0:o[0])==null?void 0:c.data)&&Kc(t[8][0].data)>0||!1;if(h)throw"Math only works with normal offsets";for(var m=0,f=mm(t[7][0].data),g=0,x=[],y=mm(t[4][0].data),E=0,w=[],T=0;T<e.length;++T){if(e[T]==null){f.setUint16(T*2,65535,!0),y.setUint16(T*2,65535);continue}f.setUint16(T*2,g,!0),y.setUint16(T*2,E,!0);var b,D;switch(typeof e[T]){case"string":b=pv({t:"s",v:e[T]},r),D=gv({t:"s",v:e[T]},r);break;case"number":b=pv({t:"n",v:e[T]},r),D=gv({t:"n",v:e[T]},r);break;case"boolean":b=pv({t:"b",v:e[T]},r),D=gv({t:"b",v:e[T]},r);break;default:throw new Error("Unsupported value "+e[T])}x.push(b),g+=b.length,w.push(D),E+=D.length,++m}for(t[2][0].data=Vt(m);T<t[7][0].data.length/2;++T)f.setUint16(T*2,65535,!0),y.setUint16(T*2,65535,!0);return t[6][0].data=No(x),t[3][0].data=No(w),m}function _7(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ca(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(jr(n)));var o=pm(r,{range:n,header:1}),c=["~Sh33tJ5~"];o.forEach(function(te){return te.forEach(function(Z){typeof Z=="string"&&c.push(Z)})});var h={},m=[],f=Yt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(te,Z){return[te,f.FullPaths[Z]]}).forEach(function(te){var Z=te[0],re=te[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var he=Z.content,Fe=Ga(he),ae=qa(Fe);ae.forEach(function(De){m.push(De.id),h[De.id]={deps:[],location:re,type:Kc(De.messages[0].meta[1][0].data)}})}}),m.sort(function(te,Z){return te-Z});var g=m.filter(function(te){return te>1}).map(function(te){return[te,Vt(te)]});f.FileIndex.map(function(te,Z){return[te,f.FullPaths[Z]]}).forEach(function(te){var Z=te[0];if(te[1],!!Z.name.match(/\.iwa/)){var re=qa(Ga(Z.content));re.forEach(function(he){he.messages.forEach(function(Fe){g.forEach(function(ae){he.messages.some(function(De){return Kc(De.meta[1][0].data)!=11006&&g7(De.data,ae[1])})&&h[ae[0]].deps.push(he.id)})})})}});for(var x=Yt.find(f,h[1].location),y=qa(Ga(x.content)),E,w=0;w<y.length;++w){var T=y[w];T.id==1&&(E=T)}var b=Xi(Mr(E.messages[0].data)[1][0].data);for(x=Yt.find(f,h[b].location),y=qa(Ga(x.content)),w=0;w<y.length;++w)T=y[w],T.id==b&&(E=T);for(b=Xi(Mr(E.messages[0].data)[2][0].data),x=Yt.find(f,h[b].location),y=qa(Ga(x.content)),w=0;w<y.length;++w)T=y[w],T.id==b&&(E=T);for(b=Xi(Mr(E.messages[0].data)[2][0].data),x=Yt.find(f,h[b].location),y=qa(Ga(x.content)),w=0;w<y.length;++w)T=y[w],T.id==b&&(E=T);var D=Mr(E.messages[0].data);{D[6][0].data=Vt(n.e.r+1),D[7][0].data=Vt(n.e.c+1);var k=Xi(D[46][0].data),V=Yt.find(f,h[k].location),W=qa(Ga(V.content));{for(var z=0;z<W.length&&W[z].id!=k;++z);if(W[z].id!=k)throw"Bad ColumnRowUIDMapArchive";var Q=Mr(W[z].messages[0].data);Q[1]=[],Q[2]=[],Q[3]=[];for(var I=0;I<=n.e.c;++I){var A=[];A[1]=A[2]=[{type:0,data:Vt(I+420690)}],Q[1].push({type:2,data:rn(A)}),Q[2].push({type:0,data:Vt(I)}),Q[3].push({type:0,data:Vt(I)})}Q[4]=[],Q[5]=[],Q[6]=[];for(var C=0;C<=n.e.r;++C)A=[],A[1]=A[2]=[{type:0,data:Vt(C+726270)}],Q[4].push({type:2,data:rn(A)}),Q[5].push({type:0,data:Vt(C)}),Q[6].push({type:0,data:Vt(C)});W[z].messages[0].data=rn(Q)}V.content=Dc(jc(W)),V.size=V.content.length,delete D[46];var P=Mr(D[4][0].data);{P[7][0].data=Vt(n.e.r+1);var N=Mr(P[1][0].data),O=Xi(N[2][0].data);V=Yt.find(f,h[O].location),W=qa(Ga(V.content));{if(W[0].id!=O)throw"Bad HeaderStorageBucket";var L=Mr(W[0].messages[0].data);for(C=0;C<o.length;++C){var We=Mr(L[2][0].data);We[1][0].data=Vt(C),We[4][0].data=Vt(o[C].length),L[2][C]={type:L[2][0].type,data:rn(We)}}W[0].messages[0].data=rn(L)}V.content=Dc(jc(W)),V.size=V.content.length;var He=Xi(P[2][0].data);V=Yt.find(f,h[He].location),W=qa(Ga(V.content));{if(W[0].id!=He)throw"Bad HeaderStorageBucket";for(L=Mr(W[0].messages[0].data),I=0;I<=n.e.c;++I)We=Mr(L[2][0].data),We[1][0].data=Vt(I),We[4][0].data=Vt(n.e.r+1),L[2][I]={type:L[2][0].type,data:rn(We)};W[0].messages[0].data=rn(L)}V.content=Dc(jc(W)),V.size=V.content.length;var de=Xi(P[4][0].data);(function(){for(var te=Yt.find(f,h[de].location),Z=qa(Ga(te.content)),re,he=0;he<Z.length;++he){var Fe=Z[he];Fe.id==de&&(re=Fe)}var ae=Mr(re.messages[0].data);{ae[3]=[];var De=[];c.forEach(function(ht,ir){De[1]=[{type:0,data:Vt(ir)}],De[2]=[{type:0,data:Vt(1)}],De[3]=[{type:2,data:p7(ht)}],ae[3].push({type:2,data:rn(De)})})}re.messages[0].data=rn(ae);var ke=jc(Z),ft=Dc(ke);te.content=ft,te.size=te.content.length})();var Ce=Mr(P[3][0].data);{var ze=Ce[1][0];delete Ce[2];var Je=Mr(ze.data);{var ee=Xi(Je[2][0].data);(function(){for(var te=Yt.find(f,h[ee].location),Z=qa(Ga(te.content)),re,he=0;he<Z.length;++he){var Fe=Z[he];Fe.id==ee&&(re=Fe)}var ae=Mr(re.messages[0].data);{delete ae[6],delete Ce[7];var De=new Uint8Array(ae[5][0].data);ae[5]=[];for(var ke=0,ft=0;ft<=n.e.r;++ft){var ht=Mr(De);ke+=y7(ht,o[ft],c),ht[1][0].data=Vt(ft),ae[5].push({data:rn(ht),type:2})}ae[1]=[{type:0,data:Vt(n.e.c+1)}],ae[2]=[{type:0,data:Vt(n.e.r+1)}],ae[3]=[{type:0,data:Vt(ke)}],ae[4]=[{type:0,data:Vt(n.e.r+1)}]}re.messages[0].data=rn(ae);var ir=jc(Z),gt=Dc(ir);te.content=gt,te.size=te.content.length})()}ze.data=rn(Je)}P[3][0].data=rn(Ce)}D[4][0].data=rn(P)}E.messages[0].data=rn(D);var Ee=jc(y),K=Dc(Ee);return x.content=K,x.size=x.content.length,f}function E7(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function yx(t){E7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function T7(t,e){return e.bookType=="ods"?cC(t,e):e.bookType=="numbers"?_7(t,e):e.bookType=="xlsb"?w7(t,e):S7(t,e)}function w7(t,e){Vc=1024,t&&!t.SSF&&(t.SSF=qn(pr)),t&&t.SSF&&(Gm(),qm(t.SSF),e.revssf=$m(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ed?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=GA.indexOf(e.bookType)>-1,a=_A();yx(e=e||{});var o=nx(),c="",h=0;if(e.cellXfs=[],Do(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",dt(o,c,SA(t.Props,e)),a.coreprops.push(c),Bt(e.rels,2,c,At.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var m=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&m.push(t.SheetNames[f]);t.Props.SheetNames=m}for(t.Props.Worksheets=t.Props.SheetNames.length,dt(o,c,NA(t.Props)),a.extprops.push(c),Bt(e.rels,3,c,At.EXT_PROPS),t.Custprops!==t.Props&&hn(t.Custprops||{}).length>0&&(c="docProps/custom.xml",dt(o,c,AA(t.Custprops)),a.custprops.push(c),Bt(e.rels,4,c,At.CUST_PROPS)),h=1;h<=t.SheetNames.length;++h){var g={"!id":{}},x=t.Sheets[t.SheetNames[h-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+h+"."+r,dt(o,c,NB(h-1,c,e,t,g)),a.sheets.push(c),Bt(e.wbrels,-1,"worksheets/sheet"+h+"."+r,At.WS[0])}if(x){var E=x["!comments"],w=!1,T="";E&&E.length>0&&(T="xl/comments"+h+"."+r,dt(o,T,RB(E,T)),a.comments.push(T),Bt(g,-1,"../comments"+h+"."+r,At.CMNT),w=!0),x["!legacy"]&&w&&dt(o,"xl/drawings/vmlDrawing"+h+".vml",HA(h,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&dt(o,TA(c),Wc(g))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,dt(o,c,CB(e.Strings,c,e)),a.strs.push(c),Bt(e.wbrels,-1,"sharedStrings."+r,At.SST)),c="xl/workbook."+r,dt(o,c,bB(t,c)),a.workbooks.push(c),Bt(e.rels,1,c,At.WB),c="xl/theme/theme1.xml",dt(o,c,UA(t.Themes,e)),a.themes.push(c),Bt(e.wbrels,-1,"theme/theme1.xml",At.THEME),c="xl/styles."+r,dt(o,c,AB(t,c,e)),a.styles.push(c),Bt(e.wbrels,-1,"styles."+r,At.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",dt(o,c,t.vbaraw),a.vba.push(c),Bt(e.wbrels,-1,"vbaProject.bin",At.VBA)),c="xl/metadata."+r,dt(o,c,jB(c)),a.metadata.push(c),Bt(e.wbrels,-1,"metadata."+r,At.XLMETA),dt(o,"[Content_Types].xml",EA(a,e)),dt(o,"_rels/.rels",Wc(e.rels)),dt(o,"xl/_rels/workbook."+r+".rels",Wc(e.wbrels)),delete e.revssf,delete e.ssf,o}function S7(t,e){Vc=1024,t&&!t.SSF&&(t.SSF=qn(pr)),t&&t.SSF&&(Gm(),qm(t.SSF),e.revssf=$m(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ed?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=GA.indexOf(e.bookType)>-1,a=_A();yx(e=e||{});var o=nx(),c="",h=0;if(e.cellXfs=[],Do(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",dt(o,c,SA(t.Props,e)),a.coreprops.push(c),Bt(e.rels,2,c,At.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var m=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&m.push(t.SheetNames[f]);t.Props.SheetNames=m}t.Props.Worksheets=t.Props.SheetNames.length,dt(o,c,NA(t.Props)),a.extprops.push(c),Bt(e.rels,3,c,At.EXT_PROPS),t.Custprops!==t.Props&&hn(t.Custprops||{}).length>0&&(c="docProps/custom.xml",dt(o,c,AA(t.Custprops)),a.custprops.push(c),Bt(e.rels,4,c,At.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,h=1;h<=t.SheetNames.length;++h){var x={"!id":{}},y=t.Sheets[t.SheetNames[h-1]],E=(y||{})["!type"]||"sheet";switch(E){case"chart":default:c="xl/worksheets/sheet"+h+"."+r,dt(o,c,eC(h-1,e,t,x)),a.sheets.push(c),Bt(e.wbrels,-1,"worksheets/sheet"+h+"."+r,At.WS[0])}if(y){var w=y["!comments"],T=!1,b="";if(w&&w.length>0){var D=!1;w.forEach(function(k){k[1].forEach(function(V){V.T==!0&&(D=!0)})}),D&&(b="xl/threadedComments/threadedComment"+h+"."+r,dt(o,b,t5(w,g,e)),a.threadedcomments.push(b),Bt(x,-1,"../threadedComments/threadedComment"+h+"."+r,At.TCMNT)),b="xl/comments"+h+"."+r,dt(o,b,qA(w)),a.comments.push(b),Bt(x,-1,"../comments"+h+"."+r,At.CMNT),T=!0}y["!legacy"]&&T&&dt(o,"xl/drawings/vmlDrawing"+h+".vml",HA(h,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&dt(o,TA(c),Wc(x))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,dt(o,c,PA(e.Strings,e)),a.strs.push(c),Bt(e.wbrels,-1,"sharedStrings."+r,At.SST)),c="xl/workbook."+r,dt(o,c,nC(t)),a.workbooks.push(c),Bt(e.rels,1,c,At.WB),c="xl/theme/theme1.xml",dt(o,c,UA(t.Themes,e)),a.themes.push(c),Bt(e.wbrels,-1,"theme/theme1.xml",At.THEME),c="xl/styles."+r,dt(o,c,VA(t,e)),a.styles.push(c),Bt(e.wbrels,-1,"styles."+r,At.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",dt(o,c,t.vbaraw),a.vba.push(c),Bt(e.wbrels,-1,"vbaProject.bin",At.VBA)),c="xl/metadata."+r,dt(o,c,zA()),a.metadata.push(c),Bt(e.wbrels,-1,"metadata."+r,At.XLMETA),g.length>1&&(c="xl/persons/person.xml",dt(o,c,r5(g)),a.people.push(c),Bt(e.wbrels,-1,"persons/person.xml",At.PEOPLE)),dt(o,"[Content_Types].xml",EA(a,e)),dt(o,"_rels/.rels",Wc(e.rels)),dt(o,"xl/_rels/workbook."+r+".rels",Wc(e.wbrels)),delete e.revssf,delete e.ssf,o}function b7(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=hi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function uC(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ld(e.file,Yt.write(t,{type:Dt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Yt.write(t,e)}function N7(t,e){var r=qn(e||{}),n=T7(t,r);return A7(n,r)}function A7(t,e){var r={},n=Dt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Yt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Hm(a))}return e.password&&typeof encrypt_agile<"u"?uC(encrypt_agile(a,e.password),e):e.type==="file"?Ld(e.file,a):e.type=="string"?Xh(a):a}function C7(t,e){var r=e||{},n=qB(t,r);return uC(n,r)}function gs(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return md(gd(n));case"binary":return gd(n);case"string":return t;case"file":return Ld(e.file,n,"utf8");case"buffer":return Dt?gi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):gs(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function R7(t,e){switch(e.type){case"base64":return md(t);case"binary":return t;case"string":return t;case"file":return Ld(e.file,t,"binary");case"buffer":return Dt?gi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function y0(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?md(r):e.type=="string"?Xh(r):r;case"file":return Ld(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function hC(t,e){nF(),mB(t);var r=qn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=hC(t,r);return r.type="array",Hm(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return gs(zB(t,r),r);case"slk":case"sylk":return gs(h8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return gs(iC(t.Sheets[t.SheetNames[a]],r),r);case"txt":return R7(dC(t.Sheets[t.SheetNames[a]],r),r);case"csv":return gs(_x(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return gs(d8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return y0(u8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return gs(f8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return gs(_8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return gs(OA.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return gs(cC(t,r),r);case"wk1":return y0(Cw.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return y0(Cw.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),y0(sC(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),C7(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return N7(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function j7(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Qi(t,e,r){var n={};return n.type="file",n.file=e,j7(n),hC(t,n)}function D7(t,e,r,n,a,o,c,h){var m=cn(r),f=h.defval,g=h.raw||!Object.prototype.hasOwnProperty.call(h,"raw"),x=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!c||t[r])for(var E=e.s.c;E<=e.e.c;++E){var w=c?t[r][E]:t[n[E]+m];if(w===void 0||w.t===void 0){if(f===void 0)continue;o[E]!=null&&(y[o[E]]=f);continue}var T=w.v;switch(w.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(o[E]!=null){if(T==null)if(w.t=="e"&&T===null)y[o[E]]=null;else if(f!==void 0)y[o[E]]=f;else if(g&&T===null)y[o[E]]=null;else continue;else y[o[E]]=g&&(w.t!=="n"||w.t==="n"&&h.rawNumbers!==!1)?T:di(w,T,h);T!=null&&(x=!1)}}return{row:y,isempty:x}}function pm(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,o=[],c=0,h="",m={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},g=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof g){case"string":m=rr(g);break;case"number":m=rr(t["!ref"]),m.s.r=g;break;default:m=g}n>0&&(a=0);var x=cn(m.s.r),y=[],E=[],w=0,T=0,b=Array.isArray(t),D=m.s.r,k=0,V={};b&&!t[D]&&(t[D]=[]);var W=f.skipHidden&&t["!cols"]||[],z=f.skipHidden&&t["!rows"]||[];for(k=m.s.c;k<=m.e.c;++k)if(!(W[k]||{}).hidden)switch(y[k]=_n(k),r=b?t[D][k]:t[y[k]+x],n){case 1:o[k]=k-m.s.c;break;case 2:o[k]=y[k];break;case 3:o[k]=f.header[k-m.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),h=c=di(r,null,f),T=V[c]||0,!T)V[c]=1;else{do h=c+"_"+T++;while(V[h]);V[c]=T,V[h]=1}o[k]=h}for(D=m.s.r+a;D<=m.e.r;++D)if(!(z[D]||{}).hidden){var Q=D7(t,m,D,y,n,o,b,f);(Q.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(E[w++]=Q.row)}return E.length=w,E}var Mw=/"/g;function I7(t,e,r,n,a,o,c,h){for(var m=!0,f=[],g="",x=cn(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var E=h.dense?(t[r]||[])[y]:t[n[y]+x];if(E==null)g="";else if(E.v!=null){m=!1,g=""+(h.rawNumbers&&E.t=="n"?E.v:di(E,null,h));for(var w=0,T=0;w!==g.length;++w)if((T=g.charCodeAt(w))===a||T===o||T===34||h.forceQuotes){g='"'+g.replace(Mw,'""')+'"';break}g=="ID"&&(g='"ID"')}else E.f!=null&&!E.F?(m=!1,g="="+E.f,g.indexOf(",")>=0&&(g='"'+g.replace(Mw,'""')+'"')):g="";f.push(g)}return h.blankrows===!1&&m?null:f.join(c)}function _x(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=rr(t["!ref"]),o=n.FS!==void 0?n.FS:",",c=o.charCodeAt(0),h=n.RS!==void 0?n.RS:`
`,m=h.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),g="",x=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],E=n.skipHidden&&t["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(y[w]||{}).hidden||(x[w]=_n(w));for(var T=0,b=a.s.r;b<=a.e.r;++b)(E[b]||{}).hidden||(g=I7(t,a,b,x,c,m,o,n),g!=null&&(n.strip&&(g=g.replace(f,"")),(g||n.blankrows!==!1)&&r.push((T++?h:"")+g)));return delete n.dense,r.join("")}function dC(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=_x(t,e);return r}function k7(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=rr(t["!ref"]),o="",c=[],h,m=[],f=Array.isArray(t);for(h=a.s.c;h<=a.e.c;++h)c[h]=_n(h);for(var g=a.s.r;g<=a.e.r;++g)for(o=cn(g),h=a.s.c;h<=a.e.c;++h)if(e=c[h]+o,r=f?(t[g]||[])[h]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}m[m.length]=e+"="+n}return m}function fC(t,e,r){var n=r||{},a=+!n.skipHeader,o=t||{},c=0,h=0;if(o&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var m=typeof n.origin=="string"?Yr(n.origin):n.origin;c=m.r,h=m.c}var f,g={s:{c:0,r:0},e:{c:h,r:c+e.length-1+a}};if(o["!ref"]){var x=rr(o["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),c==-1&&(c=x.e.r+1,g.e.r=c+e.length-1+a)}else c==-1&&(c=0,g.e.r=e.length-1+a);var y=n.header||[],E=0;e.forEach(function(T,b){hn(T).forEach(function(D){(E=y.indexOf(D))==-1&&(y[E=y.length]=D);var k=T[D],V="z",W="",z=zt({c:h+E,r:c+b+a});f=yd(o,z),k&&typeof k=="object"&&!(k instanceof Date)?o[z]=k:(typeof k=="number"?V="n":typeof k=="boolean"?V="b":typeof k=="string"?V="s":k instanceof Date?(V="d",n.cellDates||(V="n",k=Hn(k)),W=n.dateNF||pr[14]):k===null&&n.nullError&&(V="e",k=0),f?(f.t=V,f.v=k,delete f.w,delete f.R,W&&(f.z=W)):o[z]=f={t:V,v:k},W&&(f.z=W))})}),g.e.c=Math.max(g.e.c,h+y.length-1);var w=cn(c);if(a)for(E=0;E<y.length;++E)o[_n(E+h)+w]={t:"s",v:y[E]};return o["!ref"]=jr(g),o}function O7(t,e){return fC(null,t,e)}function yd(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Yr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?yd(t,zt(e)):yd(t,zt({r:e,c:r||0}))}function P7(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function M7(){return{SheetNames:[],Sheets:{}}}function F7(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);a=o&&+o[2]||0;var c=o&&o[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=c+a)!=-1;++a);}if(rC(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function L7(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=P7(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function V7(t,e){return t.z=e,t}function mC(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function B7(t,e,r){return mC(t,"#"+e,r)}function U7(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function z7(t,e,r,n){for(var a=typeof e!="string"?e:rr(e),o=typeof e=="string"?e:jr(e),c=a.s.r;c<=a.e.r;++c)for(var h=a.s.c;h<=a.e.c;++h){var m=yd(t,c,h);m.t="n",m.F=o,delete m.v,c==a.s.r&&h==a.s.c&&(m.f=r,n&&(m.D=!0))}return t}var Nt={encode_col:_n,encode_row:cn,encode_cell:zt,encode_range:jr,decode_col:cx,decode_row:lx,split_cell:nL,decode_cell:Yr,decode_range:ca,format_cell:di,sheet_add_aoa:mA,sheet_add_json:fC,sheet_add_dom:oC,aoa_to_sheet:Tu,json_to_sheet:O7,table_to_sheet:lC,table_to_book:d7,sheet_to_csv:_x,sheet_to_txt:dC,sheet_to_json:pm,sheet_to_html:iC,sheet_to_formulae:k7,sheet_to_row_object_array:pm,sheet_get_cell:yd,book_new:M7,book_append_sheet:F7,book_set_sheet_visibility:L7,cell_set_number_format:V7,cell_set_hyperlink:mC,cell_set_internal_link:B7,cell_add_comment:U7,sheet_set_array_formula:z7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const $e=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),wa=t=>`${t.toFixed(2)}%`,Ji={exportRevenueByHouse(t,e="receitas-por-casa.xlsx"){const r=Nt.json_to_sheet(t.map(a=>({Casa:a.houseName,Endereo:a.houseAddress,Vendas:a.numberOfSales,Noites:a.numberOfNights,Dirias:$e(a.dailyRatesRevenue),Concierge:$e(a.conciergeRevenue),"Comisses Fornecedores":$e(a.suppliersCommission),"Receita Bruta":$e(a.grossRevenue),Despesas:$e(a.expenses),"Receita Lquida":$e(a.netRevenue)}))),n=Nt.book_new();Nt.book_append_sheet(n,r,"Receitas por Casa"),Qi(n,e)},exportCashFlow(t,e="fluxo-de-caixa.xlsx"){const r=Nt.json_to_sheet(t.map(a=>({Perodo:a.period,Entradas:$e(a.cashIn),Sadas:$e(a.cashOut),"Saldo do Perodo":$e(a.balance),"Saldo Acumulado":$e(a.accumulatedBalance)}))),n=Nt.book_new();Nt.book_append_sheet(n,r,"Fluxo de Caixa"),Qi(n,e)},exportContractsReport(t,e="relatorio-contratos.xlsx"){const r=[{Status:"Ativos",Quantidade:t.active.count,"Receita Total":$e(t.active.totalRevenue),"Ticket Mdio":$e(t.active.averageValue)},{Status:"Concludos",Quantidade:t.completed.count,"Receita Total":$e(t.completed.totalRevenue),"Ticket Mdio":$e(t.completed.averageValue)},{Status:"Pendentes",Quantidade:t.pending.count,"Receita Total":$e(t.pending.totalRevenue),"Ticket Mdio":"-"},{Status:"Cancelados",Quantidade:t.cancelled.count,"Receita Perdida":$e(t.cancelled.lostRevenue),"Ticket Mdio":"-"}],n=Nt.json_to_sheet(r),a=Nt.book_new();Nt.book_append_sheet(a,n,"Contratos"),Qi(a,e)},exportDemographicReport(t,e,r){const n={house:"Casa",gender:"Gnero",location:"Localidade",origin:"Origem"},a=Nt.json_to_sheet(t.map(c=>({[n[c.category]||"Categoria"]:c.value,"Nmero de Vendas":c.numberOfSales,"Receita Total":$e(c.totalRevenue),Percentual:wa(c.percentage),"Ticket Mdio":$e(c.averageTicket)}))),o=Nt.book_new();Nt.book_append_sheet(o,a,`Por ${n[e]||"Categoria"}`),Qi(o,r||`vendas-por-${e}.xlsx`)},exportComparativeReport(t,e="relatorio-comparativo.xlsx"){const r=[{Mtrica:"Total de Vendas",[t.period1.label]:t.period1.metrics.totalSales,[t.period2.label]:t.period2.metrics.totalSales,Variao:t.comparison.totalSales.absoluteChange,"Variao %":wa(t.comparison.totalSales.percentageChange)},{Mtrica:"Receita Total",[t.period1.label]:$e(t.period1.metrics.totalRevenue),[t.period2.label]:$e(t.period2.metrics.totalRevenue),Variao:$e(t.comparison.totalRevenue.absoluteChange),"Variao %":wa(t.comparison.totalRevenue.percentageChange)},{Mtrica:"Dirias",[t.period1.label]:$e(t.period1.metrics.dailyRates),[t.period2.label]:$e(t.period2.metrics.dailyRates),Variao:$e(t.comparison.dailyRates.absoluteChange),"Variao %":wa(t.comparison.dailyRates.percentageChange)},{Mtrica:"Concierge",[t.period1.label]:$e(t.period1.metrics.concierge),[t.period2.label]:$e(t.period2.metrics.concierge),Variao:$e(t.comparison.concierge.absoluteChange),"Variao %":wa(t.comparison.concierge.percentageChange)},{Mtrica:"Comisses Fornecedores",[t.period1.label]:$e(t.period1.metrics.suppliersCommission),[t.period2.label]:$e(t.period2.metrics.suppliersCommission),Variao:$e(t.comparison.suppliersCommission.absoluteChange),"Variao %":wa(t.comparison.suppliersCommission.percentageChange)},{Mtrica:"Ticket Mdio",[t.period1.label]:$e(t.period1.metrics.averageTicket),[t.period2.label]:$e(t.period2.metrics.averageTicket),Variao:$e(t.comparison.averageTicket.absoluteChange),"Variao %":wa(t.comparison.averageTicket.percentageChange)},{Mtrica:"Noites Vendidas",[t.period1.label]:t.period1.metrics.numberOfNights,[t.period2.label]:t.period2.metrics.numberOfNights,Variao:t.comparison.numberOfNights.absoluteChange,"Variao %":wa(t.comparison.numberOfNights.percentageChange)}],n=Nt.json_to_sheet(r),a=Nt.book_new();Nt.book_append_sheet(a,n,"Comparativo"),Qi(a,e)},exportTaxReport(t,e="impostos.xlsx"){const r=Nt.json_to_sheet(t.map(a=>({Empresa:a.companyName,Perodo:a.period,"Receita Bruta":$e(a.grossRevenue),"Receita Tributvel":$e(a.taxableRevenue),Alquota:wa(a.taxRate),"Valor do Imposto":$e(a.taxAmount),"Receita Lquida":$e(a.netRevenue)}))),n=Nt.book_new();Nt.book_append_sheet(n,r,"Impostos"),Qi(n,e)},exportFinancialSummary(t,e="resumo-financeiro.xlsx"){const r=[{Mtrica:"Receita Total",Valor:$e(t.totalRevenue)},{Mtrica:"Despesas Totais",Valor:$e(t.totalExpenses)},{Mtrica:"Lucro Lquido",Valor:$e(t.netProfit)},{Mtrica:"Margem de Lucro",Valor:wa(t.profitMargin)},{Mtrica:"Nmero de Vendas",Valor:t.numberOfSales.toString()},{Mtrica:"Ticket Mdio",Valor:$e(t.averageTicket)},{Mtrica:"Receita Dirias",Valor:$e(t.dailyRatesRevenue)},{Mtrica:"Receita Concierge",Valor:$e(t.conciergeRevenue)},{Mtrica:"Comisses Fornecedores",Valor:$e(t.suppliersCommissionRevenue)}],n=Nt.json_to_sheet(r),a=Nt.book_new();Nt.book_append_sheet(a,n,"Resumo"),Qi(a,e)},exportCompleteReport(t,e,r,n,a,o="relatorio-completo.xlsx"){const c=Nt.book_new(),h=Nt.json_to_sheet([{Mtrica:"Receita Total",Valor:$e(a.totalRevenue)},{Mtrica:"Despesas Totais",Valor:$e(a.totalExpenses)},{Mtrica:"Lucro Lquido",Valor:$e(a.netProfit)},{Mtrica:"Margem de Lucro",Valor:wa(a.profitMargin)},{Mtrica:"Nmero de Vendas",Valor:a.numberOfSales.toString()},{Mtrica:"Ticket Mdio",Valor:$e(a.averageTicket)}]);Nt.book_append_sheet(c,h,"Resumo");const m=Nt.json_to_sheet(t.map(y=>({Casa:y.houseName,Dirias:$e(y.dailyRatesRevenue),Concierge:$e(y.conciergeRevenue),Comisses:$e(y.suppliersCommission),"Receita Bruta":$e(y.grossRevenue),Despesas:$e(y.expenses),"Receita Lquida":$e(y.netRevenue)})));Nt.book_append_sheet(c,m,"Receitas por Casa");const f=Nt.json_to_sheet(e.map(y=>({Perodo:y.period,Entradas:$e(y.cashIn),Sadas:$e(y.cashOut),Saldo:$e(y.balance)})));Nt.book_append_sheet(c,f,"Fluxo de Caixa");const g=Nt.json_to_sheet([{Status:"Ativos",Quantidade:r.active.count,Receita:$e(r.active.totalRevenue)},{Status:"Concludos",Quantidade:r.completed.count,Receita:$e(r.completed.totalRevenue)},{Status:"Cancelados",Quantidade:r.cancelled.count,Receita:$e(r.cancelled.lostRevenue)}]);Nt.book_append_sheet(c,g,"Contratos");const x=Nt.json_to_sheet(n.map(y=>({Empresa:y.companyName,"Receita Bruta":$e(y.grossRevenue),Alquota:wa(y.taxRate),"Valor Imposto":$e(y.taxAmount),"Receita Lquida":$e(y.netRevenue)})));Nt.book_append_sheet(c,x,"Impostos"),Qi(c,o)}},H7=()=>{const[t,e]=H.useState(!1),[r,n]=H.useState(null),[a,o]=H.useState({startDate:"",endDate:"",company:"all",houseId:"",reportType:"summary",groupBy:"month",demographicType:"house"}),[c,h]=H.useState(null),[m,f]=H.useState([]),[g,x]=H.useState([]),[y,E]=H.useState(null),[w,T]=H.useState([]),[b,D]=H.useState(null),[k,V]=H.useState([]);H.useEffect(()=>{W()},[a]);const W=async()=>{e(!0),n(null);try{const I={startDate:a.startDate?new Date(a.startDate):void 0,endDate:a.endDate?new Date(a.endDate):void 0,company:a.company,houseId:a.houseId||void 0,groupBy:a.groupBy};switch(a.reportType){case"summary":{const A=await Ki.getFinancialSummary(I);h(A);break}case"revenue-by-house":{const A=await Ki.getRevenueByHouse(I);f(A);break}case"cash-flow":{const A=await Ki.getCashFlow(I);x(A);break}case"contracts":{const A=await Ki.getContractsReport(I);E(A);break}case"breakdown":{const A=await Ki.getFinancialSummary(I);h(A);break}case"demographic":{const A=await Ki.getDemographicReport(a.demographicType,I);T(A);break}case"comparative":{if(a.startDate&&a.endDate){const A=new Date(a.startDate),C=new Date(a.endDate),P=C.getTime()-A.getTime(),N=new Date(A.getTime()-1),O=new Date(N.getTime()-P),L=await Ki.getComparativeReport(O,N,A,C,a.company);D(L)}else n("Por favor, selecione um perodo (data incio e fim) para o relatrio comparativo.");break}case"tax":{const A=await Ki.getTaxReport(I);V(A);break}default:break}}catch(I){console.error("Erro ao carregar dados financeiros:",I),n(I instanceof Error?I.message:"Erro ao carregar dados financeiros")}finally{e(!1)}},z=async I=>{try{switch(n(null),I){case"summary":c&&Ji.exportFinancialSummary(c);break;case"revenue-by-house":m.length>0&&Ji.exportRevenueByHouse(m);break;case"cash-flow":g.length>0&&Ji.exportCashFlow(g);break;case"contracts":y&&Ji.exportContractsReport(y);break;case"breakdown":c&&Ji.exportFinancialSummary(c);break;case"demographic":w.length>0&&Ji.exportDemographicReport(w,a.demographicType);break;case"comparative":b&&Ji.exportComparativeReport(b);break;case"tax":k.length>0&&Ji.exportTaxReport(k);break;default:break}}catch(A){console.error("Erro ao exportar relatrio:",A),n("Erro ao exportar relatrio para Excel")}},Q=()=>{if(t)return l.jsx(Dr,{});if(r)return l.jsx(Fl,{message:r});switch(a.reportType){case"summary":case"breakdown":return c?l.jsx(qM,{data:c}):l.jsx("div",{className:"no-data",children:"Nenhum dado disponvel"});case"revenue-by-house":return l.jsx(GM,{data:m});case"cash-flow":return l.jsx($M,{data:g});case"contracts":return y?l.jsx(WM,{data:y}):l.jsx("div",{className:"no-data",children:"Nenhum dado disponvel"});case"demographic":return l.jsx(YM,{data:w,type:a.demographicType});case"comparative":return b?l.jsx(KM,{data:b}):l.jsx("div",{className:"no-data",children:"Selecione um perodo para visualizar o relatrio comparativo"});case"tax":return l.jsx(XM,{data:k});default:return l.jsx("div",{className:"no-data",children:"Selecione um tipo de relatrio"})}};return l.jsxs("div",{className:"financial-management",children:[l.jsx("div",{className:"financial-header",children:l.jsxs("div",{children:[l.jsxs("h1",{children:[l.jsx(Ra,{size:36,style:{verticalAlign:"middle",marginRight:"0.5rem"}}),"Financeiro e Relatrios"]}),l.jsx("p",{className:"page-subtitle",children:"Anlise completa de receitas, despesas e relatrios gerenciais"})]})}),l.jsx(HM,{onFilterChange:o,onExport:z}),l.jsx("div",{className:"financial-content",children:Q()})]})},q7=({filters:t,onFiltersChange:e,onClearFilters:r,loading:n=!1})=>{const[a,o]=H.useState([]),[c,h]=H.useState(t);H.useEffect(()=>{(async()=>{try{const T=await Ka.getAll();o(T.filter(b=>b.status==="available"))}catch(T){console.error("Erro ao carregar casas:",T)}})()},[]),H.useEffect(()=>{h(t)},[t]);const m=(w,T)=>{const b={...c,[w]:T};h(b),e(b)},f=()=>{const w={period:"month",company:"all",houseId:void 0,viewMode:"consolidated",comparisonMode:"previous-month",startDate:void 0,endDate:void 0};h(w),e(w),r()},g=()=>{const w=new Date,T=w.getFullYear(),b=w.getMonth();return[{value:"month",label:"Mensal",description:`Mes atual (${w.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})`},{value:"quarter",label:"Trimestral",description:`Trimestre atual (Q${Math.floor(b/3)+1}/${T}s)`},{value:"year",label:"Anual",description:`Ano atual (${T})`}]},x=()=>[{value:"all",label:"Todas as empresas",icon:l.jsx(CT,{})},{value:"exclusive",label:"Exclusive Homes",icon:l.jsx(RN,{})},{value:"giogio",label:"Giogio",icon:l.jsx(yn,{})},{value:"direta",label:"Venda Direta",icon:l.jsx(To,{})}],y=()=>[{value:"consolidated",label:"Consolidado",description:"Soma geral de todas as casas",icon:l.jsx(CT,{size:20})},{value:"individual",label:"Individual",description:"Anlise detalhada de uma casa especfica",icon:l.jsx(yn,{size:20})}],E=()=>[{value:"previous-month",label:"Ms Anterior",description:"Comparar com o ms anterior"},{value:"previous-year",label:"Ano Anterior",description:"Comparar com o mesmo perodo do ano anterior"}];return l.jsxs("div",{className:"dashboard-filters",children:[l.jsxs("div",{className:"filters-header",children:[l.jsxs("div",{className:"filters-title",children:[l.jsx(J1,{size:24}),l.jsx("h3",{children:"Filtros do Dashboard"})]}),l.jsx("div",{className:"filters-actions",children:l.jsxs("button",{className:"btn-clear-filters",onClick:f,disabled:n,title:"Limpar Filtros",children:[l.jsx(dd,{size:16}),"Limpar Filtros"]})})]}),l.jsxs("div",{className:"filters-grid",children:[l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(Eo,{size:16}),"Perodo"]}),l.jsx("select",{value:c.period,onChange:w=>m("period",w.target.value),className:"filter-select",disabled:n,children:g().map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))}),l.jsx("small",{className:"filter-description",children:g().find(w=>w.value===c.period)?.description})]}),l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(XP,{size:16}),"Empresa"]}),l.jsx("select",{value:c.company,onChange:w=>m("company",w.target.value),className:"filter-select",disabled:n,children:x().map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.viewMode==="individual"&&l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(yn,{size:16}),"Casa especfica"]}),l.jsxs("select",{value:c.houseId||"",onChange:w=>m("houseId",w.target.value||void 0),className:"filter-select",disabled:n,children:[l.jsx("option",{value:"",children:"Selecione uma casa"}),a.map(w=>l.jsx("option",{value:w.id,children:w.houseName},w.id))]}),!c.houseId&&l.jsx("small",{className:"filter-warning",children:"Selecione uma casa para visualizar os dados especficos"})]}),l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(To,{size:18}),"Tipo de visualizao"]}),l.jsx("div",{className:"view-mode-buttons",children:y().map(w=>l.jsxs("button",{className:`view-mode-btn ${c.viewMode===w.value?"active":""}`,onClick:()=>m("viewMode",w.value),disabled:n,title:w.description,children:[w.icon,l.jsx("span",{children:w.label})]},w.value))})]}),l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(dd,{size:18}),"Comparao"]}),l.jsx("select",{value:c.comparisonMode,onChange:w=>m("comparisonMode",w.target.value),className:"filter-select",disabled:n,children:E().map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))}),l.jsx("small",{className:"filter-description",children:E().find(w=>w.value===c.comparisonMode)?.description})]})]}),l.jsxs("div",{className:"active-filters-summary",children:[l.jsx("h4",{children:"Filtros Ativos:"}),l.jsxs("div",{className:"active-filters-tags",children:[l.jsxs("span",{className:"filter-tag",children:["Perodo:"," ",g().find(w=>w.value===c.period)?.label]}),l.jsxs("span",{className:"filter-tag",children:["Empresa:"," ",x().find(w=>w.value===c.company)?.label]}),l.jsxs("span",{className:"filter-tag",children:["Tipo de visualizao:"," ",y().find(w=>w.value===c.viewMode)?.label]}),c.houseId&&l.jsxs("span",{className:"filter-tag",children:["Casa:"," ",a.find(w=>w.id===c.houseId)?.houseName]}),l.jsxs("span",{className:"filter-tag",children:["Comparao:"," ",E().find(w=>w.value===c.comparisonMode)?.label]})]})]}),n&&l.jsxs("div",{className:"filters-loading",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("span",{children:"Carregando filtros..."})]})]})},G7=({data:t,loading:e=!1})=>{const r=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),n=c=>`${c>0?"+":""}${c.toFixed(1)}%`,a=c=>c>0?l.jsx(bs,{size:16,className:"trend-up"}):c<0?l.jsx(yu,{size:16,className:"trend-down"}):l.jsx(aM,{size:16,className:"trend-neutral"}),o=c=>c>0?"trend-up":c<0?"trend-down":"trend-neutral";return e?l.jsxs("div",{className:"top-indicator",children:[l.jsx("h2",{children:"Indicadores Principais"}),l.jsx("div",{className:"indicators-grid",children:[...Array(5)].map((c,h)=>l.jsx("div",{className:"indicator-card loading",children:l.jsxs("div",{className:"card-skeleton",children:[l.jsx("div",{className:"skeleton-icon"}),l.jsxs("div",{className:"skeleton-content",children:[l.jsx("div",{className:"skeleton-title"}),l.jsx("div",{className:"skeleton-value"}),l.jsx("div",{className:"skeleton-variation"})]})]})},h))})]}):l.jsxs("div",{className:"top-indicator",children:[l.jsx("h2",{children:"Indicadores Principais"}),l.jsx("p",{className:"indicators-subtitle",children:"Mtricas-chave com comparao ao perodo anterior"}),l.jsxs("div",{className:"indicators-grid",children:[l.jsxs("div",{className:"indicator-card contracts-active",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(la,{size:24})}),l.jsxs("div",{className:"card-trend",children:[a(t.activeContracts.variation),l.jsx("span",{className:`trend-value ${o(t.activeContracts.variation)}`,children:n(t.activeContracts.variation)})]})]}),"x",l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Contratos Ativos"}),l.jsxs("p",{className:"card-value",children:[" ",t.activeContracts.count]}),l.jsx("p",{className:"card-description",children:"Contratos confirmado e pendente no momento"})]})]}),l.jsxs("div",{className:"indicator-card future-reservations",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Eo,{size:32})}),l.jsx("div",{className:"card-trend",children:l.jsxs("span",{className:"trend-value neutral",children:[t.futureReservations.count," reservas"]})})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Reservas Futuras"}),l.jsx("p",{className:"card-value",children:t.futureReservations.count}),l.jsx("p",{className:"card-description",children:"Prximas reservas agendadas"})]}),t.futureReservations.reservations.length>0&&l.jsxs("div",{className:"card-details",children:[l.jsx("h4",{children:"Prximas Reservas:"}),l.jsxs("div",{className:"reservations-list",children:[t.futureReservations.reservations.slice(0,3).map(c=>l.jsxs("div",{className:"reservation-item",children:[l.jsxs("div",{className:"reservation-info",children:[l.jsx("strong",{children:c.clientName}),l.jsx("span",{children:c.houseName})]}),l.jsxs("div",{className:"reservation-dates",children:[l.jsxs("span",{children:[c.checkInDate.toLocaleDateString("pt-BR")," ","-"," ",c.checkOutDate.toLocaleDateString("pt-BR")]}),l.jsx("span",{className:"reservation-value",children:r(c.contractValue)})]})]},c.id)),t.futureReservations.reservations.length>3&&l.jsxs("div",{className:"more-reservations",children:["+",t.futureReservations.reservations.length-3," mais reservas"]})]})]})]}),l.jsxs("div",{className:"indicator-card daily-rates-month",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ra,{size:32})}),l.jsxs("div",{className:"card-trend",children:[a(t.totalDailyRates.month.variation),l.jsx("span",{className:`trend-value ${o(t.totalDailyRates.month.variation)}`,children:n(t.totalDailyRates.month.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Dirias Fechadas (Ms)"}),l.jsx("p",{className:"card-value",children:r(t.totalDailyRates.month.value)}),l.jsx("p",{className:"card-description",children:"Receita de dirias no ms atual"})]})]}),l.jsxs("div",{className:"indicator-card daily-rates-year",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ra,{size:32})}),l.jsxs("div",{className:"card-trend",children:[a(t.totalDailyRates.year.variation),l.jsx("span",{className:`trend-value ${o(t.totalDailyRates.year.variation)}`,children:n(t.totalDailyRates.year.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Dirias Fechadas (Ano)"}),l.jsx("p",{className:"card-value",children:r(t.totalDailyRates.year.value)}),l.jsx("p",{className:"card-description",children:"Receita de dirias no ano atual"})]})]}),l.jsxs("div",{className:"indicator-card contracts-month",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(wo,{size:32})}),l.jsxs("div",{className:"card-trend",children:[a(t.totalContracts.month.variation),l.jsx("span",{className:`trend-value ${o(t.totalContracts.month.variation)}`,children:n(t.totalContracts.month.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Contratos Fechados (Ms)"}),l.jsx("p",{className:"card-value",children:t.totalContracts.month.count}),l.jsx("p",{className:"card-description",children:"Contratos concludos no ms atual"})]})]}),l.jsxs("div",{className:"indicator-card contracts-year",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(wo,{size:32})}),l.jsxs("div",{className:"card-trend",children:[a(t.totalContracts.year.variation),l.jsx("span",{className:`trend-value ${o(t.totalContracts.year.variation)}`,children:n(t.totalContracts.year.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Contratos Fechados (Ano)"}),l.jsx("p",{className:"card-value",children:t.totalContracts.year.count}),l.jsx("p",{className:"card-description",children:"Contratos concludos no ano atual"})]})]}),l.jsxs("div",{className:"indicator-card average-ticket",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ra,{size:32})}),l.jsx("div",{className:"card-trend",children:l.jsx("span",{className:"trend-value neutral",children:"Ticket mdio"})})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Ticket Mdio"}),l.jsx("p",{className:"card-value",children:r(t.averageTicket.total)}),l.jsx("p",{className:"card-description",children:"Valor mdio por contrato"})]}),l.jsx("div",{className:"card-details",children:l.jsxs("div",{className:"ticket-breakdown",children:[l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Por Casa:"}),l.jsx("span",{children:r(t.averageTicket.byHouse)})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Por Fornecedor:"}),l.jsx("span",{children:r(t.averageTicket.bySupplier)})]}),l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{children:"Por Concierge:"}),l.jsx("span",{children:r(t.averageTicket.byConcierge)})]})]})})]})]})]})},$7=({data:t,loading:e=!1})=>{const[r,n]=H.useState("sales"),a=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),o=m=>`${m.toFixed(1)}%`,c=m=>m>0?l.jsx(bs,{size:16,className:"trend-up"}):m<0?l.jsx(yu,{size:16,className:"trend-down"}):null,h=m=>m>0?"trend-up":m<0?"trend-down":"trend-neutral";return e?l.jsxs("div",{className:"financial-block",children:[l.jsxs("div",{className:"block-header",children:[l.jsxs("h2",{children:[l.jsx(bl,{size:24,style:{marginRight:"8px",verticalAlign:"middle"}}),"Bloco Financeiro Consolidado"]}),l.jsxs("div",{className:"chart-selector loading",children:[l.jsx("div",{className:"skeleton-button"}),l.jsx("div",{className:"skeleton-button"}),l.jsx("div",{className:"skeleton-button"})]})]}),l.jsx("div",{className:"financial-cards",children:[...Array(6)].map((m,f)=>l.jsx("div",{className:"financial-card loading",children:l.jsxs("div",{className:"card-skeleton",children:[l.jsx("div",{className:"skeleton-icon"}),l.jsxs("div",{className:"skeleton-content",children:[l.jsx("div",{className:"skeleton-title"}),l.jsx("div",{className:"skeleton-value"})]})]})},f))}),l.jsx("div",{className:"chart-container loading",children:l.jsx("div",{className:"skeleton-chart"})})]}):l.jsxs("div",{className:"financial-block",children:[l.jsxs("div",{className:"block-header",children:[l.jsxs("h2",{children:[l.jsx(bl,{size:24,style:{marginRight:"8px",verticalAlign:"middle"}}),"Bloco Financeiro Consolidado"]}),l.jsx("p",{className:"block-subtitle",children:"Anlise completa de receitas, despesas e margem de contribuio"}),l.jsxs("div",{className:"chart-selector",children:[l.jsxs("button",{className:`chart-btn ${r==="sales"?"active":""}`,onClick:()=>n("sales"),children:[l.jsx($h,{size:16}),"Total de Vendas"]}),l.jsxs("button",{className:`chart-btn ${r==="commissions"?"active":""}`,onClick:()=>n("commissions"),children:[l.jsx(nu,{size:16}),"Comisses"]}),l.jsxs("button",{className:`chart-btn ${r==="margin"?"active":""}`,onClick:()=>n("margin"),children:[l.jsx(yn,{size:16}),"Margem por Casa"]})]})]}),l.jsxs("div",{className:"financial-cards",children:[l.jsxs("div",{className:"financial-card total-sales",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ra,{size:24})}),l.jsxs("div",{className:"card-trend",children:[c(t.totalSales.variation),l.jsx("span",{className:`trend-value ${h(t.totalSales.variation)}`,children:o(t.totalSales.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Total de Vendas"}),l.jsx("p",{className:"card-value",children:a(t.totalSales.current)}),l.jsx("p",{className:"card-description",children:"Receita total no perodo"})]})]}),l.jsxs("div",{className:"financial-card total-commissions",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(bs,{size:24})}),l.jsxs("div",{className:"card-trend",children:[c(t.totalCommissions.variation),l.jsx("span",{className:`trend-value ${h(t.totalCommissions.variation)}`,children:o(t.totalCommissions.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Total de Comisses"}),l.jsx("p",{className:"card-value",children:a(t.totalCommissions.current)}),l.jsx("p",{className:"card-description",children:"Comisses pagas no perodo"})]})]}),l.jsxs("div",{className:"financial-card supplier-commissions",children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"card-icon",children:l.jsx(wo,{size:24})})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Comisses Fornecedores"}),l.jsx("p",{className:"card-value",children:a(t.supplierCommissions.current)}),l.jsx("p",{className:"card-description",children:"Comisses pagas a fornecedores"})]})]}),l.jsxs("div",{className:"financial-card total-concierge",children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"card-icon",children:l.jsx(jn,{size:24})})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Total Concierge"}),l.jsx("p",{className:"card-value",children:a(t.concierge.current)}),l.jsx("p",{className:"card-description",children:"Receita de servios de concierge"})]})]}),l.jsxs("div",{className:"financial-card housekeeper-payments",children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"card-icon",children:l.jsx(yn,{size:24})})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Pagamentos Governantas"}),l.jsx("p",{className:"card-value",children:a(t.housekeeperPayments.current)}),l.jsx("p",{className:"card-description",children:"Pagamentos realizados a governantas"})]})]}),l.jsxs("div",{className:"financial-card contribution-margin",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx($h,{size:24})}),l.jsxs("div",{className:"card-trend",children:[c(t.contributionMargin.total.variation),l.jsx("span",{className:`trend-value ${h(t.contributionMargin.total.variation)}`,children:o(t.contributionMargin.total.variation)})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Margem de Contribuio"}),l.jsx("p",{className:"card-value",children:a(t.contributionMargin.total.current)}),l.jsx("p",{className:"card-description",children:"Receita - Despesas diretas"})]})]})]}),l.jsxs("div",{className:"chart-container",children:[r==="sales"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx($h,{size:20}),"Evoluo de Vendas - Ms a Ms"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Perodo: ltimos 12 meses"})})]}),l.jsx("div",{className:"chart-content",children:l.jsx("div",{className:"simple-chart",children:l.jsx("div",{className:"chart-bars",children:t.totalSales.chartData.map((m,f)=>l.jsxs("div",{className:"chart-bar-container",children:[l.jsxs("div",{className:"chart-bar-wrapper",children:[l.jsx("div",{className:"chart-bar",style:{height:`${m.value/Math.max(...t.totalSales.chartData.map(g=>g.value))*100}%`,backgroundColor:`hsl(${200+f*20}, 70%, 50%)`}}),l.jsx("div",{className:"bar-value",children:a(m.value)})]}),l.jsx("div",{className:"bar-label",children:m.label?new Date(m.label).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}):""})]},f))})})})]}),r==="commissions"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx(nu,{size:20}),"Evoluo de Comisses - Ms a Ms"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Perodo: ltimos 12 meses"})})]}),l.jsx("div",{className:"chart-content",children:l.jsx("div",{className:"simple-chart",children:l.jsx("div",{className:"chart-bars",children:t.totalCommissions.chartData.map((m,f)=>l.jsxs("div",{className:"chart-bar-container",children:[l.jsxs("div",{className:"chart-bar-wrapper",children:[l.jsx("div",{className:"chart-bar",style:{height:`${m.value/Math.max(...t.totalCommissions.chartData.map(g=>g.value))*100}%`,backgroundColor:`hsl(${120+f*15}, 70%, 50%)`}}),l.jsx("div",{className:"bar-value",children:a(m.value)})]}),l.jsx("div",{className:"bar-label",children:m.label?new Date(m.label).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}):""})]},f))})})})]}),r==="margin"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx(yn,{size:20}),"Margem de Contribuio por Casa"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Comparativo entre casas"})})]}),l.jsx("div",{className:"chart-content",children:l.jsx("div",{className:"margin-chart",children:t.contributionMargin.byHouse.map((m,f)=>l.jsxs("div",{className:"margin-house",children:[l.jsxs("div",{className:"house-header",children:[l.jsx("h4",{children:m.houseName}),l.jsx("span",{className:"house-value",children:a(m.margin)})]}),l.jsx("div",{className:"house-bar",children:l.jsx("div",{className:"house-progress",style:{width:`${m.margin/Math.max(...t.contributionMargin.byHouse.map(g=>g.margin))*100}%`,backgroundColor:`hsl(${280+f*40}, 70%, 50%)`}})}),l.jsxs("div",{className:"house-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{children:"Receita:"}),l.jsx("span",{children:a(m.totalRevenue)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{children:"Despesas:"}),l.jsx("span",{children:a(m.totalCosts)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{children:"Margem:"}),l.jsx("span",{className:"margin-percentage",children:o(m.marginPercentage)})]})]})]},f))})})]})]})]})},W7=({data:t,loading:e=!1})=>{const[r,n]=H.useState("media"),a=f=>`${f.toFixed(1)}%`,o=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),c=f=>{switch(f){case"instagram":return l.jsx(eM,{size:20});case"facebook":return l.jsx(QP,{size:20});case"google":return l.jsx(AT,{size:20});case"indicacao":return l.jsx(jT,{size:20});case"whatsapp":return l.jsx(jT,{size:20});case"site":return l.jsx(AT,{size:20});case"outros":return l.jsx(pl,{size:20});default:return l.jsx(pl,{size:20})}},h=f=>{switch(f){case"instagram":return"linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045)";case"facebook":return"linear-gradient(135deg, #1877f2, #42a5f5)";case"google":return"linear-gradient(135deg, #3b82f6, #1d4ed8)";case"indicacao":return"linear-gradient(135deg, #10b981, #059669)";case"whatsapp":return"linear-gradient(135deg, #25d366, #128c7e)";case"site":return"linear-gradient(135deg, #8b5cf6, #7c3aed)";case"outros":return"linear-gradient(135deg, #f59e0b, #d97706)";default:return"linear-gradient(135deg, #6b7280, #4b5563)"}},m=f=>f==="male"?l.jsx(Wh,{size:20}):l.jsx(lM,{size:20});return e?l.jsxs("div",{className:"commercial-intelligence",children:[l.jsxs("div",{className:"block-header",children:[l.jsxs("h2",{children:[l.jsx(IT,{size:24,style:{marginRight:"8px",verticalAlign:"middle"}}),"Bloco de Inteligncia Comercial"]}),l.jsxs("div",{className:"view-selector loading",children:[l.jsx("div",{className:"skeleton-button"}),l.jsx("div",{className:"skeleton-button"}),l.jsx("div",{className:"skeleton-button"})]})]}),l.jsxs("div",{className:"intelligence-content",children:[l.jsx("div",{className:"intelligence-cards loading",children:[...Array(3)].map((f,g)=>l.jsx("div",{className:"intelligence-card loading",children:l.jsxs("div",{className:"card-skeleton",children:[l.jsx("div",{className:"skeleton-icon"}),l.jsxs("div",{className:"skeleton-content",children:[l.jsx("div",{className:"skeleton-title"}),l.jsx("div",{className:"skeleton-value"})]})]})},g))}),l.jsx("div",{className:"chart-container loading",children:l.jsx("div",{className:"skeleton-chart"})})]})]}):l.jsxs("div",{className:"commercial-intelligence",children:[l.jsxs("div",{className:"block-header",children:[l.jsxs("h2",{children:[l.jsx(IT,{size:24,style:{marginRight:"8px",verticalAlign:"middle"}}),"Bloco de Inteligncia Comercial"]}),l.jsx("p",{className:"block-subtitle",children:"Anlise de vendas por origem, perfil demogrfico e ocupao"}),l.jsxs("div",{className:"view-selector",children:[l.jsxs("button",{className:`view-btn ${r==="media"?"active":""}`,onClick:()=>n("media"),children:[l.jsx(nu,{size:16}),"Vendas por Mdia"]}),l.jsxs("button",{className:`view-btn ${r==="gender"?"active":""}`,onClick:()=>n("gender"),children:[l.jsx(jn,{size:16}),"Vendas por Gnero"]}),l.jsxs("button",{className:`view-btn ${r==="occupancy"?"active":""}`,onClick:()=>n("occupancy"),children:[l.jsx(bs,{size:16}),"Taxa de Ocupao"]})]})]}),l.jsxs("div",{className:"intelligence-content",children:[l.jsxs("div",{className:"intelligence-cards",children:[l.jsxs("div",{className:"intelligence-card media-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(pl,{size:24})}),l.jsxs("div",{className:"card-info",children:[l.jsx("h3",{children:"Vendas por Mdia"}),l.jsx("p",{className:"card-subtitle",children:"Origem das vendas"})]})]}),l.jsx("div",{className:"card-content",children:l.jsx("div",{className:"top-media",children:t.salesByMedia.slice(0,2).map((f,g)=>l.jsxs("div",{className:"media-item",children:[l.jsxs("div",{className:"media-info",children:[l.jsx("div",{className:"media-icon",style:{background:h(f.source)},children:c(f.source)}),l.jsxs("div",{className:"media-details",children:[l.jsx("span",{className:"media-name",children:f.sourceLabel}),l.jsx("span",{className:"media-percentage",children:a(f.percentage)})]})]}),l.jsx("div",{className:"media-bar",children:l.jsx("div",{className:"media-progress",style:{width:`${f.percentage}%`,background:h(f.source)}})})]},g))})})]}),l.jsxs("div",{className:"intelligence-card gender-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(jn,{size:24})}),l.jsxs("div",{className:"card-info",children:[l.jsx("h3",{children:"Vendas por Gnero"}),l.jsx("p",{className:"card-subtitle",children:"Perfil demogrfico"})]})]}),l.jsx("div",{className:"card-content",children:l.jsx("div",{className:"gender-stats",children:t.salesByGender.map((f,g)=>l.jsxs("div",{className:"gender-item",children:[l.jsx("div",{className:"gender-icon",children:m(f.gender)}),l.jsxs("div",{className:"gender-details",children:[l.jsx("span",{className:"gender-name",children:f.gender==="male"?"Masculino":"Feminino"}),l.jsx("span",{className:"gender-percentage",children:a(f.percentage)})]}),l.jsx("div",{className:"gender-value",children:o(f.revenue)})]},g))})})]}),l.jsxs("div",{className:"intelligence-card occupancy-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:l.jsx(bs,{size:24})}),l.jsxs("div",{className:"card-info",children:[l.jsx("h3",{children:"Taxa de Ocupao"}),l.jsx("p",{className:"card-subtitle",children:"Eficincia operacional"})]})]}),l.jsx("div",{className:"card-content",children:l.jsxs("div",{className:"occupancy-stats",children:[l.jsxs("div",{className:"occupancy-average",children:[l.jsx("span",{className:"average-label",children:"Mdia Geral:"}),l.jsx("span",{className:"average-value",children:a(t.occupancyRate.reduce((f,g)=>f+g.rate,0)/t.occupancyRate.length)})]}),l.jsxs("div",{className:"occupancy-trend",children:[l.jsx("span",{className:"trend-label",children:"Tendncia:"}),l.jsxs("span",{className:"trend-value positive",children:[l.jsx($P,{size:14}),"+5.2%"]})]})]})})]})]}),l.jsxs("div",{className:"chart-container",children:[r==="media"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx(nu,{size:20}),"Distribuio de Vendas por Mdia"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Baseado no total de vendas do perodo"})})]}),l.jsx("div",{className:"chart-content",children:l.jsxs("div",{className:"media-chart",children:[l.jsx("div",{className:"chart-legend",children:t.salesByMedia.map((f,g)=>l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{background:h(f.source)}}),l.jsxs("div",{className:"legend-info",children:[l.jsx("span",{className:"legend-name",children:f.sourceLabel}),l.jsxs("span",{className:"legend-stats",children:[a(f.percentage)," "," ",o(f.revenue)]})]})]},g))}),l.jsx("div",{className:"chart-visual",children:l.jsx("div",{className:"pie-chart",children:t.salesByMedia.map((f,g)=>{const x=t.salesByMedia.slice(0,g).reduce((E,w)=>E+w.percentage*3.6,0),y=x+f.percentage*3.6;return l.jsx("div",{className:"pie-segment",style:{background:`conic-gradient(${h(f.source)} ${x}deg ${y}deg)`}},g)})})})]})})]}),r==="gender"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx($h,{size:20}),"Vendas por Gnero - Comparativo"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Anlise demogrfica dos clientes"})})]}),l.jsx("div",{className:"chart-content",children:l.jsx("div",{className:"gender-chart",children:l.jsx("div",{className:"gender-bars",children:t.salesByGender.map((f,g)=>l.jsxs("div",{className:"gender-bar-container",children:[l.jsxs("div",{className:"gender-bar-wrapper",children:[l.jsx("div",{className:"gender-bar",style:{height:`${f.percentage}%`,background:f.gender==="male"?"linear-gradient(135deg, #3b82f6, #1d4ed8)":"linear-gradient(135deg, #ec4899, #be185d)"}}),l.jsx("div",{className:"bar-value",children:a(f.percentage)})]}),l.jsx("div",{className:"bar-label",children:f.gender==="male"?"Masculino":"Feminino"}),l.jsx("div",{className:"bar-total",children:o(f.revenue)})]},g))})})})]}),r==="occupancy"&&l.jsxs("div",{className:"chart-section",children:[l.jsxs("div",{className:"chart-header",children:[l.jsxs("h3",{children:[l.jsx(Eo,{size:20}),"Taxa de Ocupao por Ms"]}),l.jsx("div",{className:"chart-info",children:l.jsx("span",{children:"Eficincia de ocupao das casas"})})]}),l.jsx("div",{className:"chart-content",children:l.jsx("div",{className:"occupancy-chart",children:l.jsx("div",{className:"occupancy-bars",children:t.occupancyRate.map((f,g)=>l.jsxs("div",{className:"occupancy-bar-container",children:[l.jsxs("div",{className:"occupancy-bar-wrapper",children:[l.jsx("div",{className:"occupancy-bar",style:{height:`${f.rate}%`,background:f.rate>=80?"linear-gradient(135deg, #10b981, #059669)":f.rate>=60?"linear-gradient(135deg, #f59e0b, #d97706)":"linear-gradient(135deg, #ef4444, #dc2626)"}}),l.jsx("div",{className:"bar-value",children:a(f.rate)})]}),l.jsx("div",{className:"bar-label",children:f.month}),l.jsxs("div",{className:"bar-details",children:[l.jsxs("span",{children:[f.occupiedDays," dias ocupados"]}),l.jsxs("span",{children:[f.totalDays," dias totais"]})]})]},g))})})})]})]})]})]})},Y7=(t,e)=>e===0?t>0?100:0:(t-e)/e*100,K7=(t,e)=>{const r=e.getTime()-t.getTime(),n=new Date(t.getTime()-1);return{start:new Date(n.getTime()-r),end:n}},X7=(t,e)=>{const r=new Map;return t.forEach(n=>{let a;const o=n.checkInDate;switch(e){case"day":a=o.toISOString().split("T")[0];break;case"month":a=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;break;case"quarter":{const c=Math.floor(o.getMonth()/3)+1;a=`${o.getFullYear()}-Q${c}`;break}case"year":a=o.getFullYear().toString();break;default:a=o.toISOString().split("T")[0]}r.has(a)||r.set(a,[]),r.get(a).push(n)}),r},vv={async getTopIndicators(t){try{const e=await $r.getAll();let r=this.filterSalesByPeriod(e,t);t.company!=="all"&&(r=r.filter(W=>W.company===t.company)),t.houseId&&(r=r.filter(W=>W.houseId===t.houseId));const n=t.startDate?new Date(t.startDate):new Date,a=t.endDate?new Date(t.endDate):new Date,o=K7(n,a),c=this.filterSalesByPeriod(e,{...t,startDate:o.start.toISOString(),endDate:o.end.toISOString()}),h=r.filter(W=>W.status==="confirmed"||W.status==="pending").length,m=c.filter(W=>W.status==="confirmed"||W.status==="pending").length,f=r.filter(W=>W.checkInDate>new Date&&W.status!=="cancelled").map(W=>({id:W.id,clientName:W.clientName,houseName:W.houseName,checkInDate:W.checkInDate,checkOutDate:W.checkOutDate,numberOfNights:W.numberOfNights,contractValue:W.contractValue})).sort((W,z)=>W.checkInDate.getTime()-z.checkInDate.getTime()),g=new Date().getMonth(),x=new Date().getFullYear(),y=r.filter(W=>W.checkInDate.getMonth()===g&&W.checkInDate.getFullYear()===x),E=r.filter(W=>W.checkInDate.getFullYear()===x),w=y.reduce((W,z)=>W+z.netValue,0),T=E.reduce((W,z)=>W+z.netValue,0),b=y.filter(W=>W.status==="completed").length,D=E.filter(W=>W.status==="completed").length,k=r.reduce((W,z)=>W+z.totalRevenue,0),V=r.length>0?k/r.length:0;return{activeContracts:{count:h,variation:Y7(h,m)},futureReservations:{count:f.length,reservations:f.slice(0,10)},totalDailyRates:{month:{value:w,variation:0},year:{value:T,variation:0}},totalContracts:{month:{count:b,variation:0},year:{count:D,variation:0}},averageTicket:{byHouse:V,bySupplier:0,byConcierge:0,total:V}}}catch(e){throw console.error("Erro ao buscar indicadores de topo:",e),new Error("Falha ao carregar indicadores de topo")}},async getFinancialData(t){try{const e=await $r.getAll();let r=this.filterSalesByPeriod(e,t);t.company!=="all"&&(r=r.filter(x=>x.company===t.company)),t.houseId&&(r=r.filter(x=>x.houseId===t.houseId));const n=r.reduce((x,y)=>x+y.totalRevenue,0),a=r.reduce((x,y)=>x+y.salesCommission+y.totalAdditionalSales,0),o=r.reduce((x,y)=>x+y.totalAdditionalSales,0),c=r.reduce((x,y)=>x+y.conciergeValue,0),h=r.reduce((x,y)=>x+y.housekeeperValue,0),m=await this.calculateContributionMarginByHouse(r),f=this.generateChartData(r,"totalRevenue"),g=this.generateChartData(r,"salesCommission");return{totalSales:{current:n,previous:0,variation:0,chartData:f},totalCommissions:{current:a,previous:0,variation:0,chartData:g},supplierCommissions:{current:o,previous:0,variation:0},concierge:{current:c,previous:0,variation:0},housekeeperPayments:{current:h,previous:0,variation:0},contributionMargin:{byHouse:m,total:{current:m.reduce((x,y)=>x+y.margin,0),previous:0,variation:0}}}}catch(e){throw console.error("Erro ao buscar dados financeiros:",e),new Error("Falha ao carregar dados financeiros")}},async getCommercialIntelligence(t){try{const e=await $r.getAll();let r=this.filterSalesByPeriod(e,t);t.company!=="all"&&(r=r.filter(c=>c.company===t.company)),t.houseId&&(r=r.filter(c=>c.houseId===t.houseId));const n=this.analyzeSalesByMedia(r),a=this.analyzeSalesByGender(r),o=await this.calculateOccupancyRate();return{salesByMedia:n,salesByGender:a,occupancyRate:o}}catch(e){throw console.error("Erro ao buscar inteligncia comercial:",e),new Error("Falha ao carregar inteligncia comercial")}},filterSalesByPeriod(t,e){return!e.startDate&&!e.endDate?t:t.filter(r=>{const n=r.checkInDate,a=e.startDate?new Date(e.startDate):null,o=e.endDate?new Date(e.endDate):null;return!(a&&n<a||o&&n>o)})},async calculateContributionMarginByHouse(t){const e=new Map;t.forEach(n=>{e.has(n.houseId)||e.set(n.houseId,[]),e.get(n.houseId).push(n)});const r=[];for(const[n,a]of e){const o=a.reduce((f,g)=>f+g.totalRevenue,0),c=a.reduce((f,g)=>f+g.salesCommission+g.housekeeperValue+g.totalAdditionalSales,0),h=o-c,m=o>0?h/o*100:0;r.push({houseId:n,houseName:a[0].houseName,totalRevenue:o,totalCosts:c,margin:h,marginPercentage:m})}return r.sort((n,a)=>a.margin-n.margin)},generateChartData(t,e){const r=X7(t,"month"),n=[];return r.forEach((a,o)=>{const c=a.reduce((h,m)=>{const f=m[e];return h+(f||0)},0);n.push({period:o,value:c,label:this.formatPeriodLabel(o,"month")})}),n.sort((a,o)=>a.period.localeCompare(o.period))},analyzeSalesByMedia(t){const e=new Map,r=t.length;t.forEach(o=>{const c=o.saleOrigin;e.has(c)||e.set(c,{count:0,revenue:0});const h=e.get(c);h.count++,h.revenue+=o.totalRevenue});const n=[],a={instagram:"Instagram",facebook:"Facebook",google:"Google",indicacao:"Indicao",whatsapp:"WhatsApp",site:"Site",outros:"Outros"};return e.forEach((o,c)=>{n.push({source:c,sourceLabel:a[c]||c,count:o.count,percentage:r>0?o.count/r*100:0,revenue:o.revenue})}),n.sort((o,c)=>c.count-o.count)},analyzeSalesByGender(t){const e=new Map,r=t.length;t.forEach(o=>{const c=o.clientGender||"not_informed";e.has(c)||e.set(c,{count:0,revenue:0});const h=e.get(c);h.count++,h.revenue+=o.totalRevenue});const n=[],a={male:"Masculino",female:"Feminino",other:"Outro",not_informed:"No informado"};return e.forEach((o,c)=>{n.push({gender:c,genderLabel:a[c]||c,count:o.count,percentage:r>0?o.count/r*100:0,revenue:o.revenue})}),n.sort((o,c)=>c.count-o.count)},async calculateOccupancyRate(){return["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].map((e,r)=>({month:e,monthNumber:r+1,year:new Date().getFullYear(),totalDays:30,occupiedDays:Math.floor(Math.random()*30),rate:Math.floor(Math.random()*100),revenue:Math.floor(Math.random()*5e4)}))},formatPeriodLabel(t,e){if(e==="month"){const[r,n]=t.split("-");return`${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(n)-1]}/${r}`}return t},async getQuickStats(t){const e=await $r.getAll(),r=this.filterSalesByPeriod(e,t),n=r.reduce((g,x)=>g+x.totalRevenue,0),a=r.length,o=a>0?n/a:0,c=new Map;r.forEach(g=>{const x=c.get(g.houseId)||0;c.set(g.houseId,x+g.totalRevenue)});const h=Array.from(c.entries()).sort((g,x)=>x[1]-g[1])[0],m=new Map;r.forEach(g=>{const x=m.get(g.saleOrigin)||0;m.set(g.saleOrigin,x+1)});const f=Array.from(m.entries()).sort((g,x)=>x[1]-g[1])[0];return{totalRevenue:n,totalContracts:a,averageTicket:o,occupancyRate:0,topPerformingHouse:h?h[0]:"",topMediaSource:f?f[0]:""}}},Q7=()=>{const{user:t}=Od(),[e,r]=H.useState(!0),[n,a]=H.useState({period:"month",company:"all",houseId:void 0,viewMode:"consolidated",comparisonMode:"previous-month",startDate:void 0,endDate:void 0}),[o,c]=H.useState(null),[h,m]=H.useState(null),[f,g]=H.useState(null),x=async()=>{try{r(!0);const[b,D,k]=await Promise.all([vv.getTopIndicators(n),vv.getFinancialData(n),vv.getCommercialIntelligence(n)]);c(b),m(D),g(k)}catch(b){console.error("Erro ao carregar dados do dashboard:",b)}finally{r(!1)}};H.useEffect(()=>{x()},[n]);const y=b=>{a(b)},E=b=>{a(b)},w=async b=>{try{console.log(`Exportando dados em formato ${b}`,{filters:n,topIndicators:o,financialData:h,commercialData:f})}catch(D){console.error("Erro ao exportar dados:",D)}},T=()=>{x()};return l.jsxs("div",{className:"dashboard-management",children:[l.jsx("div",{className:"dashboard-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("div",{className:"header-info",children:[l.jsxs("h1",{children:[l.jsx(bl,{size:28,style:{marginRight:"12px",verticalAlign:"middle"}}),"Dashboard Consolidado"]}),l.jsx("p",{className:"dashboard-subtitle",children:"Viso geral completa do negcio com anlises em tempo real"})]}),l.jsxs("div",{className:"header-actions",children:[l.jsxs("button",{className:"action-btn refresh-btn",onClick:T,disabled:e,children:[l.jsx(dd,{size:16,className:e?"spinning":""}),"Atualizar"]}),l.jsxs("div",{className:"export-dropdown",children:[l.jsxs("button",{className:"action-btn export-btn",children:[l.jsx(DN,{size:16}),"Exportar"]}),l.jsxs("div",{className:"dropdown-menu",children:[l.jsx("button",{onClick:()=>w("excel"),children:"Exportar para Excel"}),l.jsx("button",{onClick:()=>w("pdf"),children:"Exportar para PDF"})]})]}),l.jsxs("button",{className:"action-btn settings-btn",children:[l.jsx(Lc,{size:16}),"Configuraes"]})]})]})}),l.jsx("div",{className:"dashboard-filters",children:l.jsx(q7,{filters:n,onFiltersChange:y,onClearFilters:()=>E({period:"month",company:"all",houseId:void 0,viewMode:"consolidated",comparisonMode:"previous-month",startDate:void 0,endDate:void 0}),loading:e})}),l.jsx("div",{className:"dashboard-content",children:e?l.jsxs("div",{className:"dashboard-loading",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Carregando dados do dashboard..."})]}):l.jsxs(l.Fragment,{children:[o&&l.jsx("div",{className:"dashboard-section",children:l.jsx(G7,{data:o,loading:!1})}),h&&l.jsx("div",{className:"dashboard-section",children:l.jsx($7,{data:h,loading:!1})}),f&&l.jsx("div",{className:"dashboard-section",children:l.jsx(W7,{data:f,loading:!1})})]})}),l.jsx("div",{className:"dashboard-footer",children:l.jsxs("div",{className:"footer-content",children:[l.jsxs("div",{className:"footer-info",children:[l.jsxs("span",{className:"last-update",children:["ltima atualizao: ",new Date().toLocaleString("pt-BR")]}),l.jsxs("span",{className:"user-info",children:["Logado como: ",t?.email||"Usurio"]})]}),l.jsxs("div",{className:"footer-stats",children:[l.jsxs("span",{className:"stat-item",children:[l.jsx("strong",{children:"Perodo:"})," ",n.period==="month"?"Mensal":n.period==="year"?"Anual":"Trimestral"]}),l.jsxs("span",{className:"stat-item",children:[l.jsx("strong",{children:"Empresa:"})," ",n.company==="all"?"Todas":n.company]}),l.jsxs("span",{className:"stat-item",children:[l.jsx("strong",{children:"Visualizao:"})," ",n.viewMode==="consolidated"?"Consolidada":"Individual"]})]})]})})]})},J7=({filters:t,onFiltersChange:e,onClearFilters:r,loading:n=!1})=>{const[a,o]=H.useState([]),[c,h]=H.useState(!0),m=[{value:"pending",label:"Pendente",icon:l.jsx(Pd,{size:16})},{value:"in_progress",label:"Em Andamento",icon:l.jsx(IN,{size:16})},{value:"completed",label:"Completo",icon:l.jsx(la,{size:16})},{value:"cancelled",label:"Cancelado",icon:l.jsx(Z1,{size:16})}],f=[{value:"low",label:"Baixa",color:"#10b981",icon:l.jsx(Lc,{size:14})},{value:"medium",label:"Mdia",color:"#f59e0b",icon:l.jsx(Lc,{size:14})},{value:"high",label:"Alta",color:"#ef4444",icon:l.jsx(Lc,{size:14})},{value:"urgent",label:"Urgente",color:"#dc2626",icon:l.jsx(Lc,{size:14})}],g=[{value:"menu_sent",label:"Cardpio Enviado"},{value:"menu_received",label:"Cardpio Recebido"},{value:"shopping_list",label:"Lista de Compras"},{value:"client_approval",label:"Aprovao do Cliente"},{value:"supplier_sent",label:"Enviado para Fornecedores"},{value:"payment_sent",label:"Notas para Pagamento"},{value:"invoices_received",label:"Notas Recebidas"},{value:"receipts_sent",label:"Comprovante Enviado"}];H.useEffect(()=>{(async()=>{try{h(!0);const V=(await Ka.getAll()).filter(W=>W.status==="available"||W.status==="occupied");o(V)}catch(k){console.error("Erro ao carregar casas:",k)}finally{h(!1)}})()},[]);const x=(D,k)=>{e({...t,[D]:k})},y=(D,k)=>{e({...t,dateRange:{...t.dateRange,[D]:k}})},E=()=>{r()},w=D=>D.toISOString().split("T")[0],T=D=>new Date(D+"T00:00:00"),b=()=>t.houseId||t.status||t.priority||t.step||t.showOnlyActive||t.showOnlyOverdue;return l.jsxs("div",{className:"process-filter",children:[l.jsxs("div",{className:"filter-header",children:[l.jsxs("div",{className:"filter-title",children:[l.jsx(J1,{size:20}),l.jsx("h3",{children:"Filtros"})]}),b()&&l.jsxs("button",{className:"clear-filters-btn",onClick:E,disabled:n,title:"Limpar todos os filtros",children:[l.jsx(Zi,{size:16}),"Limpar"]})]}),l.jsxs("div",{className:"filter-content",children:[l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(Eo,{size:16}),"Perodo"]}),l.jsxs("div",{className:"date-inputs",children:[l.jsxs("div",{className:"date-input",children:[l.jsx("label",{children:"Data Inicio"}),l.jsx("input",{type:"date",value:w(t.dateRange.start),onChange:D=>y("start",T(D.target.value)),disabled:n})]}),l.jsxs("div",{className:"date-input",children:[l.jsx("label",{children:"Data Fim"}),l.jsx("input",{type:"date",value:w(t.dateRange.end),onChange:D=>y("end",T(D.target.value)),disabled:n})]})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsxs("label",{className:"filter-label",children:[l.jsx(yn,{size:16}),"Casa"]}),l.jsxs("select",{value:t.houseId||"",onChange:D=>e({...t,houseId:D.target.value}),disabled:n,className:"filter-select",children:[l.jsx("option",{value:"",children:"Todas as Casas"}),a.map(D=>l.jsx("option",{value:D.id,children:D.houseName},D.id))]}),c&&l.jsxs("div",{className:"loading-indicator",children:[l.jsx(dd,{className:"spinning",size:16}),"Carregando casas..."]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{className:"filter-label",children:"Status"}),l.jsx("div",{className:"filter-options",children:m.map(D=>l.jsxs("button",{className:`filter-option ${t.status===D.value?"active":""}`,disabled:n,onClick:()=>x("status",t.status===D.value?void 0:D.value),title:D.label,children:[l.jsx("span",{className:"option-icon",children:D.icon}),l.jsx("span",{className:"option-label",children:D.label})]},D.value))})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{className:"filter-label",children:"Prioridade"}),l.jsx("div",{className:"filter-options",children:f.map(D=>l.jsxs("button",{className:`filter-option priority-${t.priority===D.value?"active":""}`,disabled:n,onClick:()=>x("priority",t.priority===D.value?void 0:D.value),title:D.label,children:[l.jsx("span",{className:"option-icon",style:{color:D.color},children:D.icon}),l.jsx("span",{className:"option-label",children:D.label})]},D.value))})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{className:"filter-label",children:"Etapa"}),l.jsxs("select",{value:t.step||"",disabled:n,className:"filter-select",onChange:D=>x("step",D.target.value||void 0),children:[l.jsx("option",{value:"",children:"Todas as Etapas"}),g.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{className:"filter-label",children:"Opes"}),l.jsxs("div",{className:"filter-checkboxes",children:[l.jsxs("label",{className:"checkbox-option",children:[l.jsx("input",{type:"checkbox",checked:t.showOnlyActive,onChange:D=>x("showOnlyActive",D.target.checked),disabled:n}),l.jsx("span",{className:"checkbox-label",children:"Mostrar apenas processos ativos"})]}),l.jsxs("label",{className:"checkbox-option",children:[l.jsx("input",{type:"checkbox",checked:t.showOnlyOverdue,onChange:D=>x("showOnlyOverdue",D.target.checked),disabled:n}),l.jsx("span",{className:"checkbox-label",children:"Apenas processos atrasados"})]})]})]})]}),b()&&l.jsxs("div",{className:"active-filters",children:[l.jsx("h4",{children:"Filtros Ativos:"}),l.jsxs("div",{className:"active-filters-tags",children:[t.houseId&&l.jsxs("span",{className:"filter-tag",children:["Casa:"," ",a.find(D=>D.id===t.houseId)?.houseName||"N/A",l.jsx("button",{onClick:()=>x("houseId",void 0),children:l.jsx(Zi,{size:12})})]}),t.priority&&l.jsxs("span",{className:"filter-tag",children:["Prioridade:"," ",f.find(D=>D.value===t.priority)?.label,l.jsx("button",{onClick:()=>x("priority",void 0),children:l.jsx(Zi,{size:12})})]}),t.step&&l.jsxs("span",{className:"filter-tag",children:["Etapa:"," ",g.find(D=>D.value===t.step)?.label,l.jsx("button",{onClick:()=>x("step",void 0),children:l.jsx(Zi,{size:12})})]}),t.showOnlyActive&&l.jsxs("span",{className:"filter-tag",children:["Apenas ativos",l.jsx("button",{onClick:()=>x("showOnlyActive",!1),children:l.jsx(Zi,{size:12})})]}),t.showOnlyOverdue&&l.jsxs("span",{className:"filter-tag",children:["Apenas atrasados",l.jsx("button",{onClick:()=>x("showOnlyOverdue",!1),children:l.jsx(Zi,{size:12})})]})]})]})]})},Z7=({metrics:t,loading:e=!1})=>{const r=(m,f)=>f===0?m>0?100:0:(m-f)/f*100,n=m=>{if(m<24)return`${Math.round(m)}h`;const f=Math.floor(m/24),g=Math.round(m%24);return g>0?`${f}d ${g}h`:`${f}d`},a=m=>`${Math.round(m)}%`,o=m=>m>0?l.jsx(bs,{size:16,className:"trend-up"}):m<0?l.jsx(yu,{size:16,className:"trend-down"}):null,c=(m,f=!0)=>m>0?f?"#10b981":"#ef4444":m<0?f?"#ef4444":"#10b981":"#6b7280";if(e||!t)return l.jsx("div",{className:"top-indicators",children:l.jsx("div",{className:"indicators-grid",children:Array.from({length:6}).map((m,f)=>l.jsxs("div",{className:"indicator-card loading",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"skeleton-icon"}),l.jsx("div",{className:"skeleton-title"})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("div",{className:"skeleton-value"}),l.jsx("div",{className:"skeleton-subtitle"}),l.jsx("div",{className:"skeleton-variation"})]})]},f))})});const h=[{id:"total-reservations",title:"Total de Reservas",value:t.totalReservations,previousValue:t.lastMonth.newReservations,icon:l.jsx(Eo,{size:24}),color:"blue",isGoodIncrease:!0,subtitle:"Este ms"},{id:"active-processes",title:"Processos Ativos",value:t.activeConciergeProcesses,previousValue:null,icon:l.jsx(IN,{size:24}),color:"orange",isGoodIncrease:!1,subtitle:"Em andamento"},{id:"completed-processes",title:"Processos Concludos",value:t.completedProcesses,previousValue:t.lastMonth.completedProcesses,icon:l.jsx(la,{size:24}),color:"green",isGoodIncrease:!0,subtitle:"Este ms"},{id:"overdue-processes",title:"Processos Atrasados",value:t.overdueProcesses,previousValue:null,icon:l.jsx(em,{size:24}),color:"red",isGoodIncrease:!1,subtitle:"Precisam ateno"},{id:"average-time",title:"Tempo Mdio",value:n(t.averageProcessTime),previousValue:t.lastMonth.averageTime,icon:l.jsx(Pd,{size:24}),color:"purple",isGoodIncrease:!1,subtitle:"Por processo"},{id:"completion-rate",title:"Taxa de Concluso",value:a(t.completionRate),previousValue:null,icon:l.jsx(bl,{size:24}),color:"teal",isGoodIncrease:!0,subtitle:"Geral"}];return l.jsxs("div",{className:"top-indicators",children:[l.jsxs("div",{className:"indicators-header",children:[l.jsxs("h2",{children:[l.jsx(bl,{size:24}),"Indicadores Principais"]}),l.jsx("p",{children:" Viso geral dos processos e performance"})]}),l.jsx("div",{className:"indicators-grid",children:h.map(m=>{const f=m.previousValue!==null?r(m.value,m.previousValue):null;return l.jsxs("div",{className:`indicator-card ${m.color}`,children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"card-icon",children:m.icon}),l.jsxs("div",{className:"card-title",children:[l.jsx("h3",{children:m.title}),l.jsx("span",{className:"card-subtitle",children:m.subtitle})]})]}),l.jsxs("div",{className:"card-content",children:[l.jsx("div",{className:"card-value",children:typeof m.value=="number"?m.value.toLocaleString():m.value}),f!==null&&l.jsxs("div",{className:"card-variation",children:[l.jsxs("span",{className:"variation-value",style:{color:c(f,m.isGoodIncrease)},children:[f>0?"+":"",Math.round(f),"%"]}),l.jsx("span",{className:"variation-icon",children:o(f)}),l.jsx("span",{className:"variation-label",children:"vs mes anterior"})]})]}),m.id==="overdue-process"&&t.overdueProcesses>0&&l.jsx("div",{className:"critical-badge",children:"Ateno necessria"}),m.id==="completion-rate"&&t.completionRate>=90&&l.jsx("div",{className:"excellent-badge",children:"Excelente performance"})]},m.id)})}),l.jsx("div",{className:"executive-summary",children:l.jsxs("div",{className:"summary-card",children:[l.jsx("h3",{children:"Resumo Executivo"}),l.jsxs("div",{className:"summary-content",children:[l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Status geral:"}),l.jsx("span",{className:`summary-value ${t.overdueProcesses===0&&t.completionRate>=80?"status-good":t.overdueProcesses>5||t.completionRate<60?"status-critical":"status-warning"}`,children:t.overdueProcesses===0&&t.completionRate>=80?"Excelente":t.overdueProcesses>5||t.completionRate<60?"Crtico":"Ateno"})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Processos em andamento:"}),l.jsx("span",{className:"summary-value",children:t.activeConciergeProcesses})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Eficicncia:"}),l.jsx("span",{className:"summary-value",children:a(t.completionRate)})]})]})]})})]})},pC=["menu_sent","menu_received","shopping_list","client_approval","supplier_sent","payment_sent","invoices_received","receipts_sent"],gC={menu_sent:"Cardpio Enviado",menu_received:"Cardpio Recebido",shopping_list:"Lista de Compras",client_approval:"Aprovao do Cliente",supplier_sent:"Enviado para Fornecedores",payment_sent:"Notas para Pagamento",invoices_received:"Notas Recebidas",receipts_sent:"Comprovante Enviado"},qr=t=>t instanceof Date?t:t.toDate(),As=t=>nt.fromDate(t),eU=async t=>{try{const e=Lr(ct,"sales"),r=St(e,It("checkIn",">=",As(t.dateRange.start)),It("checkIn","<=",As(t.dateRange.end)),mi("checkIn","asc")),n=await ja(r),a=[];return n.forEach(o=>{const c=o.data();if(t.houseId&&c.houseId!==t.houseId||t.status&&c.status!==t.status)return;const h={id:o.id,clientName:c.clientName||"",clientEmail:c.clientEmail||"",clientPhone:c.clientPhone||"",houseId:c.houseId||"",houseName:c.houseName||"",checkIn:qr(c.checkIn),checkOut:qr(c.checkOut),totalDays:c.totalDays||0,totalValue:c.totalValue||0,conciergeRequired:c.conciergeRequired||!1,conciergeProcessId:c.conciergeProcessId||void 0,status:c.status||"pending",createdAt:qr(c.createdAt),updatedAt:qr(c.updatedAt)};a.push(h)}),a}catch(e){throw console.error("Erro ao buscar reservas futuras:",e),new Error("Falha ao carregar reservas futuras")}},tU=async t=>{try{const e=Lr(ct,"conciergeProcesses");let r=St(e,It("createdAt",">=",As(t.dateRange.start)),It("createdAt","<=",As(t.dateRange.end)),mi("createdAt","desc"));t.houseId&&(r=St(r,It("houseId","==",t.houseId))),t.status&&(r=St(r,It("status","==",t.status))),t.priority&&(r=St(r,It("priority","==",t.priority))),t.step&&(r=St(r,It("currentStep","==",t.step)));const n=await ja(r),a=[];return n.forEach(o=>{const c=o.data(),h={id:o.id,reservationId:c.reservationId||"",clientName:c.clientName||"",houseName:c.houseName||"",checkIn:qr(c.checkIn),checkOut:qr(c.checkOut),currentStep:c.currentStep||"menu_sent",status:c.status||"pending",priority:c.priority||"medium",createdAt:qr(c.createdAt),updatedAt:qr(c.updatedAt),steps:{menuSent:{completed:c.steps?.menuSent?.completed||!1,completedAt:c.steps?.menuSent?.completedAt?qr(c.steps.menuSent.completedAt):void 0,notes:c.steps?.menuSent?.notes||void 0},menuReceived:{completed:c.steps?.menuReceived?.completed||!1,completedAt:c.steps?.menuReceived?.completedAt?qr(c.steps.menuReceived.completedAt):void 0,notes:c.steps?.menuReceived?.notes||void 0},shoppingList:{completed:c.steps?.shoppingList?.completed||!1,completedAt:c.steps?.shoppingList?.completedAt?qr(c.steps.shoppingList.completedAt):void 0,notes:c.steps?.shoppingList?.notes||void 0,listItems:c.steps?.shoppingList?.listItems||void 0},clientApproval:{completed:c.steps?.clientApproval?.completed||!1,completedAt:c.steps?.clientApproval?.completedAt?qr(c.steps.clientApproval.completedAt):void 0,notes:c.steps?.clientApproval?.notes||void 0,approved:c.steps?.clientApproval?.approved||void 0},supplierSent:{completed:c.steps?.supplierSent?.completed||!1,completedAt:c.steps?.supplierSent?.completedAt?qr(c.steps.supplierSent.completedAt):void 0,notes:c.steps?.supplierSent?.notes||void 0,suppliers:c.steps?.supplierSent?.suppliers||void 0},paymentSent:{completed:c.steps?.paymentSent?.completed||!1,completedAt:c.steps?.paymentSent?.completedAt?qr(c.steps.paymentSent.completedAt):void 0,notes:c.steps?.paymentSent?.notes||void 0,amount:c.steps?.paymentSent?.amount||void 0},invoicesReceived:{completed:c.steps?.invoicesReceived?.completed||!1,completedAt:c.steps?.invoicesReceived?.completedAt?qr(c.steps.invoicesReceived.completedAt):void 0,notes:c.steps?.invoicesReceived?.notes||void 0,invoiceCount:c.steps?.invoicesReceived?.invoiceCount||void 0},receiptsSent:{completed:c.steps?.receiptsSent?.completed||!1,completedAt:c.steps?.receiptsSent?.completedAt?qr(c.steps.receiptsSent.completedAt):void 0,notes:c.steps?.receiptsSent?.notes||void 0}},metrics:{totalDuration:c.metrics?.totalDuration||0,averageStepTime:c.metrics?.averageStepTime||0,overdueSteps:c.metrics?.overdueSteps||0,completedSteps:c.metrics?.completedSteps||0,totalSteps:pC.length}};a.push(h)}),a}catch(e){throw console.error("Erro ao buscar processos de concierge:",e),new Error("Falha ao carregar processos de concierge")}},rU=async t=>{try{const e=Lr(ct,"notifications"),r=St(e,It("createdAt",">=",As(t.dateRange.start)),It("createdAt","<=",As(t.dateRange.end)),mi("createdAt","desc")),n=await ja(r),a=[];return n.forEach(o=>{const c=o.data(),h={id:o.id,type:c.type||"process_update",title:c.title||"",message:c.message||"",priority:c.priority||"medium",relatedId:c.relatedId||"",relatedType:c.relatedType||"concierge_process",isRead:c.isRead||!1,isActive:c.isActive||!0,createdAt:qr(c.createdAt),scheduledFor:c.scheduledFor?qr(c.scheduledFor):void 0,actionRequired:c.actionRequired||!1,actionUrl:c.actionUrl||void 0,metadata:c.metadata||void 0};a.push(h)}),a}catch(e){throw console.error("Erro ao buscar notificaes:",e),new Error("Falha ao carregar notificaes")}},nU=(t,e)=>{const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()-1,1),o=t.length,c=e.filter(Q=>Q.status==="in_progress").length,h=e.filter(Q=>Q.status==="completed").length,m=e.filter(Q=>Q.metrics.overdueSteps>0).length,f=e.filter(Q=>Q.status==="completed"&&Q.metrics.totalDuration>0),g=f.length>0?f.reduce((Q,I)=>Q+I.metrics.totalDuration,0)/f.length:0,x=e.length>0?h/e.length*100:0,y=t.filter(Q=>Q.createdAt>=n),w=e.filter(Q=>Q.createdAt>=n).filter(Q=>Q.status==="completed"),T=w.length>0?w.reduce((Q,I)=>Q+I.metrics.totalDuration,0)/w.length:0,b=t.filter(Q=>Q.createdAt>=a&&Q.createdAt<n),k=e.filter(Q=>Q.createdAt>=a&&Q.createdAt<n).filter(Q=>Q.status==="completed"),V=k.length>0?k.reduce((Q,I)=>Q+I.metrics.totalDuration,0)/k.length:0,W=new Map;e.forEach(Q=>{W.has(Q.houseName)||W.set(Q.houseName,{houseName:Q.houseName,processes:[]}),W.get(Q.houseName).processes.push(Q)});const z=Array.from(W.values()).map(Q=>{const I=Q.processes.length,A=Q.processes.filter(N=>N.status==="completed").length,C=A>0?Q.processes.filter(N=>N.status==="completed").reduce((N,O)=>N+O.metrics.totalDuration,0)/A:0,P=I>0?A/I*100:0;return{houseId:Q.processes[0]?.houseName||"",houseName:Q.houseName,totalProcesses:I,completedProcesses:A,averageTime:C,completionRate:P}});return{totalReservations:o,activeConciergeProcesses:c,completedProcesses:h,overdueProcesses:m,averageProcessTime:g,completionRate:x,thisMonth:{newReservations:y.length,completedProcesses:w.length,averageTime:T},lastMonth:{newReservations:b.length,completedProcesses:k.length,averageTime:V},byHouse:z}},aU=(t,e)=>{const r=[],n=new Date;n.setDate(n.getDate()-30);for(let h=0;h<30;h++){const m=new Date(n);m.setDate(m.getDate()+h);const f=m.toISOString().split("T")[0],g=e.filter(x=>new Date(x.createdAt).toISOString().split("T")[0]===f);r.push({date:f,completed:g.filter(x=>x.status==="completed").length,pending:g.filter(x=>x.status==="pending").length,overdue:g.filter(x=>x.metrics.overdueSteps>0).length})}const a=pC.map(h=>{const m=e.filter(y=>y.currentStep===h),f=e.filter(y=>{const E=y.steps[h];return E&&E.completed}),g=f.length>0?f.reduce((y,E)=>y+E.metrics.averageStepTime,0)/f.length:0,x=m.length>0?f.length/m.length*100:0;return{step:h,stepLabel:gC[h],averageTime:g,completionRate:x,totalProcesses:m.length}}),o=new Map;e.forEach(h=>{o.has(h.houseName)||o.set(h.houseName,[]),o.get(h.houseName).push(h)});const c=Array.from(o.entries()).map(([h,m])=>{const f=m.length,g=m.filter(E=>E.status==="completed").length,x=g>0?m.filter(E=>E.status==="completed").reduce((E,w)=>E+w.metrics.totalDuration,0)/g:0,y=f>0?g/f*100:0;return{houseId:h,houseName:h,totalProcesses:f,completedProcesses:g,completionRate:y,averageTime:x}});return{processCompletion:r,stepPerformance:a,housePerformance:c}},sU=async(t,e,r,n,a,o="medium",c,h)=>{try{const m=Lr(ct,"notifications"),f={type:t,title:e,message:r,priority:o,relatedId:n,relatedType:a,isRead:!1,isActive:!0,createdAt:As(new Date),scheduledFor:c?As(c):null,actionRequired:o==="high"||o==="urgent",actionUrl:void 0,metadata:h||null};await Pl(m,f)}catch(m){throw console.error("Erro ao criar notificao:",m),new Error("Falha ao criar notificao")}},iU=async(t,e,r)=>{try{const n=ar(ct,"conciergeProcesses",t),a={currentStep:e,updatedAt:As(new Date),[`steps.${e}.completed`]:!0,[`steps.${e}.completedAt`]:As(new Date),...r&&{[`steps.${e}.notes`]:r}};await Ol(n,a),await sU("process_update","Processo Atualizado",`Etapa "${gC[e]}" foi concluda`,t,"concierge_process","medium")}catch(n){throw console.error("Erro ao avanar etapa do processo:",n),new Error("Falha ao atualizar processo")}},oU=({processes:t,loading:e=!1,onRefresh:r})=>{const[n,a]=H.useState(null),[o,c]=H.useState(null),[h,m]=H.useState(""),[f,g]=H.useState(!1),x={menu_sent:"Cardpio Enviado",menu_received:"Cardpio Recebido",shopping_list:"Lista de Compras",client_approval:"Aprovao do Cliente",supplier_sent:"Fornecedor Enviado",payment_sent:"Pagamento Enviado",invoices_received:"Faturas Recebidas",receipts_sent:"Recibos Enviados"},y=["menu_sent","menu_received","shopping_list","client_approval","supplier_sent","payment_sent","invoices_received","receipts_sent"],E={menu_sent:"menuSent",menu_received:"menuReceived",shopping_list:"shoppingList",client_approval:"clientApproval",supplier_sent:"supplierSent",payment_sent:"paymentSent",invoices_received:"invoicesReceived",receipts_sent:"receiptsSent"},w=C=>({low:"#10b981",medium:"#f59e0b",high:"#ef4444",urgent:"#dc2626"})[C],T=C=>({low:"Baixa",medium:"Mdia",high:"Alta",urgent:"Urgente"})[C],b=C=>new Date(C).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),D=C=>{const P=new Date,O=new Date(C).getTime()-P.getTime();return Math.ceil(O/(1e3*60*60*24))},k=C=>{const P=y.indexOf(C);return P===-1||P===y.length-1?null:y[P+1]},V=(C,P)=>{const N=k(P);N&&(c({processId:C,step:N,stepLabel:x[N]}),m(""))},W=async()=>{if(o)try{g(!0),await iU(o.processId,o.step,h||void 0),c(null),m(""),r()}catch(C){console.error("Erro ao avanar etapa:",C)}finally{g(!1)}},z=()=>{c(null),m("")},Q=C=>{a(n===C?null:C)},I=C=>{const P=y.filter(O=>C.steps[E[O]].completed).length,N=P/y.length*100;return l.jsxs("div",{className:"step-progress",children:[l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${N}%`}})}),l.jsxs("span",{className:"progress-text",children:[P," de ",y.length," etapas"]})]})},A=C=>l.jsx("div",{className:"process-steps",children:y.map((P,N)=>{const O=C.steps[E[P]],L=C.currentStep===P,We=O.completed,He=N>0&&y[N-1]===C.currentStep;return l.jsxs("div",{className:`step-item ${We?"completed":""} ${L?"current":""} ${He?"next":""}`,children:[l.jsx("div",{className:"step-icon",children:We?l.jsx(la,{size:20}):L?l.jsx(Pd,{size:20}):l.jsx("div",{className:"step-number",children:N+1})}),l.jsxs("div",{className:"step-info",children:[l.jsx("h4",{children:x[P]}),O.completedAt&&l.jsx("span",{className:"step-date",children:b(O.completedAt)}),O.notes&&l.jsx("p",{className:"step-notes",children:O.notes})]}),N<y.length-1&&l.jsx(jN,{className:"step-arrow",size:16})]},P)})});return e?l.jsxs("div",{className:"process-block",children:[l.jsx("div",{className:"block-header",children:l.jsx("div",{className:"skeleton-title"})}),l.jsx("div",{className:"processes-list",children:Array.from({length:3}).map((C,P)=>l.jsx("div",{className:"process-card loading",children:l.jsx("div",{className:"skeleton-content"})},P))})]}):t.length===0?l.jsxs("div",{className:"process-block",children:[l.jsx("div",{className:"block-header",children:l.jsxs("h2",{children:[l.jsx(RT,{size:20}),"Processos de Concierge"]})}),l.jsxs("div",{className:"empty-state",children:[l.jsx(la,{size:60}),l.jsx("h3",{children:"Nenhum processo encontrado"}),l.jsx("p",{children:"No h processos de concierge para os filtros selecionados."})]})]}):l.jsxs("div",{className:"process-block",children:[l.jsxs("div",{className:"block-header",children:[l.jsxs("h2",{children:[l.jsx(RT,{size:24}),"Processos de Concierge"]}),l.jsxs("span",{className:"process-count",children:[t.length," ",t.length>1?"processos":"processo"]})]}),l.jsx("div",{className:"processes-list",children:t.map(C=>{const P=n===C.id,N=D(C.checkIn),O=N<=3,L=k(C.currentStep);return l.jsxs("div",{className:`process-card ${C.status} ${O?"urgent":""}`,children:[l.jsxs("div",{className:"card-header",onClick:()=>Q(C.id),children:[l.jsxs("div",{className:"card-main-info",children:[l.jsxs("div",{className:"client-info",children:[l.jsx(Wh,{size:18}),l.jsx("h3",{children:C.clientName})]}),l.jsxs("div",{className:"house-info",children:[l.jsx(yn,{size:18}),l.jsx("span",{children:C.houseName})]})]}),l.jsxs("div",{className:"card-meta",children:[l.jsx("div",{className:"priority-badge",style:{backgroundColor:w(C.priority),color:"white"},children:T(C.priority)}),l.jsxs("div",{className:"checkin-info",children:[l.jsx(Eo,{size:14}),l.jsx("span",{children:b(C.checkIn)}),O&&l.jsxs("span",{className:"urgent-badge",children:[l.jsx(em,{size:14}),N," dias"]})]})]})]}),l.jsxs("div",{className:"card-progress",children:[I(C),l.jsx("div",{className:"current-step-badge",children:x[C.currentStep]})]}),l.jsxs("div",{className:"card-actions",children:[L&&C.status==="in_progress"&&l.jsxs("button",{className:"advance-btn",onClick:()=>V(C.id,C.currentStep),children:[l.jsx(Wv,{size:16}),"Avanar para ",x[L]]}),l.jsxs("button",{className:"details-btn",onClick:()=>Q(C.id),children:[l.jsx(Ml,{size:16}),P?"Ocultar":"Ver"," Detalhes"]})]}),P&&l.jsxs("div",{className:"card-details",children:[l.jsxs("div",{className:"details-header",children:[l.jsx("h4",{children:"Etapas do Processo"}),l.jsxs("div",{className:"process-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Tempo Total: "}),l.jsxs("span",{className:"metric-value",children:[Math.round(C.metrics.totalDuration),"h"]})]}),l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-label",children:["Etapas Concluidas:"," "]}),l.jsxs("span",{className:"metric-value",children:[C.metrics.completedSteps,"/",C.metrics.totalSteps]})]}),C.metrics.overdueSteps>0&&l.jsxs("div",{className:"metric warning",children:[l.jsx(em,{size:14}),l.jsxs("span",{className:"metric-value",children:[C.metrics.overdueSteps," atrasadas"]})]})]})]}),A(C)]})]},C.id)})}),o&&l.jsx("div",{className:"modal-overlay",onClick:z,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Avanar Etapa"}),l.jsx("button",{className:"close-btn",onClick:z,children:l.jsx(Zi,{size:20})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{children:"Confirma o avano para a etapa: "}),l.jsxs("div",{className:"step-highlight",children:[l.jsx(Wv,{size:20}),l.jsx("strong",{children:o.stepLabel})]}),l.jsxs("div",{className:"notes-input",children:[l.jsx("label",{children:" Observaes (Opcional):"}),l.jsx("textarea",{value:h,onChange:C=>m(C.target.value),placeholder:"Adicione observaes sobre esta etapa...",rows:4,disabled:f})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{className:"cancel-btn",onClick:z,disabled:f,children:"Cancelar"}),l.jsx("button",{className:"confirm-btn",onClick:W,disabled:f,children:f?"Avanando...":"Confirmar"})]})]})})]})},lU=()=>{const[t,e]=H.useState({dateRange:{start:new Date(new Date().setDate(1)),end:new Date(new Date().setMonth(new Date().getMonth()+1,0))},showOnlyActive:!1,showOnlyOverdue:!1}),[r,n]=H.useState(null),[a,o]=H.useState(!0),[c,h]=H.useState(null),[m,f]=H.useState(!1),g=H.useCallback(async()=>{try{h(null);const[E,w,T]=await Promise.all([eU(t),tU(t),rU(t)]),b=nU(E,w),D=aU(E,w);n({reservations:E,conciergeProcesses:w,notifications:T,metrics:b,charts:D})}catch(E){console.error("Erro ao buscar dados do dashboard:",E),h("Erro ao carregar dados do dashboard. Por favor, tente novamente.")}finally{o(!1),f(!1)}},[t]);H.useEffect(()=>{o(!0),g()},[g]);const x=E=>{e(E)},y=()=>{f(!0),g()};return l.jsxs("div",{className:"dashboard-management",children:[l.jsxs("div",{className:"dashboard-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Dashboard de Processos"}),l.jsx("p",{className:"header-subtitle",children:"Acompanhe reservas futuras e processos de concierge em tempo real"})]}),l.jsxs("button",{className:"refresh-btn",onClick:y,disabled:m,children:[l.jsx(dd,{size:18,className:m?"spinning":""}),m?"Atualizando...":"Atualizar"]})]}),l.jsx(J7,{filters:t,onFiltersChange:x,onClearFilters:()=>e({dateRange:{start:new Date(new Date().setDate(1)),end:new Date(new Date().setMonth(new Date().getMonth()+1,0))},showOnlyActive:!1,showOnlyOverdue:!1})}),c&&l.jsxs("div",{className:"error-banner",children:[l.jsx(zm,{size:20}),l.jsx("span",{children:c}),l.jsx("button",{onClick:y,children:"Tentar novamente"})]}),l.jsxs("div",{className:"dashboard-content",children:[l.jsx(Z7,{metrics:r?.metrics,loading:a}),l.jsx(oU,{processes:r?.conciergeProcesses||[],loading:a,onRefresh:y}),l.jsxs("div",{className:"reservations-block",children:[l.jsxs("div",{className:"block-header",children:[l.jsx("h2",{children:"Prximas Reservas"}),l.jsxs("span",{className:"reservation-count",children:[r?.reservations.length||0," reserva(s)"]})]}),a?l.jsx("div",{className:"reservations-list",children:Array.from({length:3}).map((E,w)=>l.jsx("div",{className:"reservation-card loading",children:l.jsx("div",{className:"skeleton-content"})},w))}):r&&r.reservations.length>0?l.jsx("div",{className:"reservations-list",children:r.reservations.map(E=>{const w=new Date(E.checkIn),T=new Date(E.checkOut),b=Math.ceil((w.getTime()-new Date().getTime())/(1e3*60*60*24)),D=b<=10;return l.jsxs("div",{className:`reservation-card ${D?"urgent":""}`,children:[l.jsxs("div",{className:"reservation-info",children:[l.jsxs("div",{className:"client-details",children:[l.jsx("h3",{children:E.clientName}),l.jsx("p",{className:"house-name",children:E.houseName})]}),l.jsxs("div",{className:"date-details",children:[l.jsxs("div",{className:"date-row",children:[l.jsx("span",{className:"date-label",children:"Check-in:"}),l.jsx("span",{className:"date-value",children:w.toLocaleDateString("pt-BR")})]}),l.jsxs("div",{className:"date-row",children:[l.jsx("span",{className:"date-label",children:"Check-out:"}),l.jsx("span",{className:"date-value",children:T.toLocaleDateString("pt-BR")})]})]}),l.jsxs("div",{className:"reservation-meta",children:[l.jsxs("span",{className:"total-days",children:[E.totalDays," diria(s)"]}),D&&l.jsxs("span",{className:"urgent-badge",children:[b," dia(s) restante(s)"]}),E.conciergeRequired&&l.jsx("span",{className:"concierge-badge",children:"Concierge necessrio"})]})]}),l.jsx("div",{className:"reservation-status",children:l.jsx("span",{className:`status-badge ${E.status}`,children:E.status==="confirmed"?"Confirmado":E.status==="pending"?"Pendente":"Cancelado"})})]},E.id)})}):l.jsx("div",{className:"empty-state",children:l.jsx("p",{children:"Nenhuma reserva futura encontrada para os filtros selecionados."})})]}),r&&r.notifications.length>0&&l.jsxs("div",{className:"notifications-block",children:[l.jsxs("div",{className:"block-header",children:[l.jsx("h2",{children:"Notificaes"}),l.jsxs("span",{className:"notification-count",children:[r.notifications.filter(E=>!E.isRead).length," ","no lida(s)"]})]}),l.jsx("div",{className:"notifications-list",children:r.notifications.slice(0,5).map(E=>l.jsxs("div",{className:`notification-card ${E.isRead?"read":"unread"} ${E.priority}`,children:[l.jsxs("div",{className:"notification-content",children:[l.jsx("h4",{children:E.title}),l.jsx("p",{children:E.message}),l.jsx("span",{className:"notification-date",children:new Date(E.createdAt).toLocaleString("pt-BR")})]}),!E.isRead&&l.jsx("div",{className:"unread-indicator"})]},E.id))})]})]})]})},cU=()=>{function t(){return l.jsx("div",{children:"Menu"})}return l.jsx(NP,{children:l.jsxs(nP,{children:[l.jsx(Vn,{path:Hr.home,element:l.jsx(ST,{})}),l.jsx(Vn,{path:Hr.login,element:l.jsx(ST,{})}),l.jsx(Vn,{path:Hr.register,element:l.jsx(LP,{})}),l.jsx(Vn,{path:Hr.menu,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(t,{})})})}),l.jsx(Vn,{path:Hr.clients,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(vM,{})})})}),l.jsx(Vn,{path:Hr.owners,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(TM,{})})})}),l.jsx(Vn,{path:Hr.suppliers,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(AM,{})})})}),l.jsx(Vn,{path:Hr.employees,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(IM,{})})})}),l.jsx(Vn,{path:Hr.houses,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(FM,{})})})}),l.jsx(Vn,{path:Hr.sales,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(zM,{})})})}),l.jsx(Vn,{path:Hr.financial,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(H7,{})})})}),l.jsx(Vn,{path:Hr.dashboardConsolidacao,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(Q7,{})})})}),l.jsx(Vn,{path:Hr.dashboardProcessos,element:l.jsx(fs,{children:l.jsx(ms,{children:l.jsx(lU,{})})})})]})})};function uU(){return l.jsx(d6,{children:l.jsx(cU,{})})}e4.createRoot(document.getElementById("root")).render(l.jsx(H.StrictMode,{children:l.jsx(uU,{})}));
